function Cn(w,I){return w(typeof I=="string"?{locateFile:()=>I}:{wasmBinary:I})}function ei(w,I){const{data:J,width:i,height:Z,depth:cr=8}=w;if(I===cr)return w;const wr=i*Z*4,_r=new Uint8ClampedArray(wr),gr=cr===8?J:new Uint16Array(J.buffer,J.byteOffset),sr=(1<<cr)-1,pt=(1<<I)-1;for(let Qr=0;Qr<wr;Qr++)_r[Qr]=gr[Qr]/sr*pt+.5;const Y=new Uint8ClampedArray(_r.buffer,_r.byteOffset,_r.byteLength);return _icodec_ImageData(Y,i,Z,I)}class ti{data;width;height;depth;constructor(I,J,i,Z=8){this.data=I,this.width=J,this.height=i,this.depth=Z}}ti.prototype.colorSpace="srgb";function Zn(w,I,J,i,Z){Z={...J,...Z};const{data:cr,width:wr,height:_r}=i;Z.bitDepth=i.depth??8;const gr=I.encode(cr,wr,_r,Z);return On(gr,w)}function On(w,I){if(typeof w=="string")throw new Error(`${I}: ${w}`);if(w)return w;throw new Error(I+" failed")}var ko=(()=>{var w=import.meta.url;return(function(I={}){var J,i=I,Z,cr,wr=new Promise((v,g)=>{Z=v,cr=g}),_r=Object.assign({},i),gr=(v,g)=>{throw g},sr="";function pt(v){return i.locateFile?i.locateFile(v,sr):sr+v}var Y;typeof document<"u"&&document.currentScript&&(sr=document.currentScript.src),w&&(sr=w),sr.startsWith("blob:")?sr="":sr=sr.substr(0,sr.replace(/[?#].*/,"").lastIndexOf("/")+1),Y=v=>fetch(v,{credentials:"same-origin"}).then(g=>g.ok?g.arrayBuffer():Promise.reject(new Error(g.status+" : "+g.url)));var Qr=i.print||console.log.bind(console),Fr=i.printErr||console.error.bind(console);Object.assign(i,_r),_r=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram;var Xr=i.wasmBinary,Jr,xr=!1,vr,lr,Q,Nr,Cr,ur,ar,Re,Ie;function re(){var v=Jr.buffer;i.HEAP8=lr=new Int8Array(v),i.HEAP16=Nr=new Int16Array(v),i.HEAPU8=Q=new Uint8Array(v),i.HEAPU16=Cr=new Uint16Array(v),i.HEAP32=ur=new Int32Array(v),i.HEAPU32=ar=new Uint32Array(v),i.HEAPF32=Re=new Float32Array(v),i.HEAPF64=Ie=new Float64Array(v)}var we=[],qr=[],at=[];function kt(){var v=i.preRun;v&&(typeof v=="function"&&(v=[v]),v.forEach(Yt)),be(we)}function it(){be(qr)}function We(){var v=i.postRun;v&&(typeof v=="function"&&(v=[v]),v.forEach(ee)),be(at)}function Yt(v){we.unshift(v)}function Jt(v){qr.unshift(v)}function ee(v){at.unshift(v)}var Tr=0,ne=null;function qt(v){Tr++,i.monitorRunDependencies?.(Tr)}function _t(v){if(Tr--,i.monitorRunDependencies?.(Tr),Tr==0&&ne){var g=ne;ne=null,g()}}function ae(v){i.onAbort?.(v),v="Aborted("+v+")",Fr(v),xr=!0,v+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(v);throw cr(g),g}var ht="data:application/octet-stream;base64,",ze=v=>v.startsWith(ht);function Qe(){if(i.locateFile){var v="avif-enc.wasm";return ze(v)?v:pt(v)}return new URL(""+new URL("../assets/avif-enc-CL1PFR12.wasm",import.meta.url).href,import.meta.url).href}var de;function ot(v){if(v==de&&Xr)return new Uint8Array(Xr);throw"both async and sync fetching of the wasm failed"}function gt(v){return Xr?Promise.resolve().then(()=>ot(v)):Y(v).then(g=>new Uint8Array(g),()=>ot(v))}function yt(v,g,C){return gt(v).then(P=>WebAssembly.instantiate(P,g)).then(C,P=>{Fr(`failed to asynchronously prepare wasm: ${P}`),ae(P)})}function Kt(v,g,C,P){return!v&&typeof WebAssembly.instantiateStreaming=="function"&&!ze(g)&&typeof fetch=="function"?fetch(g,{credentials:"same-origin"}).then(O=>{var N=WebAssembly.instantiateStreaming(O,C);return N.then(P,function(K){return Fr(`wasm streaming compile failed: ${K}`),Fr("falling back to ArrayBuffer instantiation"),yt(g,C,P)})}):yt(g,C,P)}function fn(){return{a:r}}function mt(){var v=fn();function g(P,O){return t=P.exports,Jr=t.$,re(),tt=t.ca,Jt(t.aa),_t(),t}qt();function C(P){g(P.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(v,g)}catch(P){Fr(`Module.instantiateWasm callback failed with error: ${P}`),cr(P)}return de??=Qe(),Kt(Xr,de,v,C).catch(cr),{}}function Te(v){this.name="ExitStatus",this.message=`Program terminated with exit(${v})`,this.status=v}var be=v=>{v.forEach(g=>g(i))},Ae=i.noExitRuntime||!0,Pr=v=>k(v),$r=()=>W(),pe=new TextDecoder,mr=(v,g)=>{if(!v)return"";for(var C=v+g,P=v;!(P>=C)&&Q[P];)++P;return pe.decode(Q.subarray(v,P))},Hr=(v,g,C,P)=>{ae(`Assertion failed: ${mr(v)}, at: `+[g?mr(g):"unknown filename",C,P?mr(P):"unknown function"])};function Mr(v,g,C){return 0}function le(v,g,C){return 0}function Ne(v,g,C,P){}var jr=()=>{ae("")},ie={},Ee=v=>{for(;v.length;){var g=v.pop(),C=v.pop();C(g)}};function Ue(v){return this.fromWireType(ar[v>>2])}var Ce={},br={},fr={},oe,Rr=v=>{throw new oe(v)},Ir=(v,g,C)=>{v.forEach(q=>fr[q]=g);function P(q){var G=C(q);G.length!==v.length&&Rr("Mismatched type converter count");for(var er=0;er<v.length;++er)Kr(v[er],G[er])}var O=new Array(g.length),N=[],K=0;g.forEach((q,G)=>{br.hasOwnProperty(q)?O[G]=br[q]:(N.push(q),Ce.hasOwnProperty(q)||(Ce[q]=[]),Ce[q].push(()=>{O[G]=br[q],++K,K===N.length&&P(O)}))}),N.length===0&&P(O)},Wr=v=>{var g=ie[v];delete ie[v];var C=g.rawConstructor,P=g.rawDestructor,O=g.fields,N=O.map(K=>K.getterReturnType).concat(O.map(K=>K.setterArgumentType));Ir([v],N,K=>{var q={};return O.forEach((G,er)=>{var pr=G.fieldName,kr=K[er],me=G.getter,Nt=G.getterContext,yn=K[er+O.length],Qn=G.setter,ra=G.setterContext;q[pr]={read:kn=>kr.fromWireType(me(Nt,kn)),write:(kn,ea)=>{var Rn=[];Qn(ra,kn,yn.toWireType(Rn,ea)),Ee(Rn)}}}),[{name:g.name,fromWireType:G=>{var er={};for(var pr in q)er[pr]=q[pr].read(G);return P(G),er},toWireType:(G,er)=>{for(var pr in q)if(!(pr in er))throw new TypeError(`Missing field: "${pr}"`);var kr=C();for(pr in q)q[pr].write(kr,er[pr]);return G!==null&&G.push(P,kr),kr},argPackAdvance:Zr,readValueFromPointer:Ue,destructorFunction:P}]})},Br=(v,g,C,P,O)=>{},Dr=()=>{for(var v=new Array(256),g=0;g<256;++g)v[g]=String.fromCharCode(g);dr=v},dr,Ar=v=>{for(var g="",C=v;Q[C];)g+=dr[Q[C++]];return g},ve,Ur=v=>{throw new ve(v)};function Se(v,g,C={}){var P=g.name;if(v||Ur(`type "${P}" must have a positive integer typeid pointer`),br.hasOwnProperty(v)){if(C.ignoreDuplicateRegistrations)return;Ur(`Cannot register type '${P}' twice`)}if(br[v]=g,delete fr[v],Ce.hasOwnProperty(v)){var O=Ce[v];delete Ce[v],O.forEach(N=>N())}}function Kr(v,g,C={}){return Se(v,g,C)}var Zr=8,bt=(v,g,C,P)=>{g=Ar(g),Kr(v,{name:g,fromWireType:function(O){return!!O},toWireType:function(O,N){return N?C:P},argPackAdvance:Zr,readValueFromPointer:function(O){return this.fromWireType(Q[O])},destructorFunction:null})},Ye=[],yr=[],$e=v=>{v>9&&--yr[v+1]===0&&(yr[v]=void 0,Ye.push(v))},rt=()=>yr.length/2-5-Ye.length,je=()=>{yr.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=rt},Fe={toValue:v=>(v||Ur("Cannot use deleted val. handle = "+v),yr[v]),toHandle:v=>{switch(v){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const g=Ye.pop()||yr.length;return yr[g]=v,yr[g+1]=1,g}}}},Gr={name:"emscripten::val",fromWireType:v=>{var g=Fe.toValue(v);return $e(v),g},toWireType:(v,g)=>Fe.toHandle(g),argPackAdvance:Zr,readValueFromPointer:Ue,destructorFunction:null},Gt=v=>Kr(v,Gr),Mt=(v,g)=>{switch(g){case 4:return function(C){return this.fromWireType(Re[C>>2])};case 8:return function(C){return this.fromWireType(Ie[C>>3])};default:throw new TypeError(`invalid float width (${g}): ${v}`)}},Je=(v,g,C)=>{g=Ar(g),Kr(v,{name:g,fromWireType:P=>P,toWireType:(P,O)=>O,argPackAdvance:Zr,readValueFromPointer:Mt(g,C),destructorFunction:null})},qe=(v,g)=>Object.defineProperty(g,"name",{value:v});function et(v){for(var g=1;g<v.length;++g)if(v[g]!==null&&v[g].destructorFunction===void 0)return!0;return!1}function Ke(v,g){if(!(v instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof v} which is not a function`);var C=qe(v.name||"unknownFunctionName",function(){});C.prototype=v.prototype;var P=new C,O=v.apply(P,g);return O instanceof Object?O:P}function st(v,g,C,P){for(var O=et(v),N=v.length-2,K=[],q=["fn"],G=0;G<N;++G)K.push(`arg${G}`),q.push(`arg${G}Wired`);K=K.join(","),q=q.join(",");var er=`return function (${K}) {
`;O&&(er+=`var destructors = [];
`);for(var pr=O?"destructors":"null",kr=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"],G=0;G<N;++G)er+=`var arg${G}Wired = argType${G}['toWireType'](${pr}, arg${G});
`,kr.push(`argType${G}`);if(er+=(C||P?"var rv = ":"")+`invoker(${q});
`,O)er+=`runDestructors(destructors);
`;else for(var G=2;G<v.length;++G){var me=G===1?"thisWired":"arg"+(G-2)+"Wired";v[G].destructorFunction!==null&&(er+=`${me}_dtor(${me});
`,kr.push(`${me}_dtor`))}return C&&(er+=`var ret = retType['fromWireType'](rv);
return ret;
`),er+=`}
`,[kr,er]}function ut(v,g,C,P,O,N){var K=g.length;K<2&&Ur("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var q=g[1]!==null&&C!==null,G=et(g),er=g[0].name!=="void",pr=[v,Ur,P,O,Ee,g[0],g[1]],kr=0;kr<K-2;++kr)pr.push(g[kr+2]);if(!G)for(var kr=2;kr<g.length;++kr)g[kr].destructorFunction!==null&&pr.push(g[kr].destructorFunction);let[me,Nt]=st(g,q,er,N);me.push(Nt);var yn=Ke(Function,me)(...pr);return qe(v,yn)}var Rt=(v,g,C)=>{if(v[g].overloadTable===void 0){var P=v[g];v[g]=function(...O){return v[g].overloadTable.hasOwnProperty(O.length)||Ur(`Function '${C}' called with an invalid number of arguments (${O.length}) - expects one of (${v[g].overloadTable})!`),v[g].overloadTable[O.length].apply(this,O)},v[g].overloadTable=[],v[g].overloadTable[P.argCount]=P}},fe=(v,g,C)=>{i.hasOwnProperty(v)?((C===void 0||i[v].overloadTable!==void 0&&i[v].overloadTable[C]!==void 0)&&Ur(`Cannot register public name '${v}' twice`),Rt(i,v,v),i.hasOwnProperty(C)&&Ur(`Cannot register multiple overloads of a function with the same number of arguments (${C})!`),i[v].overloadTable[C]=g):(i[v]=g,C!==void 0&&(i[v].numArguments=C))},zr=(v,g)=>{for(var C=[],P=0;P<v;P++)C.push(ar[g+P*4>>2]);return C},Wt=(v,g,C)=>{i.hasOwnProperty(v)||Rr("Replacing nonexistent public symbol"),i[v].overloadTable!==void 0&&C!==void 0?i[v].overloadTable[C]=g:(i[v]=g,i[v].argCount=C)},Vt=(v,g,C)=>{v=v.replace(/p/g,"i");var P=i["dynCall_"+v];return P(g,...C)},He=[],tt,te=v=>{var g=He[v];return g||(v>=He.length&&(He.length=v+1),He[v]=g=tt.get(v)),g},It=(v,g,C=[])=>{if(v.includes("j"))return Vt(v,g,C);var P=te(g)(...C);return P},ln=(v,g)=>(...C)=>It(v,g,C),wt=(v,g)=>{v=Ar(v);function C(){return v.includes("j")?ln(v,g):te(g)}var P=C();return typeof P!="function"&&Ur(`unknown function pointer with signature ${v}: ${g}`),P},vn=(v,g)=>{var C=qe(g,function(P){this.name=g,this.message=P;var O=new Error(P).stack;O!==void 0&&(this.stack=this.toString()+`
`+O.replace(/^Error(:[^\n]*)?\n/,""))});return C.prototype=Object.create(v.prototype),C.prototype.constructor=C,C.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},C},Ht,Xt=v=>{var g=s(v),C=Ar(g);return b(g),C},Zt=(v,g)=>{var C=[],P={};function O(N){if(!P[N]&&!br[N]){if(fr[N]){fr[N].forEach(O);return}C.push(N),P[N]=!0}}throw g.forEach(O),new Ht(`${v}: `+C.map(Xt).join([", "]))},Ut=v=>{v=v.trim();const g=v.indexOf("(");return g!==-1?v.substr(0,g):v},cn=(v,g,C,P,O,N,K,q)=>{var G=zr(g,C);v=Ar(v),v=Ut(v),O=wt(P,O),fe(v,function(){Zt(`Cannot call ${v} due to unbound types`,G)},g-1),Ir([],G,er=>{var pr=[er[0],null].concat(er.slice(1));return Wt(v,ut(v,pr,null,O,N,K),g-1),[]})},Tt=(v,g,C)=>{switch(g){case 1:return C?P=>lr[P]:P=>Q[P];case 2:return C?P=>Nr[P>>1]:P=>Cr[P>>1];case 4:return C?P=>ur[P>>2]:P=>ar[P>>2];default:throw new TypeError(`invalid integer width (${g}): ${v}`)}},zt=(v,g,C,P,O)=>{g=Ar(g);var N=pr=>pr;if(P===0){var K=32-8*C;N=pr=>pr<<K>>>K}var q=g.includes("unsigned"),G=(pr,kr)=>{},er;q?er=function(pr,kr){return G(kr,this.name),kr>>>0}:er=function(pr,kr){return G(kr,this.name),kr},Kr(v,{name:g,fromWireType:N,toWireType:er,argPackAdvance:Zr,readValueFromPointer:Tt(g,C,P!==0),destructorFunction:null})},Qt=(v,g,C)=>{var P=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],O=P[g];function N(K){var q=ar[K>>2],G=ar[K+4>>2];return new O(lr.buffer,G,q)}C=Ar(C),Kr(v,{name:C,fromWireType:N,argPackAdvance:Zr,readValueFromPointer:N},{ignoreDuplicateRegistrations:!0})},rn=(v,g,C,P)=>{if(!(P>0))return 0;for(var O=C,N=C+P-1,K=0;K<v.length;++K){var q=v.charCodeAt(K);if(q>=55296&&q<=57343){var G=v.charCodeAt(++K);q=65536+((q&1023)<<10)|G&1023}if(q<=127){if(C>=N)break;g[C++]=q}else if(q<=2047){if(C+1>=N)break;g[C++]=192|q>>6,g[C++]=128|q&63}else if(q<=65535){if(C+2>=N)break;g[C++]=224|q>>12,g[C++]=128|q>>6&63,g[C++]=128|q&63}else{if(C+3>=N)break;g[C++]=240|q>>18,g[C++]=128|q>>12&63,g[C++]=128|q>>6&63,g[C++]=128|q&63}}return g[C]=0,C-O},en=(v,g,C)=>rn(v,Q,g,C),tn=v=>{for(var g=0,C=0;C<v.length;++C){var P=v.charCodeAt(C);P<=127?g++:P<=2047?g+=2:P>=55296&&P<=57343?(g+=4,++C):g+=3}return g},dn=(v,g)=>{g=Ar(g);var C=g==="std::string";Kr(v,{name:g,fromWireType(P){var O=ar[P>>2],N=P+4,K;if(C)for(var q=N,G=0;G<=O;++G){var er=N+G;if(G==O||Q[er]==0){var pr=er-q,kr=mr(q,pr);K===void 0?K=kr:(K+="\0",K+=kr),q=er+1}}else{for(var me=new Array(O),G=0;G<O;++G)me[G]=String.fromCharCode(Q[N+G]);K=me.join("")}return b(P),K},toWireType(P,O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));var N,K=typeof O=="string";K||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int8Array||Ur("Cannot pass non-string to std::string"),C&&K?N=tn(O):N=O.length;var q=l(4+N+1),G=q+4;if(ar[q>>2]=N,C&&K)en(O,G,N+1);else if(K)for(var er=0;er<N;++er){var pr=O.charCodeAt(er);pr>255&&(b(G),Ur("String has UTF-16 code units that do not fit in 8 bits")),Q[G+er]=pr}else for(var er=0;er<N;++er)Q[G+er]=O[er];return P!==null&&P.push(b,q),q},argPackAdvance:Zr,readValueFromPointer:Ue,destructorFunction(P){b(P)}})},St=new TextDecoder("utf-16le"),xt=(v,g)=>{for(var C=v,P=C>>1,O=P+g/2;!(P>=O)&&Cr[P];)++P;return C=P<<1,St.decode(Q.subarray(v,C))},xe=(v,g,C)=>{if(C??=2147483647,C<2)return 0;C-=2;for(var P=g,O=C<v.length*2?C/2:v.length,N=0;N<O;++N){var K=v.charCodeAt(N);Nr[g>>1]=K,g+=2}return Nr[g>>1]=0,g-P},ft=v=>v.length*2,nt=(v,g)=>{for(var C=0,P="";!(C>=g/4);){var O=ur[v+C*4>>2];if(O==0)break;if(++C,O>=65536){var N=O-65536;P+=String.fromCharCode(55296|N>>10,56320|N&1023)}else P+=String.fromCharCode(O)}return P},At=(v,g,C)=>{if(C??=2147483647,C<4)return 0;for(var P=g,O=P+C-4,N=0;N<v.length;++N){var K=v.charCodeAt(N);if(K>=55296&&K<=57343){var q=v.charCodeAt(++N);K=65536+((K&1023)<<10)|q&1023}if(ur[g>>2]=K,g+=4,g+4>O)break}return ur[g>>2]=0,g-P},jt=v=>{for(var g=0,C=0;C<v.length;++C){var P=v.charCodeAt(C);P>=55296&&P<=57343&&++C,g+=4}return g},De=(v,g,C)=>{C=Ar(C);var P,O,N,K;g===2?(P=xt,O=xe,K=ft,N=q=>Cr[q>>1]):g===4&&(P=nt,O=At,K=jt,N=q=>ar[q>>2]),Kr(v,{name:C,fromWireType:q=>{for(var G=ar[q>>2],er,pr=q+4,kr=0;kr<=G;++kr){var me=q+4+kr*g;if(kr==G||N(me)==0){var Nt=me-pr,yn=P(pr,Nt);er===void 0?er=yn:(er+="\0",er+=yn),pr=me+g}}return b(q),er},toWireType:(q,G)=>{typeof G!="string"&&Ur(`Cannot pass non-string to C++ string type ${C}`);var er=K(G),pr=l(4+er+g);return ar[pr>>2]=er/g,O(G,pr+4,er+g),q!==null&&q.push(b,pr),pr},argPackAdvance:Zr,readValueFromPointer:Ue,destructorFunction(q){b(q)}})},Bt=(v,g,C,P,O,N)=>{ie[v]={name:Ar(g),rawConstructor:wt(C,P),rawDestructor:wt(O,N),fields:[]}},pn=(v,g,C,P,O,N,K,q,G,er)=>{ie[v].fields.push({fieldName:Ar(g),getterReturnType:C,getter:wt(P,O),getterContext:N,setterArgumentType:K,setter:wt(q,G),setterContext:er})},Et=(v,g)=>{g=Ar(g),Kr(v,{isVoid:!0,name:g,argPackAdvance:0,fromWireType:()=>{},toWireType:(C,P)=>{}})},Dt=(v,g,C)=>Q.copyWithin(v,g,g+C),nn=()=>{Ae=!1,on=0},ue=()=>{throw 1/0},Ge=[],Er=(v,g,C,P)=>(v=Ge[v],g=Fe.toValue(g),v(null,g,C,P)),lt={},_e=v=>{var g=lt[v];return g===void 0?Ar(v):g},he=()=>typeof globalThis=="object"?globalThis:(function(){return Function})()("return this")(),Lt=v=>v===0?Fe.toHandle(he()):(v=_e(v),Fe.toHandle(he()[v])),Oe=v=>{var g=Ge.length;return Ge.push(v),g},Be=(v,g)=>{var C=br[v];return C===void 0&&Ur(`${g} has unknown type ${Xt(v)}`),C},Me=(v,g)=>{for(var C=new Array(v),P=0;P<v;++P)C[P]=Be(ar[g+P*4>>2],"parameter "+P);return C},vt=(v,g,C)=>{var P=[],O=v.toWireType(P,C);return P.length&&(ar[g>>2]=Fe.toHandle(P)),O},Ct=(v,g,C)=>{var P=Me(v,g),O=P.shift();v--;var N=`return function (obj, func, destructorsRef, args) {
`,K=0,q=[];C===0&&q.push("obj");for(var G=["retType"],er=[O],pr=0;pr<v;++pr)q.push("arg"+pr),G.push("argType"+pr),er.push(P[pr]),N+=`  var arg${pr} = argType${pr}.readValueFromPointer(args${K?"+"+K:""});
`,K+=P[pr].argPackAdvance;var kr=C===1?"new func":"func.call";N+=`  var rv = ${kr}(${q.join(", ")});
`,O.isVoid||(G.push("emval_returnValue"),er.push(vt),N+=`  return emval_returnValue(retType, destructorsRef, rv);
`),N+=`};
`,G.push(N);var me=Ke(Function,G)(...er),Nt=`methodCaller<(${P.map(yn=>yn.name).join(", ")}) => ${O.name}>`;return Oe(qe(Nt,me))},Ot=v=>Fe.toHandle(_e(v)),$t=v=>{var g=Fe.toValue(v);Ee(g),$e(v)},ct={},an=v=>{if(v instanceof Te||v=="unwind")return vr;gr(1,v)},on=0,sn=()=>Ae||on>0,ge=v=>{vr=v,sn()||(i.onExit?.(v),xr=!0),gr(v,new Te(v))},Pe=(v,g)=>{vr=v,ge(v)},Xe=Pe,ke=()=>{if(!sn())try{Xe(vr)}catch(v){an(v)}},ye=v=>{if(!xr)try{v(),ke()}catch(g){an(g)}},Ve=()=>performance.now(),Ft=(v,g)=>{if(ct[v]&&(clearTimeout(ct[v].id),delete ct[v]),!g)return 0;var C=setTimeout(()=>{delete ct[v],ye(()=>$(v,Ve()))},g);return ct[v]={id:C,timeout_ms:g},0},ce=()=>Date.now(),p=()=>2147483648,n=(v,g)=>Math.ceil(v/g)*g,u=v=>{var g=Jr.buffer,C=(v-g.byteLength+65535)/65536|0;try{return Jr.grow(C),re(),1}catch{}},_=v=>{var g=Q.length;v>>>=0;var C=p();if(v>C)return!1;for(var P=1;P<=4;P*=2){var O=g*(1+.2/P);O=Math.min(O,v+100663296);var N=Math.min(C,n(Math.max(v,O),65536)),K=u(N);if(K)return!0}return!1},T=v=>52,j=(v,g,C,P)=>52;function V(v,g,C,P,O){return 70}var o=[null,[],[]],f=(v,g=0,C=NaN)=>{for(var P=g+C,O=g;v[O]&&!(O>=P);)++O;return pe.decode(v.buffer?v.subarray(g,O):new Uint8Array(v.slice(g,O)))},m=(v,g)=>{var C=o[v];g===0||g===10?((v===1?Qr:Fr)(f(C)),C.length=0):C.push(g)},A=(v,g,C,P)=>{for(var O=0,N=0;N<C;N++){var K=ar[g>>2],q=ar[g+4>>2];g+=8;for(var G=0;G<q;G++)m(v,Q[K+G]);O+=q}return ar[P>>2]=O,0};oe=i.InternalError=class extends Error{constructor(g){super(g),this.name="InternalError"}},Dr(),ve=i.BindingError=class extends Error{constructor(g){super(g),this.name="BindingError"}},je(),Ht=i.UnboundTypeError=vn(Error,"UnboundTypeError");var r={a:Hr,s:Mr,M:le,N:Ne,P:jr,y:Wr,C:Br,Z:bt,Y:Gt,t:Je,T:cn,i:zt,d:Qt,u:dn,o:De,L:Bt,e:pn,_:Et,I:Dt,E:nn,G:ue,x:Er,p:$e,q:Lt,w:Ct,k:Ot,v:$t,F:Ft,O:ce,H:_,r:T,K:j,z:V,J:A,j:S,c:Or,n:hr,m:Yr,Q:bn,S:Vr,R:dt,B:gn,A:zn,g:X,f:tr,h:y,b:d,l:F,W:rr,V:nr,X:B,U:ir,D:ge},t=mt(),s=v=>(s=t.ba)(v),l=v=>(l=t.da)(v),b=v=>(b=t.ea)(v),$=(v,g)=>($=t.fa)(v,g),R=(v,g)=>(R=t.ga)(v,g),k=v=>(k=t.ha)(v),W=()=>(W=t.ia)();i.dynCall_jiiiii=(v,g,C,P,O,N)=>(i.dynCall_jiiiii=t.ja)(v,g,C,P,O,N),i.dynCall_jiiiiiiii=(v,g,C,P,O,N,K,q,G)=>(i.dynCall_jiiiiiiii=t.ka)(v,g,C,P,O,N,K,q,G),i.dynCall_jiiiiiiiii=(v,g,C,P,O,N,K,q,G,er)=>(i.dynCall_jiiiiiiiii=t.la)(v,g,C,P,O,N,K,q,G,er),i.dynCall_jiiiiii=(v,g,C,P,O,N,K)=>(i.dynCall_jiiiiii=t.ma)(v,g,C,P,O,N,K);var H=i.dynCall_iiiijj=(v,g,C,P,O,N,K,q)=>(H=i.dynCall_iiiijj=t.na)(v,g,C,P,O,N,K,q),L=i.dynCall_ij=(v,g,C)=>(L=i.dynCall_ij=t.oa)(v,g,C);i.dynCall_iiijii=(v,g,C,P,O,N,K)=>(i.dynCall_iiijii=t.pa)(v,g,C,P,O,N,K),i.dynCall_jiji=(v,g,C,P,O)=>(i.dynCall_jiji=t.qa)(v,g,C,P,O);function tr(v,g,C){var P=$r();try{te(v)(g,C)}catch(O){if(Pr(P),O!==O+0)throw O;R(1,0)}}function Or(v,g,C){var P=$r();try{return te(v)(g,C)}catch(O){if(Pr(P),O!==O+0)throw O;R(1,0)}}function d(v,g,C,P,O){var N=$r();try{te(v)(g,C,P,O)}catch(K){if(Pr(N),K!==K+0)throw K;R(1,0)}}function y(v,g,C,P){var O=$r();try{te(v)(g,C,P)}catch(N){if(Pr(O),N!==N+0)throw N;R(1,0)}}function F(v,g,C,P,O,N){var K=$r();try{te(v)(g,C,P,O,N)}catch(q){if(Pr(K),q!==q+0)throw q;R(1,0)}}function S(v,g){var C=$r();try{return te(v)(g)}catch(P){if(Pr(C),P!==P+0)throw P;R(1,0)}}function B(v,g,C,P,O,N,K,q,G,er){var pr=$r();try{te(v)(g,C,P,O,N,K,q,G,er)}catch(kr){if(Pr(pr),kr!==kr+0)throw kr;R(1,0)}}function X(v,g){var C=$r();try{te(v)(g)}catch(P){if(Pr(C),P!==P+0)throw P;R(1,0)}}function rr(v,g,C,P,O,N,K,q){var G=$r();try{te(v)(g,C,P,O,N,K,q)}catch(er){if(Pr(G),er!==er+0)throw er;R(1,0)}}function nr(v,g,C,P,O,N,K,q,G){var er=$r();try{te(v)(g,C,P,O,N,K,q,G)}catch(pr){if(Pr(er),pr!==pr+0)throw pr;R(1,0)}}function ir(v,g,C,P,O,N,K,q,G,er,pr,kr){var me=$r();try{te(v)(g,C,P,O,N,K,q,G,er,pr,kr)}catch(Nt){if(Pr(me),Nt!==Nt+0)throw Nt;R(1,0)}}function hr(v,g,C,P){var O=$r();try{return te(v)(g,C,P)}catch(N){if(Pr(O),N!==N+0)throw N;R(1,0)}}function Vr(v,g,C,P,O,N,K,q,G,er,pr){var kr=$r();try{return te(v)(g,C,P,O,N,K,q,G,er,pr)}catch(me){if(Pr(kr),me!==me+0)throw me;R(1,0)}}function Yr(v,g,C,P,O){var N=$r();try{return te(v)(g,C,P,O)}catch(K){if(Pr(N),K!==K+0)throw K;R(1,0)}}function dt(v,g,C,P,O,N,K,q,G,er,pr,kr){var me=$r();try{return te(v)(g,C,P,O,N,K,q,G,er,pr,kr)}catch(Nt){if(Pr(me),Nt!==Nt+0)throw Nt;R(1,0)}}function bn(v,g,C,P,O,N,K){var q=$r();try{return te(v)(g,C,P,O,N,K)}catch(G){if(Pr(q),G!==G+0)throw G;R(1,0)}}function gn(v,g,C,P,O,N,K,q){var G=$r();try{return H(v,g,C,P,O,N,K,q)}catch(er){if(Pr(G),er!==er+0)throw er;R(1,0)}}function zn(v,g,C){var P=$r();try{return L(v,g,C)}catch(O){if(Pr(P),O!==O+0)throw O;R(1,0)}}var $n,Mn;ne=function v(){$n||Vn(),$n||(ne=v)};function Vn(){if(Tr>0||!Mn&&(Mn=1,kt(),Tr>0))return;function v(){$n||($n=1,i.calledRun=1,!xr&&(it(),Z(i),i.onRuntimeInitialized?.(),We()))}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),v()},1)):v()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return Vn(),J=wr,J})})(),Ro=(()=>{var w=import.meta.url;return(function(I={}){var J,i=I,Z,cr,wr=new Promise((d,y)=>{Z=d,cr=y}),_r=Object.assign({},i),gr=(d,y)=>{throw y},sr="";function pt(d){return i.locateFile?i.locateFile(d,sr):sr+d}var Y;typeof document<"u"&&document.currentScript&&(sr=document.currentScript.src),w&&(sr=w),sr.startsWith("blob:")?sr="":sr=sr.substr(0,sr.replace(/[?#].*/,"").lastIndexOf("/")+1),Y=d=>fetch(d,{credentials:"same-origin"}).then(y=>y.ok?y.arrayBuffer():Promise.reject(new Error(y.status+" : "+y.url)));var Qr=i.print||console.log.bind(console),Fr=i.printErr||console.error.bind(console);Object.assign(i,_r),_r=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram;var Xr=i.wasmBinary,Jr,xr=!1,vr,lr,Q,Nr,Cr,ur,ar,Re,Ie;function re(){var d=Jr.buffer;i.HEAP8=lr=new Int8Array(d),i.HEAP16=Nr=new Int16Array(d),i.HEAPU8=Q=new Uint8Array(d),i.HEAPU16=Cr=new Uint16Array(d),i.HEAP32=ur=new Int32Array(d),i.HEAPU32=ar=new Uint32Array(d),i.HEAPF32=Re=new Float32Array(d),i.HEAPF64=Ie=new Float64Array(d)}var we=[],qr=[],at=[];function kt(){var d=i.preRun;d&&(typeof d=="function"&&(d=[d]),d.forEach(Yt)),be(we)}function it(){be(qr)}function We(){var d=i.postRun;d&&(typeof d=="function"&&(d=[d]),d.forEach(ee)),be(at)}function Yt(d){we.unshift(d)}function Jt(d){qr.unshift(d)}function ee(d){at.unshift(d)}var Tr=0,ne=null;function qt(d){Tr++,i.monitorRunDependencies?.(Tr)}function _t(d){if(Tr--,i.monitorRunDependencies?.(Tr),Tr==0&&ne){var y=ne;ne=null,y()}}function ae(d){i.onAbort?.(d),d="Aborted("+d+")",Fr(d),xr=!0,d+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(d);throw cr(y),y}var ht="data:application/octet-stream;base64,",ze=d=>d.startsWith(ht);function Qe(){if(i.locateFile){var d="avif-dec.wasm";return ze(d)?d:pt(d)}return new URL(""+new URL("../assets/avif-dec-ES4t1a26.wasm",import.meta.url).href,import.meta.url).href}var de;function ot(d){if(d==de&&Xr)return new Uint8Array(Xr);throw"both async and sync fetching of the wasm failed"}function gt(d){return Xr?Promise.resolve().then(()=>ot(d)):Y(d).then(y=>new Uint8Array(y),()=>ot(d))}function yt(d,y,F){return gt(d).then(S=>WebAssembly.instantiate(S,y)).then(F,S=>{Fr(`failed to asynchronously prepare wasm: ${S}`),ae(S)})}function Kt(d,y,F,S){return!d&&typeof WebAssembly.instantiateStreaming=="function"&&!ze(y)&&typeof fetch=="function"?fetch(y,{credentials:"same-origin"}).then(B=>{var X=WebAssembly.instantiateStreaming(B,F);return X.then(S,function(rr){return Fr(`wasm streaming compile failed: ${rr}`),Fr("falling back to ArrayBuffer instantiation"),yt(y,F,S)})}):yt(y,F,S)}function fn(){return{a:_}}function mt(){var d=fn();function y(S,B){return T=S.exports,Jr=T.L,re(),fe=T.O,Jt(T.M),_t(),T}qt();function F(S){y(S.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(d,y)}catch(S){Fr(`Module.instantiateWasm callback failed with error: ${S}`),cr(S)}return de??=Qe(),Kt(Xr,de,d,F).catch(cr),{}}function Te(d){this.name="ExitStatus",this.message=`Program terminated with exit(${d})`,this.status=d}var be=d=>{d.forEach(y=>y(i))},Ae=i.noExitRuntime||!0,Pr=d=>A(d),$r=()=>r(),pe=new TextDecoder,mr=(d,y)=>{if(!d)return"";for(var F=d+y,S=d;!(S>=F)&&Q[S];)++S;return pe.decode(Q.subarray(d,S))},Hr=(d,y,F,S)=>{ae(`Assertion failed: ${mr(d)}, at: `+[y?mr(y):"unknown filename",F,S?mr(S):"unknown function"])},Mr=()=>{ae("")},le=(d,y,F,S,B)=>{},Ne=()=>{for(var d=new Array(256),y=0;y<256;++y)d[y]=String.fromCharCode(y);jr=d},jr,ie=d=>{for(var y="",F=d;Q[F];)y+=jr[Q[F++]];return y},Ee={},Ue={},Ce={},br,fr=d=>{throw new br(d)},oe,Rr=d=>{throw new oe(d)},Ir=(d,y,F)=>{d.forEach(nr=>Ce[nr]=y);function S(nr){var ir=F(nr);ir.length!==d.length&&Rr("Mismatched type converter count");for(var hr=0;hr<d.length;++hr)Br(d[hr],ir[hr])}var B=new Array(y.length),X=[],rr=0;y.forEach((nr,ir)=>{Ue.hasOwnProperty(nr)?B[ir]=Ue[nr]:(X.push(nr),Ee.hasOwnProperty(nr)||(Ee[nr]=[]),Ee[nr].push(()=>{B[ir]=Ue[nr],++rr,rr===X.length&&S(B)}))}),X.length===0&&S(B)};function Wr(d,y,F={}){var S=y.name;if(d||fr(`type "${S}" must have a positive integer typeid pointer`),Ue.hasOwnProperty(d)){if(F.ignoreDuplicateRegistrations)return;fr(`Cannot register type '${S}' twice`)}if(Ue[d]=y,delete Ce[d],Ee.hasOwnProperty(d)){var B=Ee[d];delete Ee[d],B.forEach(X=>X())}}function Br(d,y,F={}){return Wr(d,y,F)}var Dr=8,dr=(d,y,F,S)=>{y=ie(y),Br(d,{name:y,fromWireType:function(B){return!!B},toWireType:function(B,X){return X?F:S},argPackAdvance:Dr,readValueFromPointer:function(B){return this.fromWireType(Q[B])},destructorFunction:null})},Ar=[],ve=[],Ur=d=>{d>9&&--ve[d+1]===0&&(ve[d]=void 0,Ar.push(d))},Se=()=>ve.length/2-5-Ar.length,Kr=()=>{ve.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=Se},Zr={toValue:d=>(d||fr("Cannot use deleted val. handle = "+d),ve[d]),toHandle:d=>{switch(d){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const y=Ar.pop()||ve.length;return ve[y]=d,ve[y+1]=1,y}}}};function bt(d){return this.fromWireType(ar[d>>2])}var Ye={name:"emscripten::val",fromWireType:d=>{var y=Zr.toValue(d);return Ur(d),y},toWireType:(d,y)=>Zr.toHandle(y),argPackAdvance:Dr,readValueFromPointer:bt,destructorFunction:null},yr=d=>Br(d,Ye),$e=(d,y)=>{switch(y){case 4:return function(F){return this.fromWireType(Re[F>>2])};case 8:return function(F){return this.fromWireType(Ie[F>>3])};default:throw new TypeError(`invalid float width (${y}): ${d}`)}},rt=(d,y,F)=>{y=ie(y),Br(d,{name:y,fromWireType:S=>S,toWireType:(S,B)=>B,argPackAdvance:Dr,readValueFromPointer:$e(y,F),destructorFunction:null})},je=(d,y)=>Object.defineProperty(y,"name",{value:d}),Fe=d=>{for(;d.length;){var y=d.pop(),F=d.pop();F(y)}};function Gr(d){for(var y=1;y<d.length;++y)if(d[y]!==null&&d[y].destructorFunction===void 0)return!0;return!1}function Gt(d,y){if(!(d instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof d} which is not a function`);var F=je(d.name||"unknownFunctionName",function(){});F.prototype=d.prototype;var S=new F,B=d.apply(S,y);return B instanceof Object?B:S}function Mt(d,y,F,S){for(var B=Gr(d),X=d.length-2,rr=[],nr=["fn"],ir=0;ir<X;++ir)rr.push(`arg${ir}`),nr.push(`arg${ir}Wired`);rr=rr.join(","),nr=nr.join(",");var hr=`return function (${rr}) {
`;B&&(hr+=`var destructors = [];
`);for(var Vr=B?"destructors":"null",Yr=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"],ir=0;ir<X;++ir)hr+=`var arg${ir}Wired = argType${ir}['toWireType'](${Vr}, arg${ir});
`,Yr.push(`argType${ir}`);if(hr+=(F||S?"var rv = ":"")+`invoker(${nr});
`,B)hr+=`runDestructors(destructors);
`;else for(var ir=2;ir<d.length;++ir){var dt=ir===1?"thisWired":"arg"+(ir-2)+"Wired";d[ir].destructorFunction!==null&&(hr+=`${dt}_dtor(${dt});
`,Yr.push(`${dt}_dtor`))}return F&&(hr+=`var ret = retType['fromWireType'](rv);
return ret;
`),hr+=`}
`,[Yr,hr]}function Je(d,y,F,S,B,X){var rr=y.length;rr<2&&fr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var nr=y[1]!==null&&F!==null,ir=Gr(y),hr=y[0].name!=="void",Vr=[d,fr,S,B,Fe,y[0],y[1]],Yr=0;Yr<rr-2;++Yr)Vr.push(y[Yr+2]);if(!ir)for(var Yr=2;Yr<y.length;++Yr)y[Yr].destructorFunction!==null&&Vr.push(y[Yr].destructorFunction);let[dt,bn]=Mt(y,nr,hr,X);dt.push(bn);var gn=Gt(Function,dt)(...Vr);return je(d,gn)}var qe=(d,y,F)=>{if(d[y].overloadTable===void 0){var S=d[y];d[y]=function(...B){return d[y].overloadTable.hasOwnProperty(B.length)||fr(`Function '${F}' called with an invalid number of arguments (${B.length}) - expects one of (${d[y].overloadTable})!`),d[y].overloadTable[B.length].apply(this,B)},d[y].overloadTable=[],d[y].overloadTable[S.argCount]=S}},et=(d,y,F)=>{i.hasOwnProperty(d)?((F===void 0||i[d].overloadTable!==void 0&&i[d].overloadTable[F]!==void 0)&&fr(`Cannot register public name '${d}' twice`),qe(i,d,d),i.hasOwnProperty(F)&&fr(`Cannot register multiple overloads of a function with the same number of arguments (${F})!`),i[d].overloadTable[F]=y):(i[d]=y,F!==void 0&&(i[d].numArguments=F))},Ke=(d,y)=>{for(var F=[],S=0;S<d;S++)F.push(ar[y+S*4>>2]);return F},st=(d,y,F)=>{i.hasOwnProperty(d)||Rr("Replacing nonexistent public symbol"),i[d].overloadTable!==void 0&&F!==void 0?i[d].overloadTable[F]=y:(i[d]=y,i[d].argCount=F)},ut=(d,y,F)=>{d=d.replace(/p/g,"i");var S=i["dynCall_"+d];return S(y,...F)},Rt=[],fe,zr=d=>{var y=Rt[d];return y||(d>=Rt.length&&(Rt.length=d+1),Rt[d]=y=fe.get(d)),y},Wt=(d,y,F=[])=>{if(d.includes("j"))return ut(d,y,F);var S=zr(y)(...F);return S},Vt=(d,y)=>(...F)=>Wt(d,y,F),He=(d,y)=>{d=ie(d);function F(){return d.includes("j")?Vt(d,y):zr(y)}var S=F();return typeof S!="function"&&fr(`unknown function pointer with signature ${d}: ${y}`),S},tt=(d,y)=>{var F=je(y,function(S){this.name=y,this.message=S;var B=new Error(S).stack;B!==void 0&&(this.stack=this.toString()+`
`+B.replace(/^Error(:[^\n]*)?\n/,""))});return F.prototype=Object.create(d.prototype),F.prototype.constructor=F,F.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},F},te,It=d=>{var y=j(d),F=ie(y);return o(y),F},ln=(d,y)=>{var F=[],S={};function B(X){if(!S[X]&&!Ue[X]){if(Ce[X]){Ce[X].forEach(B);return}F.push(X),S[X]=!0}}throw y.forEach(B),new te(`${d}: `+F.map(It).join([", "]))},wt=d=>{d=d.trim();const y=d.indexOf("(");return y!==-1?d.substr(0,y):d},vn=(d,y,F,S,B,X,rr,nr)=>{var ir=Ke(y,F);d=ie(d),d=wt(d),B=He(S,B),et(d,function(){ln(`Cannot call ${d} due to unbound types`,ir)},y-1),Ir([],ir,hr=>{var Vr=[hr[0],null].concat(hr.slice(1));return st(d,Je(d,Vr,null,B,X,rr),y-1),[]})},Ht=(d,y,F)=>{switch(y){case 1:return F?S=>lr[S]:S=>Q[S];case 2:return F?S=>Nr[S>>1]:S=>Cr[S>>1];case 4:return F?S=>ur[S>>2]:S=>ar[S>>2];default:throw new TypeError(`invalid integer width (${y}): ${d}`)}},Xt=(d,y,F,S,B)=>{y=ie(y);var X=Vr=>Vr;if(S===0){var rr=32-8*F;X=Vr=>Vr<<rr>>>rr}var nr=y.includes("unsigned"),ir=(Vr,Yr)=>{},hr;nr?hr=function(Vr,Yr){return ir(Yr,this.name),Yr>>>0}:hr=function(Vr,Yr){return ir(Yr,this.name),Yr},Br(d,{name:y,fromWireType:X,toWireType:hr,argPackAdvance:Dr,readValueFromPointer:Ht(y,F,S!==0),destructorFunction:null})},Zt=(d,y,F)=>{var S=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],B=S[y];function X(rr){var nr=ar[rr>>2],ir=ar[rr+4>>2];return new B(lr.buffer,ir,nr)}F=ie(F),Br(d,{name:F,fromWireType:X,argPackAdvance:Dr,readValueFromPointer:X},{ignoreDuplicateRegistrations:!0})},Ut=(d,y,F,S)=>{if(!(S>0))return 0;for(var B=F,X=F+S-1,rr=0;rr<d.length;++rr){var nr=d.charCodeAt(rr);if(nr>=55296&&nr<=57343){var ir=d.charCodeAt(++rr);nr=65536+((nr&1023)<<10)|ir&1023}if(nr<=127){if(F>=X)break;y[F++]=nr}else if(nr<=2047){if(F+1>=X)break;y[F++]=192|nr>>6,y[F++]=128|nr&63}else if(nr<=65535){if(F+2>=X)break;y[F++]=224|nr>>12,y[F++]=128|nr>>6&63,y[F++]=128|nr&63}else{if(F+3>=X)break;y[F++]=240|nr>>18,y[F++]=128|nr>>12&63,y[F++]=128|nr>>6&63,y[F++]=128|nr&63}}return y[F]=0,F-B},cn=(d,y,F)=>Ut(d,Q,y,F),Tt=d=>{for(var y=0,F=0;F<d.length;++F){var S=d.charCodeAt(F);S<=127?y++:S<=2047?y+=2:S>=55296&&S<=57343?(y+=4,++F):y+=3}return y},zt=(d,y)=>{y=ie(y);var F=y==="std::string";Br(d,{name:y,fromWireType(S){var B=ar[S>>2],X=S+4,rr;if(F)for(var nr=X,ir=0;ir<=B;++ir){var hr=X+ir;if(ir==B||Q[hr]==0){var Vr=hr-nr,Yr=mr(nr,Vr);rr===void 0?rr=Yr:(rr+="\0",rr+=Yr),nr=hr+1}}else{for(var dt=new Array(B),ir=0;ir<B;++ir)dt[ir]=String.fromCharCode(Q[X+ir]);rr=dt.join("")}return o(S),rr},toWireType(S,B){B instanceof ArrayBuffer&&(B=new Uint8Array(B));var X,rr=typeof B=="string";rr||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int8Array||fr("Cannot pass non-string to std::string"),F&&rr?X=Tt(B):X=B.length;var nr=V(4+X+1),ir=nr+4;if(ar[nr>>2]=X,F&&rr)cn(B,ir,X+1);else if(rr)for(var hr=0;hr<X;++hr){var Vr=B.charCodeAt(hr);Vr>255&&(o(ir),fr("String has UTF-16 code units that do not fit in 8 bits")),Q[ir+hr]=Vr}else for(var hr=0;hr<X;++hr)Q[ir+hr]=B[hr];return S!==null&&S.push(o,nr),nr},argPackAdvance:Dr,readValueFromPointer:bt,destructorFunction(S){o(S)}})},Qt=new TextDecoder("utf-16le"),rn=(d,y)=>{for(var F=d,S=F>>1,B=S+y/2;!(S>=B)&&Cr[S];)++S;return F=S<<1,Qt.decode(Q.subarray(d,F))},en=(d,y,F)=>{if(F??=2147483647,F<2)return 0;F-=2;for(var S=y,B=F<d.length*2?F/2:d.length,X=0;X<B;++X){var rr=d.charCodeAt(X);Nr[y>>1]=rr,y+=2}return Nr[y>>1]=0,y-S},tn=d=>d.length*2,dn=(d,y)=>{for(var F=0,S="";!(F>=y/4);){var B=ur[d+F*4>>2];if(B==0)break;if(++F,B>=65536){var X=B-65536;S+=String.fromCharCode(55296|X>>10,56320|X&1023)}else S+=String.fromCharCode(B)}return S},St=(d,y,F)=>{if(F??=2147483647,F<4)return 0;for(var S=y,B=S+F-4,X=0;X<d.length;++X){var rr=d.charCodeAt(X);if(rr>=55296&&rr<=57343){var nr=d.charCodeAt(++X);rr=65536+((rr&1023)<<10)|nr&1023}if(ur[y>>2]=rr,y+=4,y+4>B)break}return ur[y>>2]=0,y-S},xt=d=>{for(var y=0,F=0;F<d.length;++F){var S=d.charCodeAt(F);S>=55296&&S<=57343&&++F,y+=4}return y},xe=(d,y,F)=>{F=ie(F);var S,B,X,rr;y===2?(S=rn,B=en,rr=tn,X=nr=>Cr[nr>>1]):y===4&&(S=dn,B=St,rr=xt,X=nr=>ar[nr>>2]),Br(d,{name:F,fromWireType:nr=>{for(var ir=ar[nr>>2],hr,Vr=nr+4,Yr=0;Yr<=ir;++Yr){var dt=nr+4+Yr*y;if(Yr==ir||X(dt)==0){var bn=dt-Vr,gn=S(Vr,bn);hr===void 0?hr=gn:(hr+="\0",hr+=gn),Vr=dt+y}}return o(nr),hr},toWireType:(nr,ir)=>{typeof ir!="string"&&fr(`Cannot pass non-string to C++ string type ${F}`);var hr=rr(ir),Vr=V(4+hr+y);return ar[Vr>>2]=hr/y,B(ir,Vr+4,hr+y),nr!==null&&nr.push(o,Vr),Vr},argPackAdvance:Dr,readValueFromPointer:bt,destructorFunction(nr){o(nr)}})},ft=(d,y)=>{y=ie(y),Br(d,{isVoid:!0,name:y,argPackAdvance:0,fromWireType:()=>{},toWireType:(F,S)=>{}})},nt=(d,y,F)=>Q.copyWithin(d,y,y+F),At=()=>{Ae=!1,vt=0},jt=()=>{throw 1/0},De=[],Bt=(d,y,F,S)=>(d=De[d],y=Zr.toValue(y),d(null,y,F,S)),pn={},Et=d=>{var y=pn[d];return y===void 0?ie(d):y},Dt=()=>typeof globalThis=="object"?globalThis:(function(){return Function})()("return this")(),nn=d=>d===0?Zr.toHandle(Dt()):(d=Et(d),Zr.toHandle(Dt()[d])),ue=d=>{var y=De.length;return De.push(d),y},Ge=(d,y)=>{var F=Ue[d];return F===void 0&&fr(`${y} has unknown type ${It(d)}`),F},Er=(d,y)=>{for(var F=new Array(d),S=0;S<d;++S)F[S]=Ge(ar[y+S*4>>2],"parameter "+S);return F},lt=(d,y,F)=>{var S=[],B=d.toWireType(S,F);return S.length&&(ar[y>>2]=Zr.toHandle(S)),B},_e=(d,y,F)=>{var S=Er(d,y),B=S.shift();d--;var X=`return function (obj, func, destructorsRef, args) {
`,rr=0,nr=[];F===0&&nr.push("obj");for(var ir=["retType"],hr=[B],Vr=0;Vr<d;++Vr)nr.push("arg"+Vr),ir.push("argType"+Vr),hr.push(S[Vr]),X+=`  var arg${Vr} = argType${Vr}.readValueFromPointer(args${rr?"+"+rr:""});
`,rr+=S[Vr].argPackAdvance;var Yr=F===1?"new func":"func.call";X+=`  var rv = ${Yr}(${nr.join(", ")});
`,B.isVoid||(ir.push("emval_returnValue"),hr.push(lt),X+=`  return emval_returnValue(retType, destructorsRef, rv);
`),X+=`};
`,ir.push(X);var dt=Gt(Function,ir)(...hr),bn=`methodCaller<(${S.map(gn=>gn.name).join(", ")}) => ${B.name}>`;return ue(je(bn,dt))},he=d=>{d>9&&(ve[d+1]+=1)},Lt=d=>Zr.toHandle(Et(d)),Oe=d=>{var y=Zr.toValue(d);Fe(y),Ur(d)},Be={},Me=d=>{if(d instanceof Te||d=="unwind")return vr;gr(1,d)},vt=0,Ct=()=>Ae||vt>0,Ot=d=>{vr=d,Ct()||(i.onExit?.(d),xr=!0),gr(d,new Te(d))},$t=(d,y)=>{vr=d,Ot(d)},ct=$t,an=()=>{if(!Ct())try{ct(vr)}catch(d){Me(d)}},on=d=>{if(!xr)try{d(),an()}catch(y){Me(y)}},sn=()=>performance.now(),ge=(d,y)=>{if(Be[d]&&(clearTimeout(Be[d].id),delete Be[d]),!y)return 0;var F=setTimeout(()=>{delete Be[d],on(()=>f(d,sn()))},y);return Be[d]={id:F,timeout_ms:y},0},Pe=()=>2147483648,Xe=(d,y)=>Math.ceil(d/y)*y,ke=d=>{var y=Jr.buffer,F=(d-y.byteLength+65535)/65536|0;try{return Jr.grow(F),re(),1}catch{}},ye=d=>{var y=Q.length;d>>>=0;var F=Pe();if(d>F)return!1;for(var S=1;S<=4;S*=2){var B=y*(1+.2/S);B=Math.min(B,d+100663296);var X=Math.min(F,Xe(Math.max(d,B),65536)),rr=ke(X);if(rr)return!0}return!1},Ve=d=>52;function Ft(d,y,F,S,B){return 70}var ce=[null,[],[]],p=(d,y=0,F=NaN)=>{for(var S=y+F,B=y;d[B]&&!(B>=S);)++B;return pe.decode(d.buffer?d.subarray(y,B):new Uint8Array(d.slice(y,B)))},n=(d,y)=>{var F=ce[d];y===0||y===10?((d===1?Qr:Fr)(p(F)),F.length=0):F.push(y)},u=(d,y,F,S)=>{for(var B=0,X=0;X<F;X++){var rr=ar[y>>2],nr=ar[y+4>>2];y+=8;for(var ir=0;ir<nr;ir++)n(d,Q[rr+ir]);B+=nr}return ar[S>>2]=B,0};Ne(),br=i.BindingError=class extends Error{constructor(y){super(y),this.name="BindingError"}},oe=i.InternalError=class extends Error{constructor(y){super(y),this.name="InternalError"}},Kr(),te=i.UnboundTypeError=tt(Error,"UnboundTypeError");var _={a:Hr,E:Mr,v:le,r:dr,K:yr,p:rt,m:vn,e:Xt,c:Zt,q:zt,h:xe,s:ft,B:nt,x:At,z:jt,l:Bt,g:Ur,i:nn,k:_e,t:he,f:Lt,j:Oe,y:ge,A:ye,C:Ve,u:Ft,D:u,n:W,d:l,F:H,I:$,o:b,H:R,b:s,G:k,J:t,w:Ot},T=mt(),j=d=>(j=T.N)(d),V=d=>(V=T.P)(d),o=d=>(o=T.Q)(d),f=(d,y)=>(f=T.R)(d,y),m=(d,y)=>(m=T.S)(d,y),A=d=>(A=T.T)(d),r=()=>(r=T.U)();i.dynCall_iiijii=(d,y,F,S,B,X,rr)=>(i.dynCall_iiijii=T.V)(d,y,F,S,B,X,rr),i.dynCall_jiji=(d,y,F,S,B)=>(i.dynCall_jiji=T.W)(d,y,F,S,B);function t(d,y,F,S,B,X,rr,nr,ir,hr){var Vr=$r();try{zr(d)(y,F,S,B,X,rr,nr,ir,hr)}catch(Yr){if(Pr(Vr),Yr!==Yr+0)throw Yr;m(1,0)}}function s(d,y,F,S,B){var X=$r();try{zr(d)(y,F,S,B)}catch(rr){if(Pr(X),rr!==rr+0)throw rr;m(1,0)}}function l(d,y,F){var S=$r();try{return zr(d)(y,F)}catch(B){if(Pr(S),B!==B+0)throw B;m(1,0)}}function b(d,y){var F=$r();try{zr(d)(y)}catch(S){if(Pr(F),S!==S+0)throw S;m(1,0)}}function $(d){var y=$r();try{zr(d)()}catch(F){if(Pr(y),F!==F+0)throw F;m(1,0)}}function R(d,y,F){var S=$r();try{zr(d)(y,F)}catch(B){if(Pr(S),B!==B+0)throw B;m(1,0)}}function k(d,y,F,S,B,X,rr,nr){var ir=$r();try{zr(d)(y,F,S,B,X,rr,nr)}catch(hr){if(Pr(ir),hr!==hr+0)throw hr;m(1,0)}}function W(d,y){var F=$r();try{return zr(d)(y)}catch(S){if(Pr(F),S!==S+0)throw S;m(1,0)}}function H(d,y,F,S,B){var X=$r();try{return zr(d)(y,F,S,B)}catch(rr){if(Pr(X),rr!==rr+0)throw rr;m(1,0)}}var L,tr;ne=function d(){L||Or(),L||(ne=d)};function Or(){if(Tr>0||!tr&&(tr=1,kt(),Tr>0))return;function d(){L||(L=1,i.calledRun=1,!xr&&(it(),Z(i),i.onRuntimeInitialized?.(),We()))}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),d()},1)):d()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return Or(),J=wr,J})})(),Nn;(function(w){w[w.YUV444=1]="YUV444",w[w.YUV422=2]="YUV422",w[w.YUV420=3]="YUV420",w[w.YUV400=4]="YUV400"})(Nn||(Nn={}));var Yn;(function(w){w[w.Auto=0]="Auto",w[w.PSNR=1]="PSNR",w[w.SSIM=2]="SSIM"})(Yn||(Yn={}));const ni={quality:50,qualityAlpha:-1,speed:6,subsample:Nn.YUV420,autoTiling:!1,tileColsLog2:0,tileRowsLog2:0,chromaDeltaQ:!1,sharpness:0,denoiseLevel:0,tune:Yn.Auto,sharpYUV:!1},Wo="image/avif",Uo="avif",So=[8,10,12,16];let ai,ii;async function jo(w){return ai??=await Cn(ko,w)}async function Do(w){return ii??=await Cn(Ro,w)}function Oo(w,I){return Zn("AVIF Encode",ai,ni,w,I)}function Mo(w){return On(ii.decode(w),"AVIF Decode")}var Rs=Object.freeze({__proto__:null,get AVIFTune(){return Yn},get Subsampling(){return Nn},bitDepth:So,decode:Mo,defaultOptions:ni,encode:Oo,extension:Uo,loadDecoder:Do,loadEncoder:jo,mimeType:Wo});let Ze;function la(w){return w==null}let En=null;function Fn(){return(En===null||En.buffer.detached===!0||En.buffer.detached===void 0&&En.buffer!==Ze.memory.buffer)&&(En=new DataView(Ze.memory.buffer)),En}const oi=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&oi.decode();let jn=null;function Pn(){return(jn===null||jn.byteLength===0)&&(jn=new Uint8Array(Ze.memory.buffer)),jn}function va(w,I){return w=w>>>0,oi.decode(Pn().subarray(w,w+I))}let An=0;const Ln=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Vo=typeof Ln.encodeInto=="function"?function(w,I){return Ln.encodeInto(w,I)}:function(w,I){const J=Ln.encode(w);return I.set(J),{read:w.length,written:J.length}};function ri(w,I,J){if(J===void 0){const _r=Ln.encode(w),gr=I(_r.length,1)>>>0;return Pn().subarray(gr,gr+_r.length).set(_r),An=_r.length,gr}let i=w.length,Z=I(i,1)>>>0;const cr=Pn();let wr=0;for(;wr<i;wr++){const _r=w.charCodeAt(wr);if(_r>127)break;cr[Z+wr]=_r}if(wr!==i){wr!==0&&(w=w.slice(wr)),Z=J(Z,i,i=wr+w.length*3,1)>>>0;const _r=Pn().subarray(Z+wr,Z+i),gr=Vo(w,_r);wr+=gr.written,Z=J(Z,i,wr,1)>>>0}return An=wr,Z}function ca(w){const I=typeof w;if(I=="number"||I=="boolean"||w==null)return`${w}`;if(I=="string")return`"${w}"`;if(I=="symbol"){const Z=w.description;return Z==null?"Symbol":`Symbol(${Z})`}if(I=="function"){const Z=w.name;return typeof Z=="string"&&Z.length>0?`Function(${Z})`:"Function"}if(Array.isArray(w)){const Z=w.length;let cr="[";Z>0&&(cr+=ca(w[0]));for(let wr=1;wr<Z;wr++)cr+=", "+ca(w[wr]);return cr+="]",cr}const J=/\[object ([^\]]+)\]/.exec(toString.call(w));let i;if(J.length>1)i=J[1];else return toString.call(w);if(i=="Object")try{return"Object("+JSON.stringify(w)+")"}catch{return"Object"}return w instanceof Error?`${w.name}: ${w.message}
${w.stack}`:i}function ha(w,I){const J=I(w.length*1,1)>>>0;return Pn().set(w,J/1),An=w.length,J}function si(w,I){return w=w>>>0,Pn().subarray(w/1,w/1+I)}function Io(w,I,J,i){const Z=ha(w,Ze.__wbindgen_malloc),cr=An,wr=Ze.quantize(Z,cr,I,J,i);var _r=si(wr[0],wr[1]).slice();return Ze.__wbindgen_free(wr[0],wr[1]*1,1),_r}function Ho(w,I,J,i){const Z=ha(w,Ze.__wbindgen_malloc),cr=An,wr=Ze.optimize(Z,cr,I,J,i);var _r=si(wr[0],wr[1]).slice();return Ze.__wbindgen_free(wr[0],wr[1]*1,1),_r}function xo(w){const I=ha(w,Ze.__wbindgen_malloc),J=An;return Ze.png_to_rgba(I,J)}async function Bo(w,I){if(typeof Response=="function"&&w instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(w,I)}catch(i){if(w.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const J=await w.arrayBuffer();return await WebAssembly.instantiate(J,I)}else{const J=await WebAssembly.instantiate(w,I);return J instanceof WebAssembly.Instance?{instance:J,module:w}:J}}function Lo(){const w={};return w.wbg={},w.wbg.__wbg_length_9254c4bd3b9f23c4=function(I){return I.length},w.wbg.__wbindgen_memory=function(){return Ze.memory},w.wbg.__wbg_buffer_ccaed51a635d8a2d=function(I){return I.buffer},w.wbg.__wbg_new_fec2611eb9180f95=function(I){return new Uint8Array(I)},w.wbg.__wbg_set_ec2fcf81bc573fd9=function(I,J,i){I.set(J,i>>>0)},w.wbg.__wbindgen_is_object=function(I){const J=I;return typeof J=="object"&&J!==null},w.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(I,J){return I[J]},w.wbg.__wbindgen_is_undefined=function(I){return I===void 0},w.wbg.__wbindgen_in=function(I,J){return I in J},w.wbg.__wbindgen_number_get=function(I,J){const i=J,Z=typeof i=="number"?i:void 0;Fn().setFloat64(I+8,la(Z)?0:Z,!0),Fn().setInt32(I+0,!la(Z),!0)},w.wbg.__wbindgen_boolean_get=function(I){const J=I;return typeof J=="boolean"?J?1:0:2},w.wbg.__wbg_newwithbyteoffsetandlength_c6c304b977592ee5=function(I,J,i){return new Uint8ClampedArray(I,J>>>0,i>>>0)},w.wbg.__wbg_new_fb4b8ee0c32ac701=function(I){return new Uint8ClampedArray(I)},w.wbg.__wbindgen_number_new=function(I){return I},w.wbg.__wbg_of_89e8c832a3ab551d=function(I,J,i){return Array.of(I,J,i)},w.wbg.__wbindgen_error_new=function(I,J){return new Error(va(I,J))},w.wbg.__wbindgen_jsval_loose_eq=function(I,J){return I==J},w.wbg.__wbindgen_string_get=function(I,J){const i=J,Z=typeof i=="string"?i:void 0;var cr=la(Z)?0:ri(Z,Ze.__wbindgen_malloc,Ze.__wbindgen_realloc),wr=An;Fn().setInt32(I+4,wr,!0),Fn().setInt32(I+0,cr,!0)},w.wbg.__wbg_instanceof_Uint8Array_df0761410414ef36=function(I){let J;try{J=I instanceof Uint8Array}catch{J=!1}return J},w.wbg.__wbg_instanceof_ArrayBuffer_74945570b4a62ec7=function(I){let J;try{J=I instanceof ArrayBuffer}catch{J=!1}return J},w.wbg.__wbg_isSafeInteger_b9dff570f01a9100=function(I){return Number.isSafeInteger(I)},w.wbg.__wbindgen_as_number=function(I){return+I},w.wbg.__wbindgen_string_new=function(I,J){return va(I,J)},w.wbg.__wbindgen_debug_string=function(I,J){const i=ca(J),Z=ri(i,Ze.__wbindgen_malloc,Ze.__wbindgen_realloc),cr=An;Fn().setInt32(I+4,cr,!0),Fn().setInt32(I+0,Z,!0)},w.wbg.__wbindgen_throw=function(I,J){throw new Error(va(I,J))},w.wbg.__wbindgen_init_externref_table=function(){const I=Ze.__wbindgen_export_2,J=I.grow(4);I.set(0,void 0),I.set(J+0,void 0),I.set(J+1,null),I.set(J+2,!0),I.set(J+3,!1)},w}function No(w,I){return Ze=w.exports,ui.__wbindgen_wasm_module=I,En=null,jn=null,Ze.__wbindgen_start(),Ze}async function ui(w){if(Ze!==void 0)return Ze;typeof w<"u"&&(Object.getPrototypeOf(w)===Object.prototype?{module_or_path:w}=w:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof w>"u"&&(w=new URL(""+new URL("../assets/pngquant_bg-DegLBcfT.wasm",import.meta.url).href,import.meta.url));const I=Lo();(typeof w=="string"||typeof Request=="function"&&w instanceof Request||typeof URL=="function"&&w instanceof URL)&&(w=fetch(w));const{instance:J,module:i}=await Bo(await w,I);return No(J,i)}const Dn={speed:4,quality:75,colors:256,dithering:1,level:3,interlace:!1,quantize:!0,bit_depth:8},Yo=[8,16],Jo="image/png",qo="png",fi=w=>ui({module_or_path:w}),Ko=fi;function Go(w,I){I={...Dn,...I};const{data:J,width:i,height:Z}=ei(w,8);return Io(J,i,Z,{...Dn,...I})}function Xo(w,I){I={...Dn,...I},I.quantize&&(w=ei(w,8));const{data:J,width:i,height:Z,depth:cr}=w;return I.bit_depth=cr,Ho(J,i,Z,{...Dn,...I})}function Zo(w){const[I,J,i]=xo(w);let Z=I.byteLength/J/4;return i===16&&(Z/=2),_icodec_ImageData(I,J,Z,i)}var Ws=Object.freeze({__proto__:null,bitDepth:Yo,decode:Zo,defaultOptions:Dn,encode:Xo,extension:qo,loadDecoder:Ko,loadEncoder:fi,mimeType:Jo,reduceColors:Go}),zo=(()=>{var w=import.meta.url;return(function(I={}){var J,i=I,Z,cr,wr=new Promise((r,t)=>{Z=r,cr=t}),_r=Object.assign({},i),gr=(r,t)=>{throw t},sr="";function pt(r){return i.locateFile?i.locateFile(r,sr):sr+r}var Y;typeof document<"u"&&document.currentScript&&(sr=document.currentScript.src),w&&(sr=w),sr.startsWith("blob:")?sr="":sr=sr.substr(0,sr.replace(/[?#].*/,"").lastIndexOf("/")+1),Y=r=>fetch(r,{credentials:"same-origin"}).then(t=>t.ok?t.arrayBuffer():Promise.reject(new Error(t.status+" : "+t.url)));var Qr=i.print||console.log.bind(console),Fr=i.printErr||console.error.bind(console);Object.assign(i,_r),_r=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram;var Xr=i.wasmBinary,Jr,xr=!1,vr,lr,Q,Nr,Cr,ur,ar,Re,Ie;function re(){var r=Jr.buffer;i.HEAP8=lr=new Int8Array(r),i.HEAP16=Nr=new Int16Array(r),i.HEAPU8=Q=new Uint8Array(r),i.HEAPU16=Cr=new Uint16Array(r),i.HEAP32=ur=new Int32Array(r),i.HEAPU32=ar=new Uint32Array(r),i.HEAPF32=Re=new Float32Array(r),i.HEAPF64=Ie=new Float64Array(r)}var we=[],qr=[],at=[];function kt(){var r=i.preRun;r&&(typeof r=="function"&&(r=[r]),r.forEach(Yt)),be(we)}function it(){be(qr)}function We(){var r=i.postRun;r&&(typeof r=="function"&&(r=[r]),r.forEach(ee)),be(at)}function Yt(r){we.unshift(r)}function Jt(r){qr.unshift(r)}function ee(r){at.unshift(r)}var Tr=0,ne=null;function qt(r){Tr++,i.monitorRunDependencies?.(Tr)}function _t(r){if(Tr--,i.monitorRunDependencies?.(Tr),Tr==0&&ne){var t=ne;ne=null,t()}}function ae(r){i.onAbort?.(r),r="Aborted("+r+")",Fr(r),xr=!0,r+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(r);throw cr(t),t}var ht="data:application/octet-stream;base64,",ze=r=>r.startsWith(ht);function Qe(){if(i.locateFile){var r="mozjpeg.wasm";return ze(r)?r:pt(r)}return new URL(""+new URL("../assets/mozjpeg-CV7E7V1O.wasm",import.meta.url).href,import.meta.url).href}var de;function ot(r){if(r==de&&Xr)return new Uint8Array(Xr);throw"both async and sync fetching of the wasm failed"}function gt(r){return Xr?Promise.resolve().then(()=>ot(r)):Y(r).then(t=>new Uint8Array(t),()=>ot(r))}function yt(r,t,s){return gt(r).then(l=>WebAssembly.instantiate(l,t)).then(s,l=>{Fr(`failed to asynchronously prepare wasm: ${l}`),ae(l)})}function Kt(r,t,s,l){return!r&&typeof WebAssembly.instantiateStreaming=="function"&&!ze(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(b=>{var $=WebAssembly.instantiateStreaming(b,s);return $.then(l,function(R){return Fr(`wasm streaming compile failed: ${R}`),Fr("falling back to ArrayBuffer instantiation"),yt(t,s,l)})}):yt(t,s,l)}function fn(){return{a:u}}function mt(){var r=fn();function t(l,b){return _=l.exports,Jr=_.D,re(),st=_.H,Jt(_.E),_t(),_}qt();function s(l){t(l.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(r,t)}catch(l){Fr(`Module.instantiateWasm callback failed with error: ${l}`),cr(l)}return de??=Qe(),Kt(Xr,de,r,s).catch(cr),{}}function Te(r){this.name="ExitStatus",this.message=`Program terminated with exit(${r})`,this.status=r}var be=r=>{r.forEach(t=>t(i))},Ae=i.noExitRuntime||!0,Pr=()=>{ae("")},$r={},pe=r=>{for(;r.length;){var t=r.pop(),s=r.pop();s(t)}};function mr(r){return this.fromWireType(ar[r>>2])}var Hr={},Mr={},le={},Ne,jr=r=>{throw new Ne(r)},ie=(r,t,s)=>{r.forEach(k=>le[k]=t);function l(k){var W=s(k);W.length!==r.length&&jr("Mismatched type converter count");for(var H=0;H<r.length;++H)Wr(r[H],W[H])}var b=new Array(t.length),$=[],R=0;t.forEach((k,W)=>{Mr.hasOwnProperty(k)?b[W]=Mr[k]:($.push(k),Hr.hasOwnProperty(k)||(Hr[k]=[]),Hr[k].push(()=>{b[W]=Mr[k],++R,R===$.length&&l(b)}))}),$.length===0&&l(b)},Ee=r=>{var t=$r[r];delete $r[r];var s=t.rawConstructor,l=t.rawDestructor,b=t.fields,$=b.map(R=>R.getterReturnType).concat(b.map(R=>R.setterArgumentType));ie([r],$,R=>{var k={};return b.forEach((W,H)=>{var L=W.fieldName,tr=R[H],Or=W.getter,d=W.getterContext,y=R[H+b.length],F=W.setter,S=W.setterContext;k[L]={read:B=>tr.fromWireType(Or(d,B)),write:(B,X)=>{var rr=[];F(S,B,y.toWireType(rr,X)),pe(rr)}}}),[{name:t.name,fromWireType:W=>{var H={};for(var L in k)H[L]=k[L].read(W);return l(W),H},toWireType:(W,H)=>{for(var L in k)if(!(L in H))throw new TypeError(`Missing field: "${L}"`);var tr=s();for(L in k)k[L].write(tr,H[L]);return W!==null&&W.push(l,tr),tr},argPackAdvance:Br,readValueFromPointer:mr,destructorFunction:l}]})},Ue=(r,t,s,l,b)=>{},Ce=()=>{for(var r=new Array(256),t=0;t<256;++t)r[t]=String.fromCharCode(t);br=r},br,fr=r=>{for(var t="",s=r;Q[s];)t+=br[Q[s++]];return t},oe,Rr=r=>{throw new oe(r)};function Ir(r,t,s={}){var l=t.name;if(r||Rr(`type "${l}" must have a positive integer typeid pointer`),Mr.hasOwnProperty(r)){if(s.ignoreDuplicateRegistrations)return;Rr(`Cannot register type '${l}' twice`)}if(Mr[r]=t,delete le[r],Hr.hasOwnProperty(r)){var b=Hr[r];delete Hr[r],b.forEach($=>$())}}function Wr(r,t,s={}){return Ir(r,t,s)}var Br=8,Dr=(r,t,s,l)=>{t=fr(t),Wr(r,{name:t,fromWireType:function(b){return!!b},toWireType:function(b,$){return $?s:l},argPackAdvance:Br,readValueFromPointer:function(b){return this.fromWireType(Q[b])},destructorFunction:null})},dr=[],Ar=[],ve=r=>{r>9&&--Ar[r+1]===0&&(Ar[r]=void 0,dr.push(r))},Ur=()=>Ar.length/2-5-dr.length,Se=()=>{Ar.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=Ur},Kr={toValue:r=>(r||Rr("Cannot use deleted val. handle = "+r),Ar[r]),toHandle:r=>{switch(r){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=dr.pop()||Ar.length;return Ar[t]=r,Ar[t+1]=1,t}}}},Zr={name:"emscripten::val",fromWireType:r=>{var t=Kr.toValue(r);return ve(r),t},toWireType:(r,t)=>Kr.toHandle(t),argPackAdvance:Br,readValueFromPointer:mr,destructorFunction:null},bt=r=>Wr(r,Zr),Ye=(r,t)=>{switch(t){case 4:return function(s){return this.fromWireType(Re[s>>2])};case 8:return function(s){return this.fromWireType(Ie[s>>3])};default:throw new TypeError(`invalid float width (${t}): ${r}`)}},yr=(r,t,s)=>{t=fr(t),Wr(r,{name:t,fromWireType:l=>l,toWireType:(l,b)=>b,argPackAdvance:Br,readValueFromPointer:Ye(t,s),destructorFunction:null})},$e=(r,t)=>Object.defineProperty(t,"name",{value:r});function rt(r){for(var t=1;t<r.length;++t)if(r[t]!==null&&r[t].destructorFunction===void 0)return!0;return!1}function je(r,t){if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var s=$e(r.name||"unknownFunctionName",function(){});s.prototype=r.prototype;var l=new s,b=r.apply(l,t);return b instanceof Object?b:l}function Fe(r,t,s,l){for(var b=rt(r),$=r.length-2,R=[],k=["fn"],W=0;W<$;++W)R.push(`arg${W}`),k.push(`arg${W}Wired`);R=R.join(","),k=k.join(",");var H=`return function (${R}) {
`;b&&(H+=`var destructors = [];
`);for(var L=b?"destructors":"null",tr=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"],W=0;W<$;++W)H+=`var arg${W}Wired = argType${W}['toWireType'](${L}, arg${W});
`,tr.push(`argType${W}`);if(H+=(s||l?"var rv = ":"")+`invoker(${k});
`,b)H+=`runDestructors(destructors);
`;else for(var W=2;W<r.length;++W){var Or=W===1?"thisWired":"arg"+(W-2)+"Wired";r[W].destructorFunction!==null&&(H+=`${Or}_dtor(${Or});
`,tr.push(`${Or}_dtor`))}return s&&(H+=`var ret = retType['fromWireType'](rv);
return ret;
`),H+=`}
`,[tr,H]}function Gr(r,t,s,l,b,$){var R=t.length;R<2&&Rr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var k=t[1]!==null&&s!==null,W=rt(t),H=t[0].name!=="void",L=[r,Rr,l,b,pe,t[0],t[1]],tr=0;tr<R-2;++tr)L.push(t[tr+2]);if(!W)for(var tr=2;tr<t.length;++tr)t[tr].destructorFunction!==null&&L.push(t[tr].destructorFunction);let[Or,d]=Fe(t,k,H,$);Or.push(d);var y=je(Function,Or)(...L);return $e(r,y)}var Gt=(r,t,s)=>{if(r[t].overloadTable===void 0){var l=r[t];r[t]=function(...b){return r[t].overloadTable.hasOwnProperty(b.length)||Rr(`Function '${s}' called with an invalid number of arguments (${b.length}) - expects one of (${r[t].overloadTable})!`),r[t].overloadTable[b.length].apply(this,b)},r[t].overloadTable=[],r[t].overloadTable[l.argCount]=l}},Mt=(r,t,s)=>{i.hasOwnProperty(r)?((s===void 0||i[r].overloadTable!==void 0&&i[r].overloadTable[s]!==void 0)&&Rr(`Cannot register public name '${r}' twice`),Gt(i,r,r),i.hasOwnProperty(s)&&Rr(`Cannot register multiple overloads of a function with the same number of arguments (${s})!`),i[r].overloadTable[s]=t):(i[r]=t,s!==void 0&&(i[r].numArguments=s))},Je=(r,t)=>{for(var s=[],l=0;l<r;l++)s.push(ar[t+l*4>>2]);return s},qe=(r,t,s)=>{i.hasOwnProperty(r)||jr("Replacing nonexistent public symbol"),i[r].overloadTable!==void 0&&s!==void 0?i[r].overloadTable[s]=t:(i[r]=t,i[r].argCount=s)},et=(r,t,s)=>{r=r.replace(/p/g,"i");var l=i["dynCall_"+r];return l(t,...s)},Ke=[],st,ut=r=>{var t=Ke[r];return t||(r>=Ke.length&&(Ke.length=r+1),Ke[r]=t=st.get(r)),t},Rt=(r,t,s=[])=>{if(r.includes("j"))return et(r,t,s);var l=ut(t)(...s);return l},fe=(r,t)=>(...s)=>Rt(r,t,s),zr=(r,t)=>{r=fr(r);function s(){return r.includes("j")?fe(r,t):ut(t)}var l=s();return typeof l!="function"&&Rr(`unknown function pointer with signature ${r}: ${t}`),l},Wt=(r,t)=>{var s=$e(t,function(l){this.name=t,this.message=l;var b=new Error(l).stack;b!==void 0&&(this.stack=this.toString()+`
`+b.replace(/^Error(:[^\n]*)?\n/,""))});return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},s},Vt,He=r=>{var t=j(r),s=fr(t);return T(t),s},tt=(r,t)=>{var s=[],l={};function b($){if(!l[$]&&!Mr[$]){if(le[$]){le[$].forEach(b);return}s.push($),l[$]=!0}}throw t.forEach(b),new Vt(`${r}: `+s.map(He).join([", "]))},te=r=>{r=r.trim();const t=r.indexOf("(");return t!==-1?r.substr(0,t):r},It=(r,t,s,l,b,$,R,k)=>{var W=Je(t,s);r=fr(r),r=te(r),b=zr(l,b),Mt(r,function(){tt(`Cannot call ${r} due to unbound types`,W)},t-1),ie([],W,H=>{var L=[H[0],null].concat(H.slice(1));return qe(r,Gr(r,L,null,b,$,R),t-1),[]})},ln=(r,t,s)=>{switch(t){case 1:return s?l=>lr[l]:l=>Q[l];case 2:return s?l=>Nr[l>>1]:l=>Cr[l>>1];case 4:return s?l=>ur[l>>2]:l=>ar[l>>2];default:throw new TypeError(`invalid integer width (${t}): ${r}`)}},wt=(r,t,s,l,b)=>{t=fr(t);var $=L=>L;if(l===0){var R=32-8*s;$=L=>L<<R>>>R}var k=t.includes("unsigned"),W=(L,tr)=>{},H;k?H=function(L,tr){return W(tr,this.name),tr>>>0}:H=function(L,tr){return W(tr,this.name),tr},Wr(r,{name:t,fromWireType:$,toWireType:H,argPackAdvance:Br,readValueFromPointer:ln(t,s,l!==0),destructorFunction:null})},vn=(r,t,s)=>{var l=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],b=l[t];function $(R){var k=ar[R>>2],W=ar[R+4>>2];return new b(lr.buffer,W,k)}s=fr(s),Wr(r,{name:s,fromWireType:$,argPackAdvance:Br,readValueFromPointer:$},{ignoreDuplicateRegistrations:!0})},Ht=(r,t,s,l)=>{if(!(l>0))return 0;for(var b=s,$=s+l-1,R=0;R<r.length;++R){var k=r.charCodeAt(R);if(k>=55296&&k<=57343){var W=r.charCodeAt(++R);k=65536+((k&1023)<<10)|W&1023}if(k<=127){if(s>=$)break;t[s++]=k}else if(k<=2047){if(s+1>=$)break;t[s++]=192|k>>6,t[s++]=128|k&63}else if(k<=65535){if(s+2>=$)break;t[s++]=224|k>>12,t[s++]=128|k>>6&63,t[s++]=128|k&63}else{if(s+3>=$)break;t[s++]=240|k>>18,t[s++]=128|k>>12&63,t[s++]=128|k>>6&63,t[s++]=128|k&63}}return t[s]=0,s-b},Xt=(r,t,s)=>Ht(r,Q,t,s),Zt=r=>{for(var t=0,s=0;s<r.length;++s){var l=r.charCodeAt(s);l<=127?t++:l<=2047?t+=2:l>=55296&&l<=57343?(t+=4,++s):t+=3}return t},Ut=new TextDecoder,cn=(r,t)=>{if(!r)return"";for(var s=r+t,l=r;!(l>=s)&&Q[l];)++l;return Ut.decode(Q.subarray(r,l))},Tt=(r,t)=>{t=fr(t);var s=t==="std::string";Wr(r,{name:t,fromWireType(l){var b=ar[l>>2],$=l+4,R;if(s)for(var k=$,W=0;W<=b;++W){var H=$+W;if(W==b||Q[H]==0){var L=H-k,tr=cn(k,L);R===void 0?R=tr:(R+="\0",R+=tr),k=H+1}}else{for(var Or=new Array(b),W=0;W<b;++W)Or[W]=String.fromCharCode(Q[$+W]);R=Or.join("")}return T(l),R},toWireType(l,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));var $,R=typeof b=="string";R||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int8Array||Rr("Cannot pass non-string to std::string"),s&&R?$=Zt(b):$=b.length;var k=V(4+$+1),W=k+4;if(ar[k>>2]=$,s&&R)Xt(b,W,$+1);else if(R)for(var H=0;H<$;++H){var L=b.charCodeAt(H);L>255&&(T(W),Rr("String has UTF-16 code units that do not fit in 8 bits")),Q[W+H]=L}else for(var H=0;H<$;++H)Q[W+H]=b[H];return l!==null&&l.push(T,k),k},argPackAdvance:Br,readValueFromPointer:mr,destructorFunction(l){T(l)}})},zt=new TextDecoder("utf-16le"),Qt=(r,t)=>{for(var s=r,l=s>>1,b=l+t/2;!(l>=b)&&Cr[l];)++l;return s=l<<1,zt.decode(Q.subarray(r,s))},rn=(r,t,s)=>{if(s??=2147483647,s<2)return 0;s-=2;for(var l=t,b=s<r.length*2?s/2:r.length,$=0;$<b;++$){var R=r.charCodeAt($);Nr[t>>1]=R,t+=2}return Nr[t>>1]=0,t-l},en=r=>r.length*2,tn=(r,t)=>{for(var s=0,l="";!(s>=t/4);){var b=ur[r+s*4>>2];if(b==0)break;if(++s,b>=65536){var $=b-65536;l+=String.fromCharCode(55296|$>>10,56320|$&1023)}else l+=String.fromCharCode(b)}return l},dn=(r,t,s)=>{if(s??=2147483647,s<4)return 0;for(var l=t,b=l+s-4,$=0;$<r.length;++$){var R=r.charCodeAt($);if(R>=55296&&R<=57343){var k=r.charCodeAt(++$);R=65536+((R&1023)<<10)|k&1023}if(ur[t>>2]=R,t+=4,t+4>b)break}return ur[t>>2]=0,t-l},St=r=>{for(var t=0,s=0;s<r.length;++s){var l=r.charCodeAt(s);l>=55296&&l<=57343&&++s,t+=4}return t},xt=(r,t,s)=>{s=fr(s);var l,b,$,R;t===2?(l=Qt,b=rn,R=en,$=k=>Cr[k>>1]):t===4&&(l=tn,b=dn,R=St,$=k=>ar[k>>2]),Wr(r,{name:s,fromWireType:k=>{for(var W=ar[k>>2],H,L=k+4,tr=0;tr<=W;++tr){var Or=k+4+tr*t;if(tr==W||$(Or)==0){var d=Or-L,y=l(L,d);H===void 0?H=y:(H+="\0",H+=y),L=Or+t}}return T(k),H},toWireType:(k,W)=>{typeof W!="string"&&Rr(`Cannot pass non-string to C++ string type ${s}`);var H=R(W),L=V(4+H+t);return ar[L>>2]=H/t,b(W,L+4,H+t),k!==null&&k.push(T,L),L},argPackAdvance:Br,readValueFromPointer:mr,destructorFunction(k){T(k)}})},xe=(r,t,s,l,b,$)=>{$r[r]={name:fr(t),rawConstructor:zr(s,l),rawDestructor:zr(b,$),fields:[]}},ft=(r,t,s,l,b,$,R,k,W,H)=>{$r[r].fields.push({fieldName:fr(t),getterReturnType:s,getter:zr(l,b),getterContext:$,setterArgumentType:R,setter:zr(k,W),setterContext:H})},nt=(r,t)=>{t=fr(t),Wr(r,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(s,l)=>{}})},At=(r,t,s)=>Q.copyWithin(r,t,t+s),jt=()=>{Ae=!1,Me=0},De=[],Bt=(r,t,s,l)=>(r=De[r],t=Kr.toValue(t),r(null,t,s,l)),pn={},Et=r=>{var t=pn[r];return t===void 0?fr(r):t},Dt=()=>typeof globalThis=="object"?globalThis:(function(){return Function})()("return this")(),nn=r=>r===0?Kr.toHandle(Dt()):(r=Et(r),Kr.toHandle(Dt()[r])),ue=r=>{var t=De.length;return De.push(r),t},Ge=(r,t)=>{var s=Mr[r];return s===void 0&&Rr(`${t} has unknown type ${He(r)}`),s},Er=(r,t)=>{for(var s=new Array(r),l=0;l<r;++l)s[l]=Ge(ar[t+l*4>>2],"parameter "+l);return s},lt=(r,t,s)=>{var l=[],b=r.toWireType(l,s);return l.length&&(ar[t>>2]=Kr.toHandle(l)),b},_e=(r,t,s)=>{var l=Er(r,t),b=l.shift();r--;var $=`return function (obj, func, destructorsRef, args) {
`,R=0,k=[];s===0&&k.push("obj");for(var W=["retType"],H=[b],L=0;L<r;++L)k.push("arg"+L),W.push("argType"+L),H.push(l[L]),$+=`  var arg${L} = argType${L}.readValueFromPointer(args${R?"+"+R:""});
`,R+=l[L].argPackAdvance;var tr=s===1?"new func":"func.call";$+=`  var rv = ${tr}(${k.join(", ")});
`,b.isVoid||(W.push("emval_returnValue"),H.push(lt),$+=`  return emval_returnValue(retType, destructorsRef, rv);
`),$+=`};
`,W.push($);var Or=je(Function,W)(...H),d=`methodCaller<(${l.map(y=>y.name).join(", ")}) => ${b.name}>`;return ue($e(d,Or))},he=r=>{r>9&&(Ar[r+1]+=1)},Lt=r=>{var t=Kr.toValue(r);pe(t),ve(r)},Oe={},Be=r=>{if(r instanceof Te||r=="unwind")return vr;gr(1,r)},Me=0,vt=()=>Ae||Me>0,Ct=r=>{vr=r,vt()||(i.onExit?.(r),xr=!0),gr(r,new Te(r))},Ot=(r,t)=>{vr=r,Ct(r)},$t=Ot,ct=()=>{if(!vt())try{$t(vr)}catch(r){Be(r)}},an=r=>{if(!xr)try{r(),ct()}catch(t){Be(t)}},on=()=>performance.now(),sn=(r,t)=>{if(Oe[r]&&(clearTimeout(Oe[r].id),delete Oe[r]),!t)return 0;var s=setTimeout(()=>{delete Oe[r],an(()=>o(r,on()))},t);return Oe[r]={id:s,timeout_ms:t},0},ge=()=>2147483648,Pe=(r,t)=>Math.ceil(r/t)*t,Xe=r=>{var t=Jr.buffer,s=(r-t.byteLength+65535)/65536|0;try{return Jr.grow(s),re(),1}catch{}},ke=r=>{var t=Q.length;r>>>=0;var s=ge();if(r>s)return!1;for(var l=1;l<=4;l*=2){var b=t*(1+.2/l);b=Math.min(b,r+100663296);var $=Math.min(s,Pe(Math.max(r,b),65536)),R=Xe($);if(R)return!0}return!1},ye=r=>52;function Ve(r,t,s,l,b){return 70}var Ft=[null,[],[]],ce=(r,t=0,s=NaN)=>{for(var l=t+s,b=t;r[b]&&!(b>=l);)++b;return Ut.decode(r.buffer?r.subarray(t,b):new Uint8Array(r.slice(t,b)))},p=(r,t)=>{var s=Ft[r];t===0||t===10?((r===1?Qr:Fr)(ce(s)),s.length=0):s.push(t)},n=(r,t,s,l)=>{for(var b=0,$=0;$<s;$++){var R=ar[t>>2],k=ar[t+4>>2];t+=8;for(var W=0;W<k;W++)p(r,Q[R+W]);b+=k}return ar[l>>2]=b,0};Ne=i.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Ce(),oe=i.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Se(),Vt=i.UnboundTypeError=Wt(Error,"UnboundTypeError");var u={y:Pr,n:Ee,q:Ue,B:Dr,A:bt,k:yr,j:It,c:wt,a:vn,l:Tt,h:xt,o:xe,b:ft,C:nt,x:At,s:jt,g:Bt,d:ve,i:nn,f:_e,m:he,e:Lt,t:sn,u:ke,z:$t,v:ye,p:Ve,w:n,r:Ct},_=mt(),T=r=>(T=_.F)(r),j=r=>(j=_.G)(r),V=r=>(V=_.I)(r),o=(r,t)=>(o=_.J)(r,t);i.dynCall_jiji=(r,t,s,l,b)=>(i.dynCall_jiji=_.K)(r,t,s,l,b);var f,m;ne=function r(){f||A(),f||(ne=r)};function A(){if(Tr>0||!m&&(m=1,kt(),Tr>0))return;function r(){f||(f=1,i.calledRun=1,!xr&&(it(),Z(i),i.onRuntimeInitialized?.(),We()))}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),r()},1)):r()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return A(),J=wr,J})})(),Jn;(function(w){w[w.GRAYSCALE=1]="GRAYSCALE",w[w.RGB=2]="RGB",w[w.YCbCr=3]="YCbCr"})(Jn||(Jn={}));var qn;(function(w){w[w.JPEG_Annex_K=0]="JPEG_Annex_K",w[w.Flat=1]="Flat",w[w.MSSIM_Tuned_Kodak=2]="MSSIM_Tuned_Kodak",w[w.ImageMagick=3]="ImageMagick",w[w.PSNR_HVS_M_Tuned_Kodak=4]="PSNR_HVS_M_Tuned_Kodak",w[w.Klein_Silverstein_Carney=5]="Klein_Silverstein_Carney",w[w.Watson_Taylor_Borthwick=6]="Watson_Taylor_Borthwick",w[w.Ahumada_Watson_Peterson=7]="Ahumada_Watson_Peterson",w[w.Peterson_Ahumada_Watson=8]="Peterson_Ahumada_Watson"})(qn||(qn={}));const li={quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimizeCoding:!0,smoothing:0,colorSpace:Jn.YCbCr,quantTable:qn.ImageMagick,trellisMultipass:!1,trellisOptZero:!1,trellisOptTable:!1,trellisLoops:1,autoSubsample:!0,chromaSubsample:2,separateChromaQuality:!1,chromaQuality:75},Qo=[8],rs="image/jpeg",es="jpg";let ga;async function vi(w){return ga=await Cn(zo,w)}const ts=vi;function ns(w,I){return Zn("JPEG Encode",ga,li,w,I)}function as(w){return On(ga.decode(w),"JPEG Decode")}var js=Object.freeze({__proto__:null,get ColorSpace(){return Jn},get Quantization(){return qn},bitDepth:Qo,decode:as,defaultOptions:li,encode:ns,extension:es,loadDecoder:ts,loadEncoder:vi,mimeType:rs}),is=(()=>{var w=import.meta.url;return(function(I={}){var J,i=I,Z,cr,wr=new Promise((r,t)=>{Z=r,cr=t}),_r=Object.assign({},i),gr=(r,t)=>{throw t},sr="";function pt(r){return i.locateFile?i.locateFile(r,sr):sr+r}var Y;typeof document<"u"&&document.currentScript&&(sr=document.currentScript.src),w&&(sr=w),sr.startsWith("blob:")?sr="":sr=sr.substr(0,sr.replace(/[?#].*/,"").lastIndexOf("/")+1),Y=r=>fetch(r,{credentials:"same-origin"}).then(t=>t.ok?t.arrayBuffer():Promise.reject(new Error(t.status+" : "+t.url)));var Qr=i.print||console.log.bind(console),Fr=i.printErr||console.error.bind(console);Object.assign(i,_r),_r=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram;var Xr=i.wasmBinary,Jr,xr=!1,vr,lr,Q,Nr,Cr,ur,ar,Re,Ie;function re(){var r=Jr.buffer;i.HEAP8=lr=new Int8Array(r),i.HEAP16=Nr=new Int16Array(r),i.HEAPU8=Q=new Uint8Array(r),i.HEAPU16=Cr=new Uint16Array(r),i.HEAP32=ur=new Int32Array(r),i.HEAPU32=ar=new Uint32Array(r),i.HEAPF32=Re=new Float32Array(r),i.HEAPF64=Ie=new Float64Array(r)}var we=[],qr=[],at=[];function kt(){var r=i.preRun;r&&(typeof r=="function"&&(r=[r]),r.forEach(Yt)),be(we)}function it(){be(qr)}function We(){var r=i.postRun;r&&(typeof r=="function"&&(r=[r]),r.forEach(ee)),be(at)}function Yt(r){we.unshift(r)}function Jt(r){qr.unshift(r)}function ee(r){at.unshift(r)}var Tr=0,ne=null;function qt(r){Tr++,i.monitorRunDependencies?.(Tr)}function _t(r){if(Tr--,i.monitorRunDependencies?.(Tr),Tr==0&&ne){var t=ne;ne=null,t()}}function ae(r){i.onAbort?.(r),r="Aborted("+r+")",Fr(r),xr=!0,r+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(r);throw cr(t),t}var ht="data:application/octet-stream;base64,",ze=r=>r.startsWith(ht);function Qe(){if(i.locateFile){var r="jxl-enc.wasm";return ze(r)?r:pt(r)}return new URL(""+new URL("../assets/jxl-enc-BibvBtSE.wasm",import.meta.url).href,import.meta.url).href}var de;function ot(r){if(r==de&&Xr)return new Uint8Array(Xr);throw"both async and sync fetching of the wasm failed"}function gt(r){return Xr?Promise.resolve().then(()=>ot(r)):Y(r).then(t=>new Uint8Array(t),()=>ot(r))}function yt(r,t,s){return gt(r).then(l=>WebAssembly.instantiate(l,t)).then(s,l=>{Fr(`failed to asynchronously prepare wasm: ${l}`),ae(l)})}function Kt(r,t,s,l){return!r&&typeof WebAssembly.instantiateStreaming=="function"&&!ze(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(b=>{var $=WebAssembly.instantiateStreaming(b,s);return $.then(l,function(R){return Fr(`wasm streaming compile failed: ${R}`),Fr("falling back to ArrayBuffer instantiation"),yt(t,s,l)})}):yt(t,s,l)}function fn(){return{a:u}}function mt(){var r=fn();function t(l,b){return _=l.exports,Jr=_.D,re(),st=_.G,Jt(_.E),_t(),_}qt();function s(l){t(l.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(r,t)}catch(l){Fr(`Module.instantiateWasm callback failed with error: ${l}`),cr(l)}return de??=Qe(),Kt(Xr,de,r,s).catch(cr),{}}function Te(r){this.name="ExitStatus",this.message=`Program terminated with exit(${r})`,this.status=r}var be=r=>{r.forEach(t=>t(i))},Ae=i.noExitRuntime||!0,Pr=()=>{ae("")},$r={},pe=r=>{for(;r.length;){var t=r.pop(),s=r.pop();s(t)}};function mr(r){return this.fromWireType(ar[r>>2])}var Hr={},Mr={},le={},Ne,jr=r=>{throw new Ne(r)},ie=(r,t,s)=>{r.forEach(k=>le[k]=t);function l(k){var W=s(k);W.length!==r.length&&jr("Mismatched type converter count");for(var H=0;H<r.length;++H)Wr(r[H],W[H])}var b=new Array(t.length),$=[],R=0;t.forEach((k,W)=>{Mr.hasOwnProperty(k)?b[W]=Mr[k]:($.push(k),Hr.hasOwnProperty(k)||(Hr[k]=[]),Hr[k].push(()=>{b[W]=Mr[k],++R,R===$.length&&l(b)}))}),$.length===0&&l(b)},Ee=r=>{var t=$r[r];delete $r[r];var s=t.rawConstructor,l=t.rawDestructor,b=t.fields,$=b.map(R=>R.getterReturnType).concat(b.map(R=>R.setterArgumentType));ie([r],$,R=>{var k={};return b.forEach((W,H)=>{var L=W.fieldName,tr=R[H],Or=W.getter,d=W.getterContext,y=R[H+b.length],F=W.setter,S=W.setterContext;k[L]={read:B=>tr.fromWireType(Or(d,B)),write:(B,X)=>{var rr=[];F(S,B,y.toWireType(rr,X)),pe(rr)}}}),[{name:t.name,fromWireType:W=>{var H={};for(var L in k)H[L]=k[L].read(W);return l(W),H},toWireType:(W,H)=>{for(var L in k)if(!(L in H))throw new TypeError(`Missing field: "${L}"`);var tr=s();for(L in k)k[L].write(tr,H[L]);return W!==null&&W.push(l,tr),tr},argPackAdvance:Br,readValueFromPointer:mr,destructorFunction:l}]})},Ue=(r,t,s,l,b)=>{},Ce=()=>{for(var r=new Array(256),t=0;t<256;++t)r[t]=String.fromCharCode(t);br=r},br,fr=r=>{for(var t="",s=r;Q[s];)t+=br[Q[s++]];return t},oe,Rr=r=>{throw new oe(r)};function Ir(r,t,s={}){var l=t.name;if(r||Rr(`type "${l}" must have a positive integer typeid pointer`),Mr.hasOwnProperty(r)){if(s.ignoreDuplicateRegistrations)return;Rr(`Cannot register type '${l}' twice`)}if(Mr[r]=t,delete le[r],Hr.hasOwnProperty(r)){var b=Hr[r];delete Hr[r],b.forEach($=>$())}}function Wr(r,t,s={}){return Ir(r,t,s)}var Br=8,Dr=(r,t,s,l)=>{t=fr(t),Wr(r,{name:t,fromWireType:function(b){return!!b},toWireType:function(b,$){return $?s:l},argPackAdvance:Br,readValueFromPointer:function(b){return this.fromWireType(Q[b])},destructorFunction:null})},dr=[],Ar=[],ve=r=>{r>9&&--Ar[r+1]===0&&(Ar[r]=void 0,dr.push(r))},Ur=()=>Ar.length/2-5-dr.length,Se=()=>{Ar.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=Ur},Kr={toValue:r=>(r||Rr("Cannot use deleted val. handle = "+r),Ar[r]),toHandle:r=>{switch(r){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const t=dr.pop()||Ar.length;return Ar[t]=r,Ar[t+1]=1,t}}}},Zr={name:"emscripten::val",fromWireType:r=>{var t=Kr.toValue(r);return ve(r),t},toWireType:(r,t)=>Kr.toHandle(t),argPackAdvance:Br,readValueFromPointer:mr,destructorFunction:null},bt=r=>Wr(r,Zr),Ye=(r,t)=>{switch(t){case 4:return function(s){return this.fromWireType(Re[s>>2])};case 8:return function(s){return this.fromWireType(Ie[s>>3])};default:throw new TypeError(`invalid float width (${t}): ${r}`)}},yr=(r,t,s)=>{t=fr(t),Wr(r,{name:t,fromWireType:l=>l,toWireType:(l,b)=>b,argPackAdvance:Br,readValueFromPointer:Ye(t,s),destructorFunction:null})},$e=(r,t)=>Object.defineProperty(t,"name",{value:r});function rt(r){for(var t=1;t<r.length;++t)if(r[t]!==null&&r[t].destructorFunction===void 0)return!0;return!1}function je(r,t){if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var s=$e(r.name||"unknownFunctionName",function(){});s.prototype=r.prototype;var l=new s,b=r.apply(l,t);return b instanceof Object?b:l}function Fe(r,t,s,l){for(var b=rt(r),$=r.length-2,R=[],k=["fn"],W=0;W<$;++W)R.push(`arg${W}`),k.push(`arg${W}Wired`);R=R.join(","),k=k.join(",");var H=`return function (${R}) {
`;b&&(H+=`var destructors = [];
`);for(var L=b?"destructors":"null",tr=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"],W=0;W<$;++W)H+=`var arg${W}Wired = argType${W}['toWireType'](${L}, arg${W});
`,tr.push(`argType${W}`);if(H+=(s||l?"var rv = ":"")+`invoker(${k});
`,b)H+=`runDestructors(destructors);
`;else for(var W=2;W<r.length;++W){var Or=W===1?"thisWired":"arg"+(W-2)+"Wired";r[W].destructorFunction!==null&&(H+=`${Or}_dtor(${Or});
`,tr.push(`${Or}_dtor`))}return s&&(H+=`var ret = retType['fromWireType'](rv);
return ret;
`),H+=`}
`,[tr,H]}function Gr(r,t,s,l,b,$){var R=t.length;R<2&&Rr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var k=t[1]!==null&&s!==null,W=rt(t),H=t[0].name!=="void",L=[r,Rr,l,b,pe,t[0],t[1]],tr=0;tr<R-2;++tr)L.push(t[tr+2]);if(!W)for(var tr=2;tr<t.length;++tr)t[tr].destructorFunction!==null&&L.push(t[tr].destructorFunction);let[Or,d]=Fe(t,k,H,$);Or.push(d);var y=je(Function,Or)(...L);return $e(r,y)}var Gt=(r,t,s)=>{if(r[t].overloadTable===void 0){var l=r[t];r[t]=function(...b){return r[t].overloadTable.hasOwnProperty(b.length)||Rr(`Function '${s}' called with an invalid number of arguments (${b.length}) - expects one of (${r[t].overloadTable})!`),r[t].overloadTable[b.length].apply(this,b)},r[t].overloadTable=[],r[t].overloadTable[l.argCount]=l}},Mt=(r,t,s)=>{i.hasOwnProperty(r)?((s===void 0||i[r].overloadTable!==void 0&&i[r].overloadTable[s]!==void 0)&&Rr(`Cannot register public name '${r}' twice`),Gt(i,r,r),i.hasOwnProperty(s)&&Rr(`Cannot register multiple overloads of a function with the same number of arguments (${s})!`),i[r].overloadTable[s]=t):(i[r]=t,s!==void 0&&(i[r].numArguments=s))},Je=(r,t)=>{for(var s=[],l=0;l<r;l++)s.push(ar[t+l*4>>2]);return s},qe=(r,t,s)=>{i.hasOwnProperty(r)||jr("Replacing nonexistent public symbol"),i[r].overloadTable!==void 0&&s!==void 0?i[r].overloadTable[s]=t:(i[r]=t,i[r].argCount=s)},et=(r,t,s)=>{r=r.replace(/p/g,"i");var l=i["dynCall_"+r];return l(t,...s)},Ke=[],st,ut=r=>{var t=Ke[r];return t||(r>=Ke.length&&(Ke.length=r+1),Ke[r]=t=st.get(r)),t},Rt=(r,t,s=[])=>{if(r.includes("j"))return et(r,t,s);var l=ut(t)(...s);return l},fe=(r,t)=>(...s)=>Rt(r,t,s),zr=(r,t)=>{r=fr(r);function s(){return r.includes("j")?fe(r,t):ut(t)}var l=s();return typeof l!="function"&&Rr(`unknown function pointer with signature ${r}: ${t}`),l},Wt=(r,t)=>{var s=$e(t,function(l){this.name=t,this.message=l;var b=new Error(l).stack;b!==void 0&&(this.stack=this.toString()+`
`+b.replace(/^Error(:[^\n]*)?\n/,""))});return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},s},Vt,He=r=>{var t=T(r),s=fr(t);return V(t),s},tt=(r,t)=>{var s=[],l={};function b($){if(!l[$]&&!Mr[$]){if(le[$]){le[$].forEach(b);return}s.push($),l[$]=!0}}throw t.forEach(b),new Vt(`${r}: `+s.map(He).join([", "]))},te=r=>{r=r.trim();const t=r.indexOf("(");return t!==-1?r.substr(0,t):r},It=(r,t,s,l,b,$,R,k)=>{var W=Je(t,s);r=fr(r),r=te(r),b=zr(l,b),Mt(r,function(){tt(`Cannot call ${r} due to unbound types`,W)},t-1),ie([],W,H=>{var L=[H[0],null].concat(H.slice(1));return qe(r,Gr(r,L,null,b,$,R),t-1),[]})},ln=(r,t,s)=>{switch(t){case 1:return s?l=>lr[l]:l=>Q[l];case 2:return s?l=>Nr[l>>1]:l=>Cr[l>>1];case 4:return s?l=>ur[l>>2]:l=>ar[l>>2];default:throw new TypeError(`invalid integer width (${t}): ${r}`)}},wt=(r,t,s,l,b)=>{t=fr(t);var $=L=>L;if(l===0){var R=32-8*s;$=L=>L<<R>>>R}var k=t.includes("unsigned"),W=(L,tr)=>{},H;k?H=function(L,tr){return W(tr,this.name),tr>>>0}:H=function(L,tr){return W(tr,this.name),tr},Wr(r,{name:t,fromWireType:$,toWireType:H,argPackAdvance:Br,readValueFromPointer:ln(t,s,l!==0),destructorFunction:null})},vn=(r,t,s)=>{var l=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],b=l[t];function $(R){var k=ar[R>>2],W=ar[R+4>>2];return new b(lr.buffer,W,k)}s=fr(s),Wr(r,{name:s,fromWireType:$,argPackAdvance:Br,readValueFromPointer:$},{ignoreDuplicateRegistrations:!0})},Ht=(r,t,s,l)=>{if(!(l>0))return 0;for(var b=s,$=s+l-1,R=0;R<r.length;++R){var k=r.charCodeAt(R);if(k>=55296&&k<=57343){var W=r.charCodeAt(++R);k=65536+((k&1023)<<10)|W&1023}if(k<=127){if(s>=$)break;t[s++]=k}else if(k<=2047){if(s+1>=$)break;t[s++]=192|k>>6,t[s++]=128|k&63}else if(k<=65535){if(s+2>=$)break;t[s++]=224|k>>12,t[s++]=128|k>>6&63,t[s++]=128|k&63}else{if(s+3>=$)break;t[s++]=240|k>>18,t[s++]=128|k>>12&63,t[s++]=128|k>>6&63,t[s++]=128|k&63}}return t[s]=0,s-b},Xt=(r,t,s)=>Ht(r,Q,t,s),Zt=r=>{for(var t=0,s=0;s<r.length;++s){var l=r.charCodeAt(s);l<=127?t++:l<=2047?t+=2:l>=55296&&l<=57343?(t+=4,++s):t+=3}return t},Ut=new TextDecoder,cn=(r,t)=>{if(!r)return"";for(var s=r+t,l=r;!(l>=s)&&Q[l];)++l;return Ut.decode(Q.subarray(r,l))},Tt=(r,t)=>{t=fr(t);var s=t==="std::string";Wr(r,{name:t,fromWireType(l){var b=ar[l>>2],$=l+4,R;if(s)for(var k=$,W=0;W<=b;++W){var H=$+W;if(W==b||Q[H]==0){var L=H-k,tr=cn(k,L);R===void 0?R=tr:(R+="\0",R+=tr),k=H+1}}else{for(var Or=new Array(b),W=0;W<b;++W)Or[W]=String.fromCharCode(Q[$+W]);R=Or.join("")}return V(l),R},toWireType(l,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));var $,R=typeof b=="string";R||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int8Array||Rr("Cannot pass non-string to std::string"),s&&R?$=Zt(b):$=b.length;var k=j(4+$+1),W=k+4;if(ar[k>>2]=$,s&&R)Xt(b,W,$+1);else if(R)for(var H=0;H<$;++H){var L=b.charCodeAt(H);L>255&&(V(W),Rr("String has UTF-16 code units that do not fit in 8 bits")),Q[W+H]=L}else for(var H=0;H<$;++H)Q[W+H]=b[H];return l!==null&&l.push(V,k),k},argPackAdvance:Br,readValueFromPointer:mr,destructorFunction(l){V(l)}})},zt=new TextDecoder("utf-16le"),Qt=(r,t)=>{for(var s=r,l=s>>1,b=l+t/2;!(l>=b)&&Cr[l];)++l;return s=l<<1,zt.decode(Q.subarray(r,s))},rn=(r,t,s)=>{if(s??=2147483647,s<2)return 0;s-=2;for(var l=t,b=s<r.length*2?s/2:r.length,$=0;$<b;++$){var R=r.charCodeAt($);Nr[t>>1]=R,t+=2}return Nr[t>>1]=0,t-l},en=r=>r.length*2,tn=(r,t)=>{for(var s=0,l="";!(s>=t/4);){var b=ur[r+s*4>>2];if(b==0)break;if(++s,b>=65536){var $=b-65536;l+=String.fromCharCode(55296|$>>10,56320|$&1023)}else l+=String.fromCharCode(b)}return l},dn=(r,t,s)=>{if(s??=2147483647,s<4)return 0;for(var l=t,b=l+s-4,$=0;$<r.length;++$){var R=r.charCodeAt($);if(R>=55296&&R<=57343){var k=r.charCodeAt(++$);R=65536+((R&1023)<<10)|k&1023}if(ur[t>>2]=R,t+=4,t+4>b)break}return ur[t>>2]=0,t-l},St=r=>{for(var t=0,s=0;s<r.length;++s){var l=r.charCodeAt(s);l>=55296&&l<=57343&&++s,t+=4}return t},xt=(r,t,s)=>{s=fr(s);var l,b,$,R;t===2?(l=Qt,b=rn,R=en,$=k=>Cr[k>>1]):t===4&&(l=tn,b=dn,R=St,$=k=>ar[k>>2]),Wr(r,{name:s,fromWireType:k=>{for(var W=ar[k>>2],H,L=k+4,tr=0;tr<=W;++tr){var Or=k+4+tr*t;if(tr==W||$(Or)==0){var d=Or-L,y=l(L,d);H===void 0?H=y:(H+="\0",H+=y),L=Or+t}}return V(k),H},toWireType:(k,W)=>{typeof W!="string"&&Rr(`Cannot pass non-string to C++ string type ${s}`);var H=R(W),L=j(4+H+t);return ar[L>>2]=H/t,b(W,L+4,H+t),k!==null&&k.push(V,L),L},argPackAdvance:Br,readValueFromPointer:mr,destructorFunction(k){V(k)}})},xe=(r,t,s,l,b,$)=>{$r[r]={name:fr(t),rawConstructor:zr(s,l),rawDestructor:zr(b,$),fields:[]}},ft=(r,t,s,l,b,$,R,k,W,H)=>{$r[r].fields.push({fieldName:fr(t),getterReturnType:s,getter:zr(l,b),getterContext:$,setterArgumentType:R,setter:zr(k,W),setterContext:H})},nt=(r,t)=>{t=fr(t),Wr(r,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(s,l)=>{}})},At=(r,t,s)=>Q.copyWithin(r,t,t+s),jt=()=>{Ae=!1,Me=0},De=[],Bt=(r,t,s,l)=>(r=De[r],t=Kr.toValue(t),r(null,t,s,l)),pn={},Et=r=>{var t=pn[r];return t===void 0?fr(r):t},Dt=()=>typeof globalThis=="object"?globalThis:(function(){return Function})()("return this")(),nn=r=>r===0?Kr.toHandle(Dt()):(r=Et(r),Kr.toHandle(Dt()[r])),ue=r=>{var t=De.length;return De.push(r),t},Ge=(r,t)=>{var s=Mr[r];return s===void 0&&Rr(`${t} has unknown type ${He(r)}`),s},Er=(r,t)=>{for(var s=new Array(r),l=0;l<r;++l)s[l]=Ge(ar[t+l*4>>2],"parameter "+l);return s},lt=(r,t,s)=>{var l=[],b=r.toWireType(l,s);return l.length&&(ar[t>>2]=Kr.toHandle(l)),b},_e=(r,t,s)=>{var l=Er(r,t),b=l.shift();r--;var $=`return function (obj, func, destructorsRef, args) {
`,R=0,k=[];s===0&&k.push("obj");for(var W=["retType"],H=[b],L=0;L<r;++L)k.push("arg"+L),W.push("argType"+L),H.push(l[L]),$+=`  var arg${L} = argType${L}.readValueFromPointer(args${R?"+"+R:""});
`,R+=l[L].argPackAdvance;var tr=s===1?"new func":"func.call";$+=`  var rv = ${tr}(${k.join(", ")});
`,b.isVoid||(W.push("emval_returnValue"),H.push(lt),$+=`  return emval_returnValue(retType, destructorsRef, rv);
`),$+=`};
`,W.push($);var Or=je(Function,W)(...H),d=`methodCaller<(${l.map(y=>y.name).join(", ")}) => ${b.name}>`;return ue($e(d,Or))},he=r=>Kr.toHandle(Et(r)),Lt=r=>{var t=Kr.toValue(r);pe(t),ve(r)},Oe={},Be=r=>{if(r instanceof Te||r=="unwind")return vr;gr(1,r)},Me=0,vt=()=>Ae||Me>0,Ct=r=>{vr=r,vt()||(i.onExit?.(r),xr=!0),gr(r,new Te(r))},Ot=(r,t)=>{vr=r,Ct(r)},$t=Ot,ct=()=>{if(!vt())try{$t(vr)}catch(r){Be(r)}},an=r=>{if(!xr)try{r(),ct()}catch(t){Be(t)}},on=()=>performance.now(),sn=(r,t)=>{if(Oe[r]&&(clearTimeout(Oe[r].id),delete Oe[r]),!t)return 0;var s=setTimeout(()=>{delete Oe[r],an(()=>o(r,on()))},t);return Oe[r]={id:s,timeout_ms:t},0},ge=()=>2147483648,Pe=(r,t)=>Math.ceil(r/t)*t,Xe=r=>{var t=Jr.buffer,s=(r-t.byteLength+65535)/65536|0;try{return Jr.grow(s),re(),1}catch{}},ke=r=>{var t=Q.length;r>>>=0;var s=ge();if(r>s)return!1;for(var l=1;l<=4;l*=2){var b=t*(1+.2/l);b=Math.min(b,r+100663296);var $=Math.min(s,Pe(Math.max(r,b),65536)),R=Xe($);if(R)return!0}return!1},ye=r=>52;function Ve(r,t,s,l,b){return 70}var Ft=[null,[],[]],ce=(r,t=0,s=NaN)=>{for(var l=t+s,b=t;r[b]&&!(b>=l);)++b;return Ut.decode(r.buffer?r.subarray(t,b):new Uint8Array(r.slice(t,b)))},p=(r,t)=>{var s=Ft[r];t===0||t===10?((r===1?Qr:Fr)(ce(s)),s.length=0):s.push(t)},n=(r,t,s,l)=>{for(var b=0,$=0;$<s;$++){var R=ar[t>>2],k=ar[t+4>>2];t+=8;for(var W=0;W<k;W++)p(r,Q[R+W]);b+=k}return ar[l>>2]=b,0};Ne=i.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},Ce(),oe=i.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Se(),Vt=i.UnboundTypeError=Wt(Error,"UnboundTypeError");var u={y:Pr,m:Ee,q:Ue,B:Dr,A:bt,h:yr,o:It,d:wt,b:vn,i:Tt,e:xt,n:xe,a:ft,C:nt,x:At,s:jt,l:Bt,f:ve,g:nn,k:_e,c:he,j:Lt,t:sn,u:ke,z:$t,w:ye,p:Ve,v:n,r:Ct},_=mt(),T=r=>(T=_.F)(r),j=r=>(j=_.H)(r),V=r=>(V=_.I)(r),o=(r,t)=>(o=_.J)(r,t);i.dynCall_iiji=(r,t,s,l,b)=>(i.dynCall_iiji=_.K)(r,t,s,l,b),i.dynCall_jiji=(r,t,s,l,b)=>(i.dynCall_jiji=_.L)(r,t,s,l,b);var f,m;ne=function r(){f||A(),f||(ne=r)};function A(){if(Tr>0||!m&&(m=1,kt(),Tr>0))return;function r(){f||(f=1,i.calledRun=1,!xr&&(it(),Z(i),i.onRuntimeInitialized?.(),We()))}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),r()},1)):r()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return A(),J=wr,J})})(),os=(()=>{var w=import.meta.url;return(function(I={}){var J,i=I,Z,cr,wr=new Promise((n,u)=>{Z=n,cr=u}),_r=Object.assign({},i),gr=(n,u)=>{throw u},sr="";function pt(n){return i.locateFile?i.locateFile(n,sr):sr+n}var Y;typeof document<"u"&&document.currentScript&&(sr=document.currentScript.src),w&&(sr=w),sr.startsWith("blob:")?sr="":sr=sr.substr(0,sr.replace(/[?#].*/,"").lastIndexOf("/")+1),Y=n=>fetch(n,{credentials:"same-origin"}).then(u=>u.ok?u.arrayBuffer():Promise.reject(new Error(u.status+" : "+u.url))),i.print||console.log.bind(console);var Qr=i.printErr||console.error.bind(console);Object.assign(i,_r),_r=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram;var Fr=i.wasmBinary,Xr,Jr=!1,xr,vr,lr,Q,Nr,Cr,ur,ar,Re;function Ie(){var n=Xr.buffer;i.HEAP8=vr=new Int8Array(n),i.HEAP16=Q=new Int16Array(n),i.HEAPU8=lr=new Uint8Array(n),i.HEAPU16=Nr=new Uint16Array(n),i.HEAP32=Cr=new Int32Array(n),i.HEAPU32=ur=new Uint32Array(n),i.HEAPF32=ar=new Float32Array(n),i.HEAPF64=Re=new Float64Array(n)}var re=[],we=[],qr=[];function at(){var n=i.preRun;n&&(typeof n=="function"&&(n=[n]),n.forEach(We)),Te(re)}function kt(){Te(we)}function it(){var n=i.postRun;n&&(typeof n=="function"&&(n=[n]),n.forEach(Jt)),Te(qr)}function We(n){re.unshift(n)}function Yt(n){we.unshift(n)}function Jt(n){qr.unshift(n)}var ee=0,Tr=null;function ne(n){ee++,i.monitorRunDependencies?.(ee)}function qt(n){if(ee--,i.monitorRunDependencies?.(ee),ee==0&&Tr){var u=Tr;Tr=null,u()}}function _t(n){i.onAbort?.(n),n="Aborted("+n+")",Qr(n),Jr=!0,n+=". Build with -sASSERTIONS for more info.";var u=new WebAssembly.RuntimeError(n);throw cr(u),u}var ae="data:application/octet-stream;base64,",ht=n=>n.startsWith(ae);function ze(){if(i.locateFile){var n="jxl-dec.wasm";return ht(n)?n:pt(n)}return new URL(""+new URL("../assets/jxl-dec-DU44cDJt.wasm",import.meta.url).href,import.meta.url).href}var Qe;function de(n){if(n==Qe&&Fr)return new Uint8Array(Fr);throw"both async and sync fetching of the wasm failed"}function ot(n){return Fr?Promise.resolve().then(()=>de(n)):Y(n).then(u=>new Uint8Array(u),()=>de(n))}function gt(n,u,_){return ot(n).then(T=>WebAssembly.instantiate(T,u)).then(_,T=>{Qr(`failed to asynchronously prepare wasm: ${T}`),_t(T)})}function yt(n,u,_,T){return!n&&typeof WebAssembly.instantiateStreaming=="function"&&!ht(u)&&typeof fetch=="function"?fetch(u,{credentials:"same-origin"}).then(j=>{var V=WebAssembly.instantiateStreaming(j,_);return V.then(T,function(o){return Qr(`wasm streaming compile failed: ${o}`),Qr("falling back to ArrayBuffer instantiation"),gt(u,_,T)})}):gt(u,_,T)}function Kt(){return{a:ge}}function fn(){var n=Kt();function u(T,j){return Pe=T.exports,Xr=Pe.x,Ie(),qe=Pe.A,Yt(Pe.y),qt(),Pe}ne();function _(T){u(T.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(n,u)}catch(T){Qr(`Module.instantiateWasm callback failed with error: ${T}`),cr(T)}return Qe??=ze(),yt(Fr,Qe,n,_).catch(cr),{}}function mt(n){this.name="ExitStatus",this.message=`Program terminated with exit(${n})`,this.status=n}var Te=n=>{n.forEach(u=>u(i))},be=i.noExitRuntime||!0,Ae=()=>{_t("")},Pr=(n,u,_,T,j)=>{},$r=()=>{for(var n=new Array(256),u=0;u<256;++u)n[u]=String.fromCharCode(u);pe=n},pe,mr=n=>{for(var u="",_=n;lr[_];)u+=pe[lr[_++]];return u},Hr={},Mr={},le={},Ne,jr=n=>{throw new Ne(n)},ie,Ee=n=>{throw new ie(n)},Ue=(n,u,_)=>{n.forEach(f=>le[f]=u);function T(f){var m=_(f);m.length!==n.length&&Ee("Mismatched type converter count");for(var A=0;A<n.length;++A)br(n[A],m[A])}var j=new Array(u.length),V=[],o=0;u.forEach((f,m)=>{Mr.hasOwnProperty(f)?j[m]=Mr[f]:(V.push(f),Hr.hasOwnProperty(f)||(Hr[f]=[]),Hr[f].push(()=>{j[m]=Mr[f],++o,o===V.length&&T(j)}))}),V.length===0&&T(j)};function Ce(n,u,_={}){var T=u.name;if(n||jr(`type "${T}" must have a positive integer typeid pointer`),Mr.hasOwnProperty(n)){if(_.ignoreDuplicateRegistrations)return;jr(`Cannot register type '${T}' twice`)}if(Mr[n]=u,delete le[n],Hr.hasOwnProperty(n)){var j=Hr[n];delete Hr[n],j.forEach(V=>V())}}function br(n,u,_={}){return Ce(n,u,_)}var fr=8,oe=(n,u,_,T)=>{u=mr(u),br(n,{name:u,fromWireType:function(j){return!!j},toWireType:function(j,V){return V?_:T},argPackAdvance:fr,readValueFromPointer:function(j){return this.fromWireType(lr[j])},destructorFunction:null})},Rr=[],Ir=[],Wr=n=>{n>9&&--Ir[n+1]===0&&(Ir[n]=void 0,Rr.push(n))},Br=()=>Ir.length/2-5-Rr.length,Dr=()=>{Ir.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=Br},dr={toValue:n=>(n||jr("Cannot use deleted val. handle = "+n),Ir[n]),toHandle:n=>{switch(n){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const u=Rr.pop()||Ir.length;return Ir[u]=n,Ir[u+1]=1,u}}}};function Ar(n){return this.fromWireType(ur[n>>2])}var ve={name:"emscripten::val",fromWireType:n=>{var u=dr.toValue(n);return Wr(n),u},toWireType:(n,u)=>dr.toHandle(u),argPackAdvance:fr,readValueFromPointer:Ar,destructorFunction:null},Ur=n=>br(n,ve),Se=(n,u)=>{switch(u){case 4:return function(_){return this.fromWireType(ar[_>>2])};case 8:return function(_){return this.fromWireType(Re[_>>3])};default:throw new TypeError(`invalid float width (${u}): ${n}`)}},Kr=(n,u,_)=>{u=mr(u),br(n,{name:u,fromWireType:T=>T,toWireType:(T,j)=>j,argPackAdvance:fr,readValueFromPointer:Se(u,_),destructorFunction:null})},Zr=(n,u)=>Object.defineProperty(u,"name",{value:n}),bt=n=>{for(;n.length;){var u=n.pop(),_=n.pop();_(u)}};function Ye(n){for(var u=1;u<n.length;++u)if(n[u]!==null&&n[u].destructorFunction===void 0)return!0;return!1}function yr(n,u){if(!(n instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof n} which is not a function`);var _=Zr(n.name||"unknownFunctionName",function(){});_.prototype=n.prototype;var T=new _,j=n.apply(T,u);return j instanceof Object?j:T}function $e(n,u,_,T){for(var j=Ye(n),V=n.length-2,o=[],f=["fn"],m=0;m<V;++m)o.push(`arg${m}`),f.push(`arg${m}Wired`);o=o.join(","),f=f.join(",");var A=`return function (${o}) {
`;j&&(A+=`var destructors = [];
`);for(var r=j?"destructors":"null",t=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=0;m<V;++m)A+=`var arg${m}Wired = argType${m}['toWireType'](${r}, arg${m});
`,t.push(`argType${m}`);if(A+=(_||T?"var rv = ":"")+`invoker(${f});
`,j)A+=`runDestructors(destructors);
`;else for(var m=2;m<n.length;++m){var s=m===1?"thisWired":"arg"+(m-2)+"Wired";n[m].destructorFunction!==null&&(A+=`${s}_dtor(${s});
`,t.push(`${s}_dtor`))}return _&&(A+=`var ret = retType['fromWireType'](rv);
return ret;
`),A+=`}
`,[t,A]}function rt(n,u,_,T,j,V){var o=u.length;o<2&&jr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var f=u[1]!==null&&_!==null,m=Ye(u),A=u[0].name!=="void",r=[n,jr,T,j,bt,u[0],u[1]],t=0;t<o-2;++t)r.push(u[t+2]);if(!m)for(var t=2;t<u.length;++t)u[t].destructorFunction!==null&&r.push(u[t].destructorFunction);let[s,l]=$e(u,f,A,V);s.push(l);var b=yr(Function,s)(...r);return Zr(n,b)}var je=(n,u,_)=>{if(n[u].overloadTable===void 0){var T=n[u];n[u]=function(...j){return n[u].overloadTable.hasOwnProperty(j.length)||jr(`Function '${_}' called with an invalid number of arguments (${j.length}) - expects one of (${n[u].overloadTable})!`),n[u].overloadTable[j.length].apply(this,j)},n[u].overloadTable=[],n[u].overloadTable[T.argCount]=T}},Fe=(n,u,_)=>{i.hasOwnProperty(n)?((_===void 0||i[n].overloadTable!==void 0&&i[n].overloadTable[_]!==void 0)&&jr(`Cannot register public name '${n}' twice`),je(i,n,n),i.hasOwnProperty(_)&&jr(`Cannot register multiple overloads of a function with the same number of arguments (${_})!`),i[n].overloadTable[_]=u):(i[n]=u,_!==void 0&&(i[n].numArguments=_))},Gr=(n,u)=>{for(var _=[],T=0;T<n;T++)_.push(ur[u+T*4>>2]);return _},Gt=(n,u,_)=>{i.hasOwnProperty(n)||Ee("Replacing nonexistent public symbol"),i[n].overloadTable!==void 0&&_!==void 0?i[n].overloadTable[_]=u:(i[n]=u,i[n].argCount=_)},Mt=(n,u,_)=>{n=n.replace(/p/g,"i");var T=i["dynCall_"+n];return T(u,..._)},Je=[],qe,et=n=>{var u=Je[n];return u||(n>=Je.length&&(Je.length=n+1),Je[n]=u=qe.get(n)),u},Ke=(n,u,_=[])=>{if(n.includes("j"))return Mt(n,u,_);var T=et(u)(..._);return T},st=(n,u)=>(..._)=>Ke(n,u,_),ut=(n,u)=>{n=mr(n);function _(){return n.includes("j")?st(n,u):et(u)}var T=_();return typeof T!="function"&&jr(`unknown function pointer with signature ${n}: ${u}`),T},Rt=(n,u)=>{var _=Zr(u,function(T){this.name=u,this.message=T;var j=new Error(T).stack;j!==void 0&&(this.stack=this.toString()+`
`+j.replace(/^Error(:[^\n]*)?\n/,""))});return _.prototype=Object.create(n.prototype),_.prototype.constructor=_,_.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},_},fe,zr=n=>{var u=Xe(n),_=mr(u);return ye(u),_},Wt=(n,u)=>{var _=[],T={};function j(V){if(!T[V]&&!Mr[V]){if(le[V]){le[V].forEach(j);return}_.push(V),T[V]=!0}}throw u.forEach(j),new fe(`${n}: `+_.map(zr).join([", "]))},Vt=n=>{n=n.trim();const u=n.indexOf("(");return u!==-1?n.substr(0,u):n},He=(n,u,_,T,j,V,o,f)=>{var m=Gr(u,_);n=mr(n),n=Vt(n),j=ut(T,j),Fe(n,function(){Wt(`Cannot call ${n} due to unbound types`,m)},u-1),Ue([],m,A=>{var r=[A[0],null].concat(A.slice(1));return Gt(n,rt(n,r,null,j,V,o),u-1),[]})},tt=(n,u,_)=>{switch(u){case 1:return _?T=>vr[T]:T=>lr[T];case 2:return _?T=>Q[T>>1]:T=>Nr[T>>1];case 4:return _?T=>Cr[T>>2]:T=>ur[T>>2];default:throw new TypeError(`invalid integer width (${u}): ${n}`)}},te=(n,u,_,T,j)=>{u=mr(u);var V=r=>r;if(T===0){var o=32-8*_;V=r=>r<<o>>>o}var f=u.includes("unsigned"),m=(r,t)=>{},A;f?A=function(r,t){return m(t,this.name),t>>>0}:A=function(r,t){return m(t,this.name),t},br(n,{name:u,fromWireType:V,toWireType:A,argPackAdvance:fr,readValueFromPointer:tt(u,_,T!==0),destructorFunction:null})},It=(n,u,_)=>{var T=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],j=T[u];function V(o){var f=ur[o>>2],m=ur[o+4>>2];return new j(vr.buffer,m,f)}_=mr(_),br(n,{name:_,fromWireType:V,argPackAdvance:fr,readValueFromPointer:V},{ignoreDuplicateRegistrations:!0})},ln=(n,u,_,T)=>{if(!(T>0))return 0;for(var j=_,V=_+T-1,o=0;o<n.length;++o){var f=n.charCodeAt(o);if(f>=55296&&f<=57343){var m=n.charCodeAt(++o);f=65536+((f&1023)<<10)|m&1023}if(f<=127){if(_>=V)break;u[_++]=f}else if(f<=2047){if(_+1>=V)break;u[_++]=192|f>>6,u[_++]=128|f&63}else if(f<=65535){if(_+2>=V)break;u[_++]=224|f>>12,u[_++]=128|f>>6&63,u[_++]=128|f&63}else{if(_+3>=V)break;u[_++]=240|f>>18,u[_++]=128|f>>12&63,u[_++]=128|f>>6&63,u[_++]=128|f&63}}return u[_]=0,_-j},wt=(n,u,_)=>ln(n,lr,u,_),vn=n=>{for(var u=0,_=0;_<n.length;++_){var T=n.charCodeAt(_);T<=127?u++:T<=2047?u+=2:T>=55296&&T<=57343?(u+=4,++_):u+=3}return u},Ht=new TextDecoder,Xt=(n,u)=>{if(!n)return"";for(var _=n+u,T=n;!(T>=_)&&lr[T];)++T;return Ht.decode(lr.subarray(n,T))},Zt=(n,u)=>{u=mr(u);var _=u==="std::string";br(n,{name:u,fromWireType(T){var j=ur[T>>2],V=T+4,o;if(_)for(var f=V,m=0;m<=j;++m){var A=V+m;if(m==j||lr[A]==0){var r=A-f,t=Xt(f,r);o===void 0?o=t:(o+="\0",o+=t),f=A+1}}else{for(var s=new Array(j),m=0;m<j;++m)s[m]=String.fromCharCode(lr[V+m]);o=s.join("")}return ye(T),o},toWireType(T,j){j instanceof ArrayBuffer&&(j=new Uint8Array(j));var V,o=typeof j=="string";o||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int8Array||jr("Cannot pass non-string to std::string"),_&&o?V=vn(j):V=j.length;var f=ke(4+V+1),m=f+4;if(ur[f>>2]=V,_&&o)wt(j,m,V+1);else if(o)for(var A=0;A<V;++A){var r=j.charCodeAt(A);r>255&&(ye(m),jr("String has UTF-16 code units that do not fit in 8 bits")),lr[m+A]=r}else for(var A=0;A<V;++A)lr[m+A]=j[A];return T!==null&&T.push(ye,f),f},argPackAdvance:fr,readValueFromPointer:Ar,destructorFunction(T){ye(T)}})},Ut=new TextDecoder("utf-16le"),cn=(n,u)=>{for(var _=n,T=_>>1,j=T+u/2;!(T>=j)&&Nr[T];)++T;return _=T<<1,Ut.decode(lr.subarray(n,_))},Tt=(n,u,_)=>{if(_??=2147483647,_<2)return 0;_-=2;for(var T=u,j=_<n.length*2?_/2:n.length,V=0;V<j;++V){var o=n.charCodeAt(V);Q[u>>1]=o,u+=2}return Q[u>>1]=0,u-T},zt=n=>n.length*2,Qt=(n,u)=>{for(var _=0,T="";!(_>=u/4);){var j=Cr[n+_*4>>2];if(j==0)break;if(++_,j>=65536){var V=j-65536;T+=String.fromCharCode(55296|V>>10,56320|V&1023)}else T+=String.fromCharCode(j)}return T},rn=(n,u,_)=>{if(_??=2147483647,_<4)return 0;for(var T=u,j=T+_-4,V=0;V<n.length;++V){var o=n.charCodeAt(V);if(o>=55296&&o<=57343){var f=n.charCodeAt(++V);o=65536+((o&1023)<<10)|f&1023}if(Cr[u>>2]=o,u+=4,u+4>j)break}return Cr[u>>2]=0,u-T},en=n=>{for(var u=0,_=0;_<n.length;++_){var T=n.charCodeAt(_);T>=55296&&T<=57343&&++_,u+=4}return u},tn=(n,u,_)=>{_=mr(_);var T,j,V,o;u===2?(T=cn,j=Tt,o=zt,V=f=>Nr[f>>1]):u===4&&(T=Qt,j=rn,o=en,V=f=>ur[f>>2]),br(n,{name:_,fromWireType:f=>{for(var m=ur[f>>2],A,r=f+4,t=0;t<=m;++t){var s=f+4+t*u;if(t==m||V(s)==0){var l=s-r,b=T(r,l);A===void 0?A=b:(A+="\0",A+=b),r=s+u}}return ye(f),A},toWireType:(f,m)=>{typeof m!="string"&&jr(`Cannot pass non-string to C++ string type ${_}`);var A=o(m),r=ke(4+A+u);return ur[r>>2]=A/u,j(m,r+4,A+u),f!==null&&f.push(ye,r),r},argPackAdvance:fr,readValueFromPointer:Ar,destructorFunction(f){ye(f)}})},dn=(n,u)=>{u=mr(u),br(n,{isVoid:!0,name:u,argPackAdvance:0,fromWireType:()=>{},toWireType:(_,T)=>{}})},St=(n,u,_)=>lr.copyWithin(n,u,u+_),xt=()=>{be=!1,he=0},xe=[],ft=(n,u,_,T)=>(n=xe[n],u=dr.toValue(u),n(null,u,_,T)),nt={},At=n=>{var u=nt[n];return u===void 0?mr(n):u},jt=()=>typeof globalThis=="object"?globalThis:(function(){return Function})()("return this")(),De=n=>n===0?dr.toHandle(jt()):(n=At(n),dr.toHandle(jt()[n])),Bt=n=>{var u=xe.length;return xe.push(n),u},pn=(n,u)=>{var _=Mr[n];return _===void 0&&jr(`${u} has unknown type ${zr(n)}`),_},Et=(n,u)=>{for(var _=new Array(n),T=0;T<n;++T)_[T]=pn(ur[u+T*4>>2],"parameter "+T);return _},Dt=(n,u,_)=>{var T=[],j=n.toWireType(T,_);return T.length&&(ur[u>>2]=dr.toHandle(T)),j},nn=(n,u,_)=>{var T=Et(n,u),j=T.shift();n--;var V=`return function (obj, func, destructorsRef, args) {
`,o=0,f=[];_===0&&f.push("obj");for(var m=["retType"],A=[j],r=0;r<n;++r)f.push("arg"+r),m.push("argType"+r),A.push(T[r]),V+=`  var arg${r} = argType${r}.readValueFromPointer(args${o?"+"+o:""});
`,o+=T[r].argPackAdvance;var t=_===1?"new func":"func.call";V+=`  var rv = ${t}(${f.join(", ")});
`,j.isVoid||(m.push("emval_returnValue"),A.push(Dt),V+=`  return emval_returnValue(retType, destructorsRef, rv);
`),V+=`};
`,m.push(V);var s=yr(Function,m)(...A),l=`methodCaller<(${T.map(b=>b.name).join(", ")}) => ${j.name}>`;return Bt(Zr(l,s))},ue=n=>{n>9&&(Ir[n+1]+=1)},Ge=n=>dr.toHandle(At(n)),Er=n=>{var u=dr.toValue(n);bt(u),Wr(n)},lt={},_e=n=>{if(n instanceof mt||n=="unwind")return xr;gr(1,n)},he=0,Lt=()=>be||he>0,Oe=n=>{xr=n,Lt()||(i.onExit?.(n),Jr=!0),gr(n,new mt(n))},Be=(n,u)=>{xr=n,Oe(n)},Me=Be,vt=()=>{if(!Lt())try{Me(xr)}catch(n){_e(n)}},Ct=n=>{if(!Jr)try{n(),vt()}catch(u){_e(u)}},Ot=()=>performance.now(),$t=(n,u)=>{if(lt[n]&&(clearTimeout(lt[n].id),delete lt[n]),!u)return 0;var _=setTimeout(()=>{delete lt[n],Ct(()=>Ve(n,Ot()))},u);return lt[n]={id:_,timeout_ms:u},0},ct=()=>2147483648,an=(n,u)=>Math.ceil(n/u)*u,on=n=>{var u=Xr.buffer,_=(n-u.byteLength+65535)/65536|0;try{return Xr.grow(_),Ie(),1}catch{}},sn=n=>{var u=lr.length;n>>>=0;var _=ct();if(n>_)return!1;for(var T=1;T<=4;T*=2){var j=u*(1+.2/T);j=Math.min(j,n+100663296);var V=Math.min(_,an(Math.max(n,j),65536)),o=on(V);if(o)return!0}return!1};$r(),Ne=i.BindingError=class extends Error{constructor(u){super(u),this.name="BindingError"}},ie=i.InternalError=class extends Error{constructor(u){super(u),this.name="InternalError"}},Dr(),fe=i.UnboundTypeError=Rt(Error,"UnboundTypeError");var ge={v:Ae,p:Pr,m:oe,w:Ur,k:Kr,i:He,b:te,a:It,l:Zt,d:tn,n:dn,u:St,r:xt,h:ft,c:Wr,e:De,g:nn,o:ue,j:Ge,f:Er,s:$t,t:sn,q:Oe},Pe=fn(),Xe=n=>(Xe=Pe.z)(n),ke=n=>(ke=Pe.B)(n),ye=n=>(ye=Pe.C)(n),Ve=(n,u)=>(Ve=Pe.D)(n,u);i.dynCall_iiji=(n,u,_,T,j)=>(i.dynCall_iiji=Pe.E)(n,u,_,T,j);var Ft,ce;Tr=function n(){Ft||p(),Ft||(Tr=n)};function p(){if(ee>0||!ce&&(ce=1,at(),ee>0))return;function n(){Ft||(Ft=1,i.calledRun=1,!Jr&&(kt(),Z(i),i.onRuntimeInitialized?.(),it()))}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),n()},1)):n()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return p(),J=wr,J})})(),da;(function(w){w[w.Default=-1]="Default",w[w.False=0]="False",w[w.True=1]="True"})(da||(da={}));var Kn;(function(w){w[w.Default=-1]="Default",w[w.Zero=0]="Zero",w[w.Left=1]="Left",w[w.Top=2]="Top",w[w.Average0=3]="Average0",w[w.Select=4]="Select",w[w.Gradient=5]="Gradient",w[w.Weighted=6]="Weighted",w[w.TopRight=7]="TopRight",w[w.TopLeft=8]="TopLeft",w[w.LeftLeft=9]="LeftLeft",w[w.Average1=10]="Average1",w[w.Average2=11]="Average2",w[w.Average3=12]="Average3",w[w.Average4=13]="Average4",w[w.Best=14]="Best",w[w.Variable=15]="Variable"})(Kn||(Kn={}));const ci={lossless:!1,quality:75,alphaQuality:100,effort:7,brotliEffort:-1,epf:-1,gaborish:-1,responsive:-1,progressiveDC:-1,progressiveAC:-1,qProgressiveAC:-1,decodingSpeed:0,photonNoiseIso:0,modular:!1,lossyPalette:!1,paletteColors:-1,iterations:-1,modularColorspace:-1,modularPredictor:Kn.Default},ss="image/jxl",us="jxl",fs=[8,9,10,11,12,13,14,15,16];let di,pi;async function ls(w){return di??=await Cn(is,w)}async function vs(w){return pi??=await Cn(os,w)}function cs(w,I){return Zn("JXL Encode",di,ci,w,I)}function ds(w){return On(pi.decode(w),"JXL Decode")}var Is=Object.freeze({__proto__:null,get Override(){return da},get Predictor(){return Kn},bitDepth:fs,decode:ds,defaultOptions:ci,encode:cs,extension:us,loadDecoder:vs,loadEncoder:ls,mimeType:ss}),ps=(()=>{var w=import.meta.url;return(function(I={}){var J,i=I,Z,cr,wr=new Promise((o,f)=>{Z=o,cr=f}),_r=Object.assign({},i),gr=(o,f)=>{throw f},sr="";function pt(o){return i.locateFile?i.locateFile(o,sr):sr+o}var Y;typeof document<"u"&&document.currentScript&&(sr=document.currentScript.src),w&&(sr=w),sr.startsWith("blob:")?sr="":sr=sr.substr(0,sr.replace(/[?#].*/,"").lastIndexOf("/")+1),Y=o=>fetch(o,{credentials:"same-origin"}).then(f=>f.ok?f.arrayBuffer():Promise.reject(new Error(f.status+" : "+f.url))),i.print||console.log.bind(console);var Qr=i.printErr||console.error.bind(console);Object.assign(i,_r),_r=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram;var Fr=i.wasmBinary,Xr,Jr=!1,xr,vr,lr,Q,Nr,Cr,ur,ar,Re;function Ie(){var o=Xr.buffer;i.HEAP8=vr=new Int8Array(o),i.HEAP16=Q=new Int16Array(o),i.HEAPU8=lr=new Uint8Array(o),i.HEAPU16=Nr=new Uint16Array(o),i.HEAP32=Cr=new Int32Array(o),i.HEAPU32=ur=new Uint32Array(o),i.HEAPF32=ar=new Float32Array(o),i.HEAPF64=Re=new Float64Array(o)}var re=[],we=[],qr=[];function at(){var o=i.preRun;o&&(typeof o=="function"&&(o=[o]),o.forEach(We)),Te(re)}function kt(){Te(we)}function it(){var o=i.postRun;o&&(typeof o=="function"&&(o=[o]),o.forEach(Jt)),Te(qr)}function We(o){re.unshift(o)}function Yt(o){we.unshift(o)}function Jt(o){qr.unshift(o)}var ee=0,Tr=null;function ne(o){ee++,i.monitorRunDependencies?.(ee)}function qt(o){if(ee--,i.monitorRunDependencies?.(ee),ee==0&&Tr){var f=Tr;Tr=null,f()}}function _t(o){i.onAbort?.(o),o="Aborted("+o+")",Qr(o),Jr=!0,o+=". Build with -sASSERTIONS for more info.";var f=new WebAssembly.RuntimeError(o);throw cr(f),f}var ae="data:application/octet-stream;base64,",ht=o=>o.startsWith(ae);function ze(){if(i.locateFile){var o="webp-enc.wasm";return ht(o)?o:pt(o)}return new URL(""+new URL("../assets/webp-enc-Dan2K9zl.wasm",import.meta.url).href,import.meta.url).href}var Qe;function de(o){if(o==Qe&&Fr)return new Uint8Array(Fr);throw"both async and sync fetching of the wasm failed"}function ot(o){return Fr?Promise.resolve().then(()=>de(o)):Y(o).then(f=>new Uint8Array(f),()=>de(o))}function gt(o,f,m){return ot(o).then(A=>WebAssembly.instantiate(A,f)).then(m,A=>{Qr(`failed to asynchronously prepare wasm: ${A}`),_t(A)})}function yt(o,f,m,A){return!o&&typeof WebAssembly.instantiateStreaming=="function"&&!ht(f)&&typeof fetch=="function"?fetch(f,{credentials:"same-origin"}).then(r=>{var t=WebAssembly.instantiateStreaming(r,m);return t.then(A,function(s){return Qr(`wasm streaming compile failed: ${s}`),Qr("falling back to ArrayBuffer instantiation"),gt(f,m,A)})}):gt(f,m,A)}function Kt(){return{a:Ft}}function fn(){var o=Kt();function f(A,r){return ce=A.exports,Xr=ce.B,Ie(),zr=ce.E,Yt(ce.C),qt(),ce}ne();function m(A){f(A.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(o,f)}catch(A){Qr(`Module.instantiateWasm callback failed with error: ${A}`),cr(A)}return Qe??=ze(),yt(Fr,Qe,o,m).catch(cr),{}}function mt(o){this.name="ExitStatus",this.message=`Program terminated with exit(${o})`,this.status=o}var Te=o=>{o.forEach(f=>f(i))},be=i.noExitRuntime||!0,Ae=()=>{_t("")},Pr={},$r=o=>{for(;o.length;){var f=o.pop(),m=o.pop();m(f)}};function pe(o){return this.fromWireType(ur[o>>2])}var mr={},Hr={},Mr={},le,Ne=o=>{throw new le(o)},jr=(o,f,m)=>{o.forEach(l=>Mr[l]=f);function A(l){var b=m(l);b.length!==o.length&&Ne("Mismatched type converter count");for(var $=0;$<o.length;++$)Ir(o[$],b[$])}var r=new Array(f.length),t=[],s=0;f.forEach((l,b)=>{Hr.hasOwnProperty(l)?r[b]=Hr[l]:(t.push(l),mr.hasOwnProperty(l)||(mr[l]=[]),mr[l].push(()=>{r[b]=Hr[l],++s,s===t.length&&A(r)}))}),t.length===0&&A(r)},ie=o=>{var f=Pr[o];delete Pr[o];var m=f.rawConstructor,A=f.rawDestructor,r=f.fields,t=r.map(s=>s.getterReturnType).concat(r.map(s=>s.setterArgumentType));jr([o],t,s=>{var l={};return r.forEach((b,$)=>{var R=b.fieldName,k=s[$],W=b.getter,H=b.getterContext,L=s[$+r.length],tr=b.setter,Or=b.setterContext;l[R]={read:d=>k.fromWireType(W(H,d)),write:(d,y)=>{var F=[];tr(Or,d,L.toWireType(F,y)),$r(F)}}}),[{name:f.name,fromWireType:b=>{var $={};for(var R in l)$[R]=l[R].read(b);return A(b),$},toWireType:(b,$)=>{for(var R in l)if(!(R in $))throw new TypeError(`Missing field: "${R}"`);var k=m();for(R in l)l[R].write(k,$[R]);return b!==null&&b.push(A,k),k},argPackAdvance:Wr,readValueFromPointer:pe,destructorFunction:A}]})},Ee=(o,f,m,A,r)=>{},Ue=()=>{for(var o=new Array(256),f=0;f<256;++f)o[f]=String.fromCharCode(f);Ce=o},Ce,br=o=>{for(var f="",m=o;lr[m];)f+=Ce[lr[m++]];return f},fr,oe=o=>{throw new fr(o)};function Rr(o,f,m={}){var A=f.name;if(o||oe(`type "${A}" must have a positive integer typeid pointer`),Hr.hasOwnProperty(o)){if(m.ignoreDuplicateRegistrations)return;oe(`Cannot register type '${A}' twice`)}if(Hr[o]=f,delete Mr[o],mr.hasOwnProperty(o)){var r=mr[o];delete mr[o],r.forEach(t=>t())}}function Ir(o,f,m={}){return Rr(o,f,m)}var Wr=8,Br=(o,f,m,A)=>{f=br(f),Ir(o,{name:f,fromWireType:function(r){return!!r},toWireType:function(r,t){return t?m:A},argPackAdvance:Wr,readValueFromPointer:function(r){return this.fromWireType(lr[r])},destructorFunction:null})},Dr=[],dr=[],Ar=o=>{o>9&&--dr[o+1]===0&&(dr[o]=void 0,Dr.push(o))},ve=()=>dr.length/2-5-Dr.length,Ur=()=>{dr.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=ve},Se={toValue:o=>(o||oe("Cannot use deleted val. handle = "+o),dr[o]),toHandle:o=>{switch(o){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const f=Dr.pop()||dr.length;return dr[f]=o,dr[f+1]=1,f}}}},Kr={name:"emscripten::val",fromWireType:o=>{var f=Se.toValue(o);return Ar(o),f},toWireType:(o,f)=>Se.toHandle(f),argPackAdvance:Wr,readValueFromPointer:pe,destructorFunction:null},Zr=o=>Ir(o,Kr),bt=(o,f,m)=>{if(o[f].overloadTable===void 0){var A=o[f];o[f]=function(...r){return o[f].overloadTable.hasOwnProperty(r.length)||oe(`Function '${m}' called with an invalid number of arguments (${r.length}) - expects one of (${o[f].overloadTable})!`),o[f].overloadTable[r.length].apply(this,r)},o[f].overloadTable=[],o[f].overloadTable[A.argCount]=A}},Ye=(o,f,m)=>{i.hasOwnProperty(o)?((m===void 0||i[o].overloadTable!==void 0&&i[o].overloadTable[m]!==void 0)&&oe(`Cannot register public name '${o}' twice`),bt(i,o,o),i.hasOwnProperty(m)&&oe(`Cannot register multiple overloads of a function with the same number of arguments (${m})!`),i[o].overloadTable[m]=f):(i[o]=f,m!==void 0&&(i[o].numArguments=m))},yr=(o,f,m)=>{switch(f){case 1:return m?function(A){return this.fromWireType(vr[A])}:function(A){return this.fromWireType(lr[A])};case 2:return m?function(A){return this.fromWireType(Q[A>>1])}:function(A){return this.fromWireType(Nr[A>>1])};case 4:return m?function(A){return this.fromWireType(Cr[A>>2])}:function(A){return this.fromWireType(ur[A>>2])};default:throw new TypeError(`invalid integer width (${f}): ${o}`)}},$e=(o,f,m,A)=>{f=br(f);function r(){}r.values={},Ir(o,{name:f,constructor:r,fromWireType:function(t){return this.constructor.values[t]},toWireType:(t,s)=>s.value,argPackAdvance:Wr,readValueFromPointer:yr(f,m,A),destructorFunction:null}),Ye(f,r)},rt=(o,f)=>Object.defineProperty(f,"name",{value:o}),je=o=>{var f=p(o),m=br(f);return u(f),m},Fe=(o,f)=>{var m=Hr[o];return m===void 0&&oe(`${f} has unknown type ${je(o)}`),m},Gr=(o,f,m)=>{var A=Fe(o,"enum");f=br(f);var r=A.constructor,t=Object.create(A.constructor.prototype,{value:{value:m},constructor:{value:rt(`${A.name}_${f}`,function(){})}});r.values[m]=t,r[f]=t},Gt=(o,f)=>{switch(f){case 4:return function(m){return this.fromWireType(ar[m>>2])};case 8:return function(m){return this.fromWireType(Re[m>>3])};default:throw new TypeError(`invalid float width (${f}): ${o}`)}},Mt=(o,f,m)=>{f=br(f),Ir(o,{name:f,fromWireType:A=>A,toWireType:(A,r)=>r,argPackAdvance:Wr,readValueFromPointer:Gt(f,m),destructorFunction:null})};function Je(o){for(var f=1;f<o.length;++f)if(o[f]!==null&&o[f].destructorFunction===void 0)return!0;return!1}function qe(o,f){if(!(o instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof o} which is not a function`);var m=rt(o.name||"unknownFunctionName",function(){});m.prototype=o.prototype;var A=new m,r=o.apply(A,f);return r instanceof Object?r:A}function et(o,f,m,A){for(var r=Je(o),t=o.length-2,s=[],l=["fn"],b=0;b<t;++b)s.push(`arg${b}`),l.push(`arg${b}Wired`);s=s.join(","),l=l.join(",");var $=`return function (${s}) {
`;r&&($+=`var destructors = [];
`);for(var R=r?"destructors":"null",k=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"],b=0;b<t;++b)$+=`var arg${b}Wired = argType${b}['toWireType'](${R}, arg${b});
`,k.push(`argType${b}`);if($+=(m||A?"var rv = ":"")+`invoker(${l});
`,r)$+=`runDestructors(destructors);
`;else for(var b=2;b<o.length;++b){var W=b===1?"thisWired":"arg"+(b-2)+"Wired";o[b].destructorFunction!==null&&($+=`${W}_dtor(${W});
`,k.push(`${W}_dtor`))}return m&&($+=`var ret = retType['fromWireType'](rv);
return ret;
`),$+=`}
`,[k,$]}function Ke(o,f,m,A,r,t){var s=f.length;s<2&&oe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var l=f[1]!==null&&m!==null,b=Je(f),$=f[0].name!=="void",R=[o,oe,A,r,$r,f[0],f[1]],k=0;k<s-2;++k)R.push(f[k+2]);if(!b)for(var k=2;k<f.length;++k)f[k].destructorFunction!==null&&R.push(f[k].destructorFunction);let[W,H]=et(f,l,$,t);W.push(H);var L=qe(Function,W)(...R);return rt(o,L)}var st=(o,f)=>{for(var m=[],A=0;A<o;A++)m.push(ur[f+A*4>>2]);return m},ut=(o,f,m)=>{i.hasOwnProperty(o)||Ne("Replacing nonexistent public symbol"),i[o].overloadTable!==void 0&&m!==void 0?i[o].overloadTable[m]=f:(i[o]=f,i[o].argCount=m)},Rt=(o,f,m)=>{o=o.replace(/p/g,"i");var A=i["dynCall_"+o];return A(f,...m)},fe=[],zr,Wt=o=>{var f=fe[o];return f||(o>=fe.length&&(fe.length=o+1),fe[o]=f=zr.get(o)),f},Vt=(o,f,m=[])=>{if(o.includes("j"))return Rt(o,f,m);var A=Wt(f)(...m);return A},He=(o,f)=>(...m)=>Vt(o,f,m),tt=(o,f)=>{o=br(o);function m(){return o.includes("j")?He(o,f):Wt(f)}var A=m();return typeof A!="function"&&oe(`unknown function pointer with signature ${o}: ${f}`),A},te=(o,f)=>{var m=rt(f,function(A){this.name=f,this.message=A;var r=new Error(A).stack;r!==void 0&&(this.stack=this.toString()+`
`+r.replace(/^Error(:[^\n]*)?\n/,""))});return m.prototype=Object.create(o.prototype),m.prototype.constructor=m,m.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},m},It,ln=(o,f)=>{var m=[],A={};function r(t){if(!A[t]&&!Hr[t]){if(Mr[t]){Mr[t].forEach(r);return}m.push(t),A[t]=!0}}throw f.forEach(r),new It(`${o}: `+m.map(je).join([", "]))},wt=o=>{o=o.trim();const f=o.indexOf("(");return f!==-1?o.substr(0,f):o},vn=(o,f,m,A,r,t,s,l)=>{var b=st(f,m);o=br(o),o=wt(o),r=tt(A,r),Ye(o,function(){ln(`Cannot call ${o} due to unbound types`,b)},f-1),jr([],b,$=>{var R=[$[0],null].concat($.slice(1));return ut(o,Ke(o,R,null,r,t,s),f-1),[]})},Ht=(o,f,m)=>{switch(f){case 1:return m?A=>vr[A]:A=>lr[A];case 2:return m?A=>Q[A>>1]:A=>Nr[A>>1];case 4:return m?A=>Cr[A>>2]:A=>ur[A>>2];default:throw new TypeError(`invalid integer width (${f}): ${o}`)}},Xt=(o,f,m,A,r)=>{f=br(f);var t=R=>R;if(A===0){var s=32-8*m;t=R=>R<<s>>>s}var l=f.includes("unsigned"),b=(R,k)=>{},$;l?$=function(R,k){return b(k,this.name),k>>>0}:$=function(R,k){return b(k,this.name),k},Ir(o,{name:f,fromWireType:t,toWireType:$,argPackAdvance:Wr,readValueFromPointer:Ht(f,m,A!==0),destructorFunction:null})},Zt=(o,f,m)=>{var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],r=A[f];function t(s){var l=ur[s>>2],b=ur[s+4>>2];return new r(vr.buffer,b,l)}m=br(m),Ir(o,{name:m,fromWireType:t,argPackAdvance:Wr,readValueFromPointer:t},{ignoreDuplicateRegistrations:!0})},Ut=(o,f,m,A)=>{if(!(A>0))return 0;for(var r=m,t=m+A-1,s=0;s<o.length;++s){var l=o.charCodeAt(s);if(l>=55296&&l<=57343){var b=o.charCodeAt(++s);l=65536+((l&1023)<<10)|b&1023}if(l<=127){if(m>=t)break;f[m++]=l}else if(l<=2047){if(m+1>=t)break;f[m++]=192|l>>6,f[m++]=128|l&63}else if(l<=65535){if(m+2>=t)break;f[m++]=224|l>>12,f[m++]=128|l>>6&63,f[m++]=128|l&63}else{if(m+3>=t)break;f[m++]=240|l>>18,f[m++]=128|l>>12&63,f[m++]=128|l>>6&63,f[m++]=128|l&63}}return f[m]=0,m-r},cn=(o,f,m)=>Ut(o,lr,f,m),Tt=o=>{for(var f=0,m=0;m<o.length;++m){var A=o.charCodeAt(m);A<=127?f++:A<=2047?f+=2:A>=55296&&A<=57343?(f+=4,++m):f+=3}return f},zt=new TextDecoder,Qt=(o,f)=>{if(!o)return"";for(var m=o+f,A=o;!(A>=m)&&lr[A];)++A;return zt.decode(lr.subarray(o,A))},rn=(o,f)=>{f=br(f);var m=f==="std::string";Ir(o,{name:f,fromWireType(A){var r=ur[A>>2],t=A+4,s;if(m)for(var l=t,b=0;b<=r;++b){var $=t+b;if(b==r||lr[$]==0){var R=$-l,k=Qt(l,R);s===void 0?s=k:(s+="\0",s+=k),l=$+1}}else{for(var W=new Array(r),b=0;b<r;++b)W[b]=String.fromCharCode(lr[t+b]);s=W.join("")}return u(A),s},toWireType(A,r){r instanceof ArrayBuffer&&(r=new Uint8Array(r));var t,s=typeof r=="string";s||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||oe("Cannot pass non-string to std::string"),m&&s?t=Tt(r):t=r.length;var l=n(4+t+1),b=l+4;if(ur[l>>2]=t,m&&s)cn(r,b,t+1);else if(s)for(var $=0;$<t;++$){var R=r.charCodeAt($);R>255&&(u(b),oe("String has UTF-16 code units that do not fit in 8 bits")),lr[b+$]=R}else for(var $=0;$<t;++$)lr[b+$]=r[$];return A!==null&&A.push(u,l),l},argPackAdvance:Wr,readValueFromPointer:pe,destructorFunction(A){u(A)}})},en=new TextDecoder("utf-16le"),tn=(o,f)=>{for(var m=o,A=m>>1,r=A+f/2;!(A>=r)&&Nr[A];)++A;return m=A<<1,en.decode(lr.subarray(o,m))},dn=(o,f,m)=>{if(m??=2147483647,m<2)return 0;m-=2;for(var A=f,r=m<o.length*2?m/2:o.length,t=0;t<r;++t){var s=o.charCodeAt(t);Q[f>>1]=s,f+=2}return Q[f>>1]=0,f-A},St=o=>o.length*2,xt=(o,f)=>{for(var m=0,A="";!(m>=f/4);){var r=Cr[o+m*4>>2];if(r==0)break;if(++m,r>=65536){var t=r-65536;A+=String.fromCharCode(55296|t>>10,56320|t&1023)}else A+=String.fromCharCode(r)}return A},xe=(o,f,m)=>{if(m??=2147483647,m<4)return 0;for(var A=f,r=A+m-4,t=0;t<o.length;++t){var s=o.charCodeAt(t);if(s>=55296&&s<=57343){var l=o.charCodeAt(++t);s=65536+((s&1023)<<10)|l&1023}if(Cr[f>>2]=s,f+=4,f+4>r)break}return Cr[f>>2]=0,f-A},ft=o=>{for(var f=0,m=0;m<o.length;++m){var A=o.charCodeAt(m);A>=55296&&A<=57343&&++m,f+=4}return f},nt=(o,f,m)=>{m=br(m);var A,r,t,s;f===2?(A=tn,r=dn,s=St,t=l=>Nr[l>>1]):f===4&&(A=xt,r=xe,s=ft,t=l=>ur[l>>2]),Ir(o,{name:m,fromWireType:l=>{for(var b=ur[l>>2],$,R=l+4,k=0;k<=b;++k){var W=l+4+k*f;if(k==b||t(W)==0){var H=W-R,L=A(R,H);$===void 0?$=L:($+="\0",$+=L),R=W+f}}return u(l),$},toWireType:(l,b)=>{typeof b!="string"&&oe(`Cannot pass non-string to C++ string type ${m}`);var $=s(b),R=n(4+$+f);return ur[R>>2]=$/f,r(b,R+4,$+f),l!==null&&l.push(u,R),R},argPackAdvance:Wr,readValueFromPointer:pe,destructorFunction(l){u(l)}})},At=(o,f,m,A,r,t)=>{Pr[o]={name:br(f),rawConstructor:tt(m,A),rawDestructor:tt(r,t),fields:[]}},jt=(o,f,m,A,r,t,s,l,b,$)=>{Pr[o].fields.push({fieldName:br(f),getterReturnType:m,getter:tt(A,r),getterContext:t,setterArgumentType:s,setter:tt(l,b),setterContext:$})},De=(o,f)=>{f=br(f),Ir(o,{isVoid:!0,name:f,argPackAdvance:0,fromWireType:()=>{},toWireType:(m,A)=>{}})},Bt=(o,f,m)=>lr.copyWithin(o,f,f+m),pn=()=>{be=!1,Ct=0},Et=[],Dt=(o,f,m,A)=>(o=Et[o],f=Se.toValue(f),o(null,f,m,A)),nn={},ue=o=>{var f=nn[o];return f===void 0?br(o):f},Ge=()=>typeof globalThis=="object"?globalThis:(function(){return Function})()("return this")(),Er=o=>o===0?Se.toHandle(Ge()):(o=ue(o),Se.toHandle(Ge()[o])),lt=o=>{var f=Et.length;return Et.push(o),f},_e=(o,f)=>{for(var m=new Array(o),A=0;A<o;++A)m[A]=Fe(ur[f+A*4>>2],"parameter "+A);return m},he=(o,f,m)=>{var A=[],r=o.toWireType(A,m);return A.length&&(ur[f>>2]=Se.toHandle(A)),r},Lt=(o,f,m)=>{var A=_e(o,f),r=A.shift();o--;var t=`return function (obj, func, destructorsRef, args) {
`,s=0,l=[];m===0&&l.push("obj");for(var b=["retType"],$=[r],R=0;R<o;++R)l.push("arg"+R),b.push("argType"+R),$.push(A[R]),t+=`  var arg${R} = argType${R}.readValueFromPointer(args${s?"+"+s:""});
`,s+=A[R].argPackAdvance;var k=m===1?"new func":"func.call";t+=`  var rv = ${k}(${l.join(", ")});
`,r.isVoid||(b.push("emval_returnValue"),$.push(he),t+=`  return emval_returnValue(retType, destructorsRef, rv);
`),t+=`};
`,b.push(t);var W=qe(Function,b)(...$),H=`methodCaller<(${A.map(L=>L.name).join(", ")}) => ${r.name}>`;return lt(rt(H,W))},Oe=o=>Se.toHandle(ue(o)),Be=o=>{var f=Se.toValue(o);$r(f),Ar(o)},Me={},vt=o=>{if(o instanceof mt||o=="unwind")return xr;gr(1,o)},Ct=0,Ot=()=>be||Ct>0,$t=o=>{xr=o,Ot()||(i.onExit?.(o),Jr=!0),gr(o,new mt(o))},ct=(o,f)=>{xr=o,$t(o)},an=ct,on=()=>{if(!Ot())try{an(xr)}catch(o){vt(o)}},sn=o=>{if(!Jr)try{o(),on()}catch(f){vt(f)}},ge=()=>performance.now(),Pe=(o,f)=>{if(Me[o]&&(clearTimeout(Me[o].id),delete Me[o]),!f)return 0;var m=setTimeout(()=>{delete Me[o],sn(()=>_(o,ge()))},f);return Me[o]={id:m,timeout_ms:f},0},Xe=()=>2147483648,ke=(o,f)=>Math.ceil(o/f)*f,ye=o=>{var f=Xr.buffer,m=(o-f.byteLength+65535)/65536|0;try{return Xr.grow(m),Ie(),1}catch{}},Ve=o=>{var f=lr.length;o>>>=0;var m=Xe();if(o>m)return!1;for(var A=1;A<=4;A*=2){var r=f*(1+.2/A);r=Math.min(r,o+100663296);var t=Math.min(m,ke(Math.max(o,r),65536)),s=ye(t);if(s)return!0}return!1};le=i.InternalError=class extends Error{constructor(f){super(f),this.name="InternalError"}},Ue(),fr=i.BindingError=class extends Error{constructor(f){super(f),this.name="BindingError"}},Ur(),It=i.UnboundTypeError=te(Error,"UnboundTypeError");var Ft={u:Ae,k:ie,o:Ee,x:Br,w:Zr,m:$e,d:Gr,h:Mt,n:vn,c:Xt,b:Zt,i:rn,e:nt,l:At,a:jt,y:De,t:Bt,q:pn,j:Dt,f:Ar,g:Er,A:Lt,v:Oe,z:Be,r:Pe,s:Ve,p:$t},ce=fn(),p=o=>(p=ce.D)(o),n=o=>(n=ce.F)(o),u=o=>(u=ce.G)(o),_=(o,f)=>(_=ce.H)(o,f);i.dynCall_jiiiii=(o,f,m,A,r,t)=>(i.dynCall_jiiiii=ce.I)(o,f,m,A,r,t);var T,j;Tr=function o(){T||V(),T||(Tr=o)};function V(){if(ee>0||!j&&(j=1,at(),ee>0))return;function o(){T||(T=1,i.calledRun=1,!Jr&&(kt(),Z(i),i.onRuntimeInitialized?.(),it()))}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),o()},1)):o()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return V(),J=wr,J})})(),_s=(()=>{var w=import.meta.url;return(function(I={}){var J,i=I,Z,cr,wr=new Promise((p,n)=>{Z=p,cr=n}),_r=Object.assign({},i),gr=(p,n)=>{throw n},sr="";function pt(p){return i.locateFile?i.locateFile(p,sr):sr+p}var Y;typeof document<"u"&&document.currentScript&&(sr=document.currentScript.src),w&&(sr=w),sr.startsWith("blob:")?sr="":sr=sr.substr(0,sr.replace(/[?#].*/,"").lastIndexOf("/")+1),Y=p=>fetch(p,{credentials:"same-origin"}).then(n=>n.ok?n.arrayBuffer():Promise.reject(new Error(n.status+" : "+n.url))),i.print||console.log.bind(console);var Qr=i.printErr||console.error.bind(console);Object.assign(i,_r),_r=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram;var Fr=i.wasmBinary,Xr,Jr=!1,xr,vr,lr,Q,Nr,Cr,ur,ar,Re;function Ie(){var p=Xr.buffer;i.HEAP8=vr=new Int8Array(p),i.HEAP16=Q=new Int16Array(p),i.HEAPU8=lr=new Uint8Array(p),i.HEAPU16=Nr=new Uint16Array(p),i.HEAP32=Cr=new Int32Array(p),i.HEAPU32=ur=new Uint32Array(p),i.HEAPF32=ar=new Float32Array(p),i.HEAPF64=Re=new Float64Array(p)}var re=[],we=[],qr=[];function at(){var p=i.preRun;p&&(typeof p=="function"&&(p=[p]),p.forEach(We)),Te(re)}function kt(){Te(we)}function it(){var p=i.postRun;p&&(typeof p=="function"&&(p=[p]),p.forEach(Jt)),Te(qr)}function We(p){re.unshift(p)}function Yt(p){we.unshift(p)}function Jt(p){qr.unshift(p)}var ee=0,Tr=null;function ne(p){ee++,i.monitorRunDependencies?.(ee)}function qt(p){if(ee--,i.monitorRunDependencies?.(ee),ee==0&&Tr){var n=Tr;Tr=null,n()}}function _t(p){i.onAbort?.(p),p="Aborted("+p+")",Qr(p),Jr=!0,p+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(p);throw cr(n),n}var ae="data:application/octet-stream;base64,",ht=p=>p.startsWith(ae);function ze(){if(i.locateFile){var p="webp-dec.wasm";return ht(p)?p:pt(p)}return new URL(""+new URL("../assets/webp-dec-CXH__dhi.wasm",import.meta.url).href,import.meta.url).href}var Qe;function de(p){if(p==Qe&&Fr)return new Uint8Array(Fr);throw"both async and sync fetching of the wasm failed"}function ot(p){return Fr?Promise.resolve().then(()=>de(p)):Y(p).then(n=>new Uint8Array(n),()=>de(p))}function gt(p,n,u){return ot(p).then(_=>WebAssembly.instantiate(_,n)).then(u,_=>{Qr(`failed to asynchronously prepare wasm: ${_}`),_t(_)})}function yt(p,n,u,_){return!p&&typeof WebAssembly.instantiateStreaming=="function"&&!ht(n)&&typeof fetch=="function"?fetch(n,{credentials:"same-origin"}).then(T=>{var j=WebAssembly.instantiateStreaming(T,u);return j.then(_,function(V){return Qr(`wasm streaming compile failed: ${V}`),Qr("falling back to ArrayBuffer instantiation"),gt(n,u,_)})}):gt(n,u,_)}function Kt(){return{a:sn}}function fn(){var p=Kt();function n(_,T){return ge=_.exports,Xr=ge.w,Ie(),qe=ge.z,Yt(ge.x),qt(),ge}ne();function u(_){n(_.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(p,n)}catch(_){Qr(`Module.instantiateWasm callback failed with error: ${_}`),cr(_)}return Qe??=ze(),yt(Fr,Qe,p,u).catch(cr),{}}function mt(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}var Te=p=>{p.forEach(n=>n(i))},be=i.noExitRuntime||!0,Ae=()=>{_t("")},Pr=(p,n,u,_,T)=>{},$r=()=>{for(var p=new Array(256),n=0;n<256;++n)p[n]=String.fromCharCode(n);pe=p},pe,mr=p=>{for(var n="",u=p;lr[u];)n+=pe[lr[u++]];return n},Hr={},Mr={},le={},Ne,jr=p=>{throw new Ne(p)},ie,Ee=p=>{throw new ie(p)},Ue=(p,n,u)=>{p.forEach(o=>le[o]=n);function _(o){var f=u(o);f.length!==p.length&&Ee("Mismatched type converter count");for(var m=0;m<p.length;++m)br(p[m],f[m])}var T=new Array(n.length),j=[],V=0;n.forEach((o,f)=>{Mr.hasOwnProperty(o)?T[f]=Mr[o]:(j.push(o),Hr.hasOwnProperty(o)||(Hr[o]=[]),Hr[o].push(()=>{T[f]=Mr[o],++V,V===j.length&&_(T)}))}),j.length===0&&_(T)};function Ce(p,n,u={}){var _=n.name;if(p||jr(`type "${_}" must have a positive integer typeid pointer`),Mr.hasOwnProperty(p)){if(u.ignoreDuplicateRegistrations)return;jr(`Cannot register type '${_}' twice`)}if(Mr[p]=n,delete le[p],Hr.hasOwnProperty(p)){var T=Hr[p];delete Hr[p],T.forEach(j=>j())}}function br(p,n,u={}){return Ce(p,n,u)}var fr=8,oe=(p,n,u,_)=>{n=mr(n),br(p,{name:n,fromWireType:function(T){return!!T},toWireType:function(T,j){return j?u:_},argPackAdvance:fr,readValueFromPointer:function(T){return this.fromWireType(lr[T])},destructorFunction:null})},Rr=[],Ir=[],Wr=p=>{p>9&&--Ir[p+1]===0&&(Ir[p]=void 0,Rr.push(p))},Br=()=>Ir.length/2-5-Rr.length,Dr=()=>{Ir.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=Br},dr={toValue:p=>(p||jr("Cannot use deleted val. handle = "+p),Ir[p]),toHandle:p=>{switch(p){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const n=Rr.pop()||Ir.length;return Ir[n]=p,Ir[n+1]=1,n}}}};function Ar(p){return this.fromWireType(ur[p>>2])}var ve={name:"emscripten::val",fromWireType:p=>{var n=dr.toValue(p);return Wr(p),n},toWireType:(p,n)=>dr.toHandle(n),argPackAdvance:fr,readValueFromPointer:Ar,destructorFunction:null},Ur=p=>br(p,ve),Se=(p,n)=>{switch(n){case 4:return function(u){return this.fromWireType(ar[u>>2])};case 8:return function(u){return this.fromWireType(Re[u>>3])};default:throw new TypeError(`invalid float width (${n}): ${p}`)}},Kr=(p,n,u)=>{n=mr(n),br(p,{name:n,fromWireType:_=>_,toWireType:(_,T)=>T,argPackAdvance:fr,readValueFromPointer:Se(n,u),destructorFunction:null})},Zr=(p,n)=>Object.defineProperty(n,"name",{value:p}),bt=p=>{for(;p.length;){var n=p.pop(),u=p.pop();u(n)}};function Ye(p){for(var n=1;n<p.length;++n)if(p[n]!==null&&p[n].destructorFunction===void 0)return!0;return!1}function yr(p,n){if(!(p instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof p} which is not a function`);var u=Zr(p.name||"unknownFunctionName",function(){});u.prototype=p.prototype;var _=new u,T=p.apply(_,n);return T instanceof Object?T:_}function $e(p,n,u,_){for(var T=Ye(p),j=p.length-2,V=[],o=["fn"],f=0;f<j;++f)V.push(`arg${f}`),o.push(`arg${f}Wired`);V=V.join(","),o=o.join(",");var m=`return function (${V}) {
`;T&&(m+=`var destructors = [];
`);for(var A=T?"destructors":"null",r=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"],f=0;f<j;++f)m+=`var arg${f}Wired = argType${f}['toWireType'](${A}, arg${f});
`,r.push(`argType${f}`);if(m+=(u||_?"var rv = ":"")+`invoker(${o});
`,T)m+=`runDestructors(destructors);
`;else for(var f=2;f<p.length;++f){var t=f===1?"thisWired":"arg"+(f-2)+"Wired";p[f].destructorFunction!==null&&(m+=`${t}_dtor(${t});
`,r.push(`${t}_dtor`))}return u&&(m+=`var ret = retType['fromWireType'](rv);
return ret;
`),m+=`}
`,[r,m]}function rt(p,n,u,_,T,j){var V=n.length;V<2&&jr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=n[1]!==null&&u!==null,f=Ye(n),m=n[0].name!=="void",A=[p,jr,_,T,bt,n[0],n[1]],r=0;r<V-2;++r)A.push(n[r+2]);if(!f)for(var r=2;r<n.length;++r)n[r].destructorFunction!==null&&A.push(n[r].destructorFunction);let[t,s]=$e(n,o,m,j);t.push(s);var l=yr(Function,t)(...A);return Zr(p,l)}var je=(p,n,u)=>{if(p[n].overloadTable===void 0){var _=p[n];p[n]=function(...T){return p[n].overloadTable.hasOwnProperty(T.length)||jr(`Function '${u}' called with an invalid number of arguments (${T.length}) - expects one of (${p[n].overloadTable})!`),p[n].overloadTable[T.length].apply(this,T)},p[n].overloadTable=[],p[n].overloadTable[_.argCount]=_}},Fe=(p,n,u)=>{i.hasOwnProperty(p)?((u===void 0||i[p].overloadTable!==void 0&&i[p].overloadTable[u]!==void 0)&&jr(`Cannot register public name '${p}' twice`),je(i,p,p),i.hasOwnProperty(u)&&jr(`Cannot register multiple overloads of a function with the same number of arguments (${u})!`),i[p].overloadTable[u]=n):(i[p]=n,u!==void 0&&(i[p].numArguments=u))},Gr=(p,n)=>{for(var u=[],_=0;_<p;_++)u.push(ur[n+_*4>>2]);return u},Gt=(p,n,u)=>{i.hasOwnProperty(p)||Ee("Replacing nonexistent public symbol"),i[p].overloadTable!==void 0&&u!==void 0?i[p].overloadTable[u]=n:(i[p]=n,i[p].argCount=u)},Mt=(p,n,u)=>{p=p.replace(/p/g,"i");var _=i["dynCall_"+p];return _(n,...u)},Je=[],qe,et=p=>{var n=Je[p];return n||(p>=Je.length&&(Je.length=p+1),Je[p]=n=qe.get(p)),n},Ke=(p,n,u=[])=>{if(p.includes("j"))return Mt(p,n,u);var _=et(n)(...u);return _},st=(p,n)=>(...u)=>Ke(p,n,u),ut=(p,n)=>{p=mr(p);function u(){return p.includes("j")?st(p,n):et(n)}var _=u();return typeof _!="function"&&jr(`unknown function pointer with signature ${p}: ${n}`),_},Rt=(p,n)=>{var u=Zr(n,function(_){this.name=n,this.message=_;var T=new Error(_).stack;T!==void 0&&(this.stack=this.toString()+`
`+T.replace(/^Error(:[^\n]*)?\n/,""))});return u.prototype=Object.create(p.prototype),u.prototype.constructor=u,u.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},u},fe,zr=p=>{var n=Pe(p),u=mr(n);return ke(n),u},Wt=(p,n)=>{var u=[],_={};function T(j){if(!_[j]&&!Mr[j]){if(le[j]){le[j].forEach(T);return}u.push(j),_[j]=!0}}throw n.forEach(T),new fe(`${p}: `+u.map(zr).join([", "]))},Vt=p=>{p=p.trim();const n=p.indexOf("(");return n!==-1?p.substr(0,n):p},He=(p,n,u,_,T,j,V,o)=>{var f=Gr(n,u);p=mr(p),p=Vt(p),T=ut(_,T),Fe(p,function(){Wt(`Cannot call ${p} due to unbound types`,f)},n-1),Ue([],f,m=>{var A=[m[0],null].concat(m.slice(1));return Gt(p,rt(p,A,null,T,j,V),n-1),[]})},tt=(p,n,u)=>{switch(n){case 1:return u?_=>vr[_]:_=>lr[_];case 2:return u?_=>Q[_>>1]:_=>Nr[_>>1];case 4:return u?_=>Cr[_>>2]:_=>ur[_>>2];default:throw new TypeError(`invalid integer width (${n}): ${p}`)}},te=(p,n,u,_,T)=>{n=mr(n);var j=A=>A;if(_===0){var V=32-8*u;j=A=>A<<V>>>V}var o=n.includes("unsigned"),f=(A,r)=>{},m;o?m=function(A,r){return f(r,this.name),r>>>0}:m=function(A,r){return f(r,this.name),r},br(p,{name:n,fromWireType:j,toWireType:m,argPackAdvance:fr,readValueFromPointer:tt(n,u,_!==0),destructorFunction:null})},It=(p,n,u)=>{var _=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],T=_[n];function j(V){var o=ur[V>>2],f=ur[V+4>>2];return new T(vr.buffer,f,o)}u=mr(u),br(p,{name:u,fromWireType:j,argPackAdvance:fr,readValueFromPointer:j},{ignoreDuplicateRegistrations:!0})},ln=(p,n,u,_)=>{if(!(_>0))return 0;for(var T=u,j=u+_-1,V=0;V<p.length;++V){var o=p.charCodeAt(V);if(o>=55296&&o<=57343){var f=p.charCodeAt(++V);o=65536+((o&1023)<<10)|f&1023}if(o<=127){if(u>=j)break;n[u++]=o}else if(o<=2047){if(u+1>=j)break;n[u++]=192|o>>6,n[u++]=128|o&63}else if(o<=65535){if(u+2>=j)break;n[u++]=224|o>>12,n[u++]=128|o>>6&63,n[u++]=128|o&63}else{if(u+3>=j)break;n[u++]=240|o>>18,n[u++]=128|o>>12&63,n[u++]=128|o>>6&63,n[u++]=128|o&63}}return n[u]=0,u-T},wt=(p,n,u)=>ln(p,lr,n,u),vn=p=>{for(var n=0,u=0;u<p.length;++u){var _=p.charCodeAt(u);_<=127?n++:_<=2047?n+=2:_>=55296&&_<=57343?(n+=4,++u):n+=3}return n},Ht=new TextDecoder,Xt=(p,n)=>{if(!p)return"";for(var u=p+n,_=p;!(_>=u)&&lr[_];)++_;return Ht.decode(lr.subarray(p,_))},Zt=(p,n)=>{n=mr(n);var u=n==="std::string";br(p,{name:n,fromWireType(_){var T=ur[_>>2],j=_+4,V;if(u)for(var o=j,f=0;f<=T;++f){var m=j+f;if(f==T||lr[m]==0){var A=m-o,r=Xt(o,A);V===void 0?V=r:(V+="\0",V+=r),o=m+1}}else{for(var t=new Array(T),f=0;f<T;++f)t[f]=String.fromCharCode(lr[j+f]);V=t.join("")}return ke(_),V},toWireType(_,T){T instanceof ArrayBuffer&&(T=new Uint8Array(T));var j,V=typeof T=="string";V||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int8Array||jr("Cannot pass non-string to std::string"),u&&V?j=vn(T):j=T.length;var o=Xe(4+j+1),f=o+4;if(ur[o>>2]=j,u&&V)wt(T,f,j+1);else if(V)for(var m=0;m<j;++m){var A=T.charCodeAt(m);A>255&&(ke(f),jr("String has UTF-16 code units that do not fit in 8 bits")),lr[f+m]=A}else for(var m=0;m<j;++m)lr[f+m]=T[m];return _!==null&&_.push(ke,o),o},argPackAdvance:fr,readValueFromPointer:Ar,destructorFunction(_){ke(_)}})},Ut=new TextDecoder("utf-16le"),cn=(p,n)=>{for(var u=p,_=u>>1,T=_+n/2;!(_>=T)&&Nr[_];)++_;return u=_<<1,Ut.decode(lr.subarray(p,u))},Tt=(p,n,u)=>{if(u??=2147483647,u<2)return 0;u-=2;for(var _=n,T=u<p.length*2?u/2:p.length,j=0;j<T;++j){var V=p.charCodeAt(j);Q[n>>1]=V,n+=2}return Q[n>>1]=0,n-_},zt=p=>p.length*2,Qt=(p,n)=>{for(var u=0,_="";!(u>=n/4);){var T=Cr[p+u*4>>2];if(T==0)break;if(++u,T>=65536){var j=T-65536;_+=String.fromCharCode(55296|j>>10,56320|j&1023)}else _+=String.fromCharCode(T)}return _},rn=(p,n,u)=>{if(u??=2147483647,u<4)return 0;for(var _=n,T=_+u-4,j=0;j<p.length;++j){var V=p.charCodeAt(j);if(V>=55296&&V<=57343){var o=p.charCodeAt(++j);V=65536+((V&1023)<<10)|o&1023}if(Cr[n>>2]=V,n+=4,n+4>T)break}return Cr[n>>2]=0,n-_},en=p=>{for(var n=0,u=0;u<p.length;++u){var _=p.charCodeAt(u);_>=55296&&_<=57343&&++u,n+=4}return n},tn=(p,n,u)=>{u=mr(u);var _,T,j,V;n===2?(_=cn,T=Tt,V=zt,j=o=>Nr[o>>1]):n===4&&(_=Qt,T=rn,V=en,j=o=>ur[o>>2]),br(p,{name:u,fromWireType:o=>{for(var f=ur[o>>2],m,A=o+4,r=0;r<=f;++r){var t=o+4+r*n;if(r==f||j(t)==0){var s=t-A,l=_(A,s);m===void 0?m=l:(m+="\0",m+=l),A=t+n}}return ke(o),m},toWireType:(o,f)=>{typeof f!="string"&&jr(`Cannot pass non-string to C++ string type ${u}`);var m=V(f),A=Xe(4+m+n);return ur[A>>2]=m/n,T(f,A+4,m+n),o!==null&&o.push(ke,A),A},argPackAdvance:fr,readValueFromPointer:Ar,destructorFunction(o){ke(o)}})},dn=(p,n)=>{n=mr(n),br(p,{isVoid:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:(u,_)=>{}})},St=(p,n,u)=>lr.copyWithin(p,n,n+u),xt=()=>{be=!1,_e=0},xe=[],ft=(p,n,u,_)=>(p=xe[p],n=dr.toValue(n),p(null,n,u,_)),nt={},At=p=>{var n=nt[p];return n===void 0?mr(p):n},jt=()=>typeof globalThis=="object"?globalThis:(function(){return Function})()("return this")(),De=p=>p===0?dr.toHandle(jt()):(p=At(p),dr.toHandle(jt()[p])),Bt=p=>{var n=xe.length;return xe.push(p),n},pn=(p,n)=>{var u=Mr[p];return u===void 0&&jr(`${n} has unknown type ${zr(p)}`),u},Et=(p,n)=>{for(var u=new Array(p),_=0;_<p;++_)u[_]=pn(ur[n+_*4>>2],"parameter "+_);return u},Dt=(p,n,u)=>{var _=[],T=p.toWireType(_,u);return _.length&&(ur[n>>2]=dr.toHandle(_)),T},nn=(p,n,u)=>{var _=Et(p,n),T=_.shift();p--;var j=`return function (obj, func, destructorsRef, args) {
`,V=0,o=[];u===0&&o.push("obj");for(var f=["retType"],m=[T],A=0;A<p;++A)o.push("arg"+A),f.push("argType"+A),m.push(_[A]),j+=`  var arg${A} = argType${A}.readValueFromPointer(args${V?"+"+V:""});
`,V+=_[A].argPackAdvance;var r=u===1?"new func":"func.call";j+=`  var rv = ${r}(${o.join(", ")});
`,T.isVoid||(f.push("emval_returnValue"),m.push(Dt),j+=`  return emval_returnValue(retType, destructorsRef, rv);
`),j+=`};
`,f.push(j);var t=yr(Function,f)(...m),s=`methodCaller<(${_.map(l=>l.name).join(", ")}) => ${T.name}>`;return Bt(Zr(s,t))},ue=p=>{p>9&&(Ir[p+1]+=1)},Ge=p=>{var n=dr.toValue(p);bt(n),Wr(p)},Er={},lt=p=>{if(p instanceof mt||p=="unwind")return xr;gr(1,p)},_e=0,he=()=>be||_e>0,Lt=p=>{xr=p,he()||(i.onExit?.(p),Jr=!0),gr(p,new mt(p))},Oe=(p,n)=>{xr=p,Lt(p)},Be=Oe,Me=()=>{if(!he())try{Be(xr)}catch(p){lt(p)}},vt=p=>{if(!Jr)try{p(),Me()}catch(n){lt(n)}},Ct=()=>performance.now(),Ot=(p,n)=>{if(Er[p]&&(clearTimeout(Er[p].id),delete Er[p]),!n)return 0;var u=setTimeout(()=>{delete Er[p],vt(()=>ye(p,Ct()))},n);return Er[p]={id:u,timeout_ms:n},0},$t=()=>2147483648,ct=(p,n)=>Math.ceil(p/n)*n,an=p=>{var n=Xr.buffer,u=(p-n.byteLength+65535)/65536|0;try{return Xr.grow(u),Ie(),1}catch{}},on=p=>{var n=lr.length;p>>>=0;var u=$t();if(p>u)return!1;for(var _=1;_<=4;_*=2){var T=n*(1+.2/_);T=Math.min(T,p+100663296);var j=Math.min(u,ct(Math.max(p,T),65536)),V=an(j);if(V)return!0}return!1};$r(),Ne=i.BindingError=class extends Error{constructor(n){super(n),this.name="BindingError"}},ie=i.InternalError=class extends Error{constructor(n){super(n),this.name="InternalError"}},Dr(),fe=i.UnboundTypeError=Rt(Error,"UnboundTypeError");var sn={u:Ae,o:Pr,l:oe,v:Ur,k:Kr,j:He,b:te,a:It,f:Zt,d:tn,m:dn,t:St,q:xt,i:ft,c:Wr,e:De,h:nn,n:ue,g:Ge,r:Ot,s:on,p:Lt},ge=fn(),Pe=p=>(Pe=ge.y)(p),Xe=p=>(Xe=ge.A)(p),ke=p=>(ke=ge.B)(p),ye=(p,n)=>(ye=ge.C)(p,n),Ve,Ft;Tr=function p(){Ve||ce(),Ve||(Tr=p)};function ce(){if(ee>0||!Ft&&(Ft=1,at(),ee>0))return;function p(){Ve||(Ve=1,i.calledRun=1,!Jr&&(kt(),Z(i),i.onRuntimeInitialized?.(),it()))}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),p()},1)):p()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return ce(),J=wr,J})})(),Gn;(function(w){w[w.None=0]="None",w[w.SegmentSmooth=1]="SegmentSmooth",w[w.Dithering=2]="Dithering"})(Gn||(Gn={}));var Xn;(function(w){w[w.None=0]="None",w[w.Fast=1]="Fast",w[w.Best=2]="Best"})(Xn||(Xn={}));const _i={lossless:!1,nearLossless:100,quality:75,targetSize:0,targetPSNR:0,method:4,snsStrength:50,filterStrength:60,filterSharpness:0,filterType:!0,segments:4,pass:1,sharpYUV:!1,preprocessing:Gn.None,autofilter:!1,partitionLimit:0,alphaCompression:1,alphaFiltering:Xn.Fast,alphaQuality:100,exact:!1,emulateJpegSize:!1,lowMemory:!1,partitions:0,showCompressed:0,imageHint:0,threadLevel:0,useDeltaPalette:0},hs=[8],gs="image/webp",ys="webp";let hi,gi;async function ms(w){return hi??=await Cn(ps,w)}async function bs(w){return gi??=await Cn(_s,w)}function ws(w,I){return Zn("Webp Encode",hi,_i,w,I)}function Ts(w){return On(gi.decode(w),"Webp Decode")}var Ns=Object.freeze({__proto__:null,get AlphaFiltering(){return Xn},get Preprocess(){return Gn},bitDepth:hs,decode:Ts,defaultOptions:_i,encode:ws,extension:ys,loadDecoder:bs,loadEncoder:ms,mimeType:gs}),As=(()=>{var w=import.meta.url;return(function(I={}){var J;function i(){return qr.buffer!=We.buffer&&ae(),We}function Z(){return qr.buffer!=We.buffer&&ae(),Yt}function cr(){return qr.buffer!=We.buffer&&ae(),Jt}function wr(){return qr.buffer!=We.buffer&&ae(),ee}function _r(){return qr.buffer!=We.buffer&&ae(),Tr}function gr(){return qr.buffer!=We.buffer&&ae(),ne}function sr(){return qr.buffer!=We.buffer&&ae(),qt}function pt(){return qr.buffer!=We.buffer&&ae(),_t}var Y=I,Qr,Fr,Xr=new Promise((e,a)=>{Qr=e,Fr=a}),Jr=typeof window=="object",xr=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var vr=xr&&self.name?.startsWith("em-pthread"),lr=Object.assign({},Y),Q="./this.program",Nr=(e,a)=>{throw a},Cr="";function ur(e){return Y.locateFile?Y.locateFile(e,Cr):Cr+e}var ar,Re;(Jr||xr)&&(xr?Cr=self.location.href:typeof document<"u"&&document.currentScript&&(Cr=document.currentScript.src),w&&(Cr=w),Cr.startsWith("blob:")?Cr="":Cr=Cr.substr(0,Cr.replace(/[?#].*/,"").lastIndexOf("/")+1),xr&&(Re=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),ar=e=>fetch(e,{credentials:"same-origin"}).then(a=>a.ok?a.arrayBuffer():Promise.reject(new Error(a.status+" : "+a.url))));var Ie=Y.print||console.log.bind(console),re=Y.printErr||console.error.bind(console);Object.assign(Y,lr),lr=null,Y.arguments&&Y.arguments,Y.thisProgram&&(Q=Y.thisProgram);var we=Y.wasmBinary,qr,at,kt=!1,it,We,Yt,Jt,ee,Tr,ne,qt,_t;function ae(){var e=qr.buffer;Y.HEAP8=We=new Int8Array(e),Y.HEAP16=Jt=new Int16Array(e),Y.HEAPU8=Yt=new Uint8Array(e),Y.HEAPU16=ee=new Uint16Array(e),Y.HEAP32=Tr=new Int32Array(e),Y.HEAPU32=ne=new Uint32Array(e),Y.HEAPF32=qt=new Float32Array(e),Y.HEAPF64=_t=new Float64Array(e)}if(vr){let e=function(...h){var E=h.join(" ");console.error(E)},a=function(...h){var E=h.join(" ");postMessage({cmd:"alert",text:E,threadId:xn()})},c=function(h){try{var E=h.data,U=E.cmd;if(U==="load"){let M=[];self.onmessage=D=>M.push(D),self.startWorker=D=>{postMessage({cmd:"loaded"});for(let x of M)c(x);self.onmessage=c};for(const D of E.handlers)(!Y[D]||Y[D].proxy)&&(Y[D]=(...x)=>{postMessage({cmd:"callHandler",handler:D,args:x})},D=="print"&&(Ie=Y[D]),D=="printErr"&&(re=Y[D]));qr=E.wasmMemory,ae(),ht(E.wasmModule)}else if(U==="run"){rt(E.pthread_ptr),sa(E.pthread_ptr,0,0,1,0,0),yr.receiveObjectTransfer(E),yr.threadInitTLS(),ta(E.pthread_ptr),ze||(Ua(),ze=!0);try{Gt(E.start_routine,E.arg)}catch(M){if(M!="unwind")throw M}}else E.target==="setimmediate"||(U==="checkMailbox"?ze&&In():U&&(re(`worker: received unknown command ${U}`),re(E)))}catch(M){throw Sa(),M}};var ht,ze=!1;Y.printErr||(re=e),self.alert=a,Y.instantiateWasm=(h,E)=>new Promise((U,M)=>{ht=D=>{var x=new WebAssembly.Instance(D,Ce());E(x),U()}}),self.onunhandledrejection=h=>{throw h.reason||h},self.onmessage=c}if(!vr){if(Y.wasmMemory)qr=Y.wasmMemory;else{var Qe=Y.INITIAL_MEMORY||16777216;qr=new WebAssembly.Memory({initial:Qe/65536,maximum:32768,shared:!0})}ae()}var de=[],ot=[],gt=[];function yt(){var e=Y.preRun;e&&(typeof e=="function"&&(e=[e]),e.forEach(mt)),$e(de)}function Kt(){vr||$e(ot)}function fn(){if(!vr){var e=Y.postRun;e&&(typeof e=="function"&&(e=[e]),e.forEach(be)),$e(gt)}}function mt(e){de.unshift(e)}function Te(e){ot.unshift(e)}function be(e){gt.unshift(e)}var Ae=0,Pr=null;function $r(e){Ae++,Y.monitorRunDependencies?.(Ae)}function pe(e){if(Ae--,Y.monitorRunDependencies?.(Ae),Ae==0&&Pr){var a=Pr;Pr=null,a()}}function mr(e){Y.onAbort?.(e),e="Aborted("+e+")",re(e),kt=!0,e+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(e);throw Fr(a),a}var Hr="data:application/octet-stream;base64,",Mr=e=>e.startsWith(Hr);function le(){if(Y.locateFile){var e="heic-enc.wasm";return Mr(e)?e:ur(e)}return new URL(""+new URL("../assets/heic-enc-BzJ-xkxZ.wasm",import.meta.url).href,import.meta.url).href}var Ne;function jr(e){if(e==Ne&&we)return new Uint8Array(we);if(Re)return Re(e);throw"both async and sync fetching of the wasm failed"}function ie(e){return we?Promise.resolve().then(()=>jr(e)):ar(e).then(a=>new Uint8Array(a),()=>jr(e))}function Ee(e,a,c){return ie(e).then(h=>WebAssembly.instantiate(h,a)).then(c,h=>{re(`failed to asynchronously prepare wasm: ${h}`),mr(h)})}function Ue(e,a,c,h){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Mr(a)&&typeof fetch=="function"?fetch(a,{credentials:"same-origin"}).then(E=>{var U=WebAssembly.instantiateStreaming(E,c);return U.then(h,function(M){return re(`wasm streaming compile failed: ${M}`),re("falling back to ArrayBuffer instantiation"),Ee(a,c,h)})}):Ee(a,c,h)}function Ce(){return io(),{a:Ra}}function br(){var e=Ce();function a(h,E){return Lr=h.exports,Je(Lr.Wa),Fe=Lr.Va,Te(Lr.Pa),at=E,pe(),Lr}$r();function c(h){a(h.instance,h.module)}if(Y.instantiateWasm)try{return Y.instantiateWasm(e,a)}catch(h){re(`Module.instantiateWasm callback failed with error: ${h}`),Fr(h)}return Ne??=le(),Ue(we,Ne,e,c).catch(Fr),{}}function fr(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var oe=e=>{e.terminate(),e.onmessage=a=>{}},Rr=e=>{var a=yr.pthreads[e];yr.returnWorkerToPool(a)},Ir=e=>{var a=yr.getNewWorker();if(!a)return 6;yr.runningWorkers.push(a),yr.pthreads[e.pthread_ptr]=a,a.pthread_ptr=e.pthread_ptr;var c={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return a.postMessage(c,e.transferList),0},Wr=0,Br=()=>Mt||Wr>0,Dr=()=>Ba(),dr=e=>Ha(e),Ar=e=>xa(e),ve=(e,a)=>a+2097152>>>0<4194305-!!e?(e>>>0)+a*4294967296:NaN,Ur=(e,a,c,...h)=>{for(var E=h.length,U=Dr(),M=Ar(E*8),D=M>>3,x=0;x<h.length;x++){var z=h[x];pt()[D+x]=z}var or=ja(e,a,E,M,c);return dr(U),or};function Se(e){if(vr)return Ur(0,0,1,e);it=e,Br()||(yr.terminateAllThreads(),Y.onExit?.(e),kt=!0),Nr(e,new fr(e))}var Kr=e=>{if(e instanceof fr||e=="unwind")return it;Nr(1,e)};function Zr(e){if(vr)return Ur(1,0,0,e);Ye(e)}var bt=(e,a)=>{if(it=e,vr)throw Zr(e),"unwind";Se(e)},Ye=bt,yr={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){vr||yr.initMainThread()},initMainThread(){for(var e=2;e--;)yr.allocateUnusedWorker();mt(()=>{$r(),yr.loadWasmModuleToAllWorkers(()=>pe())})},terminateAllThreads:()=>{for(var e of yr.runningWorkers)oe(e);for(var e of yr.unusedWorkers)oe(e);yr.unusedWorkers=[],yr.runningWorkers=[],yr.pthreads=[]},returnWorkerToPool:e=>{var a=e.pthread_ptr;delete yr.pthreads[a],yr.unusedWorkers.push(e),yr.runningWorkers.splice(yr.runningWorkers.indexOf(e),1),e.pthread_ptr=0,Da(a)},receiveObjectTransfer(e){},threadInitTLS(){yr.tlsInitFunctions.forEach(e=>e())},loadWasmModuleToWorker:e=>new Promise(a=>{e.onmessage=U=>{var M=U.data,D=M.cmd;if(M.targetThread&&M.targetThread!=xn()){var x=yr.pthreads[M.targetThread];x?x.postMessage(M,M.transferList):re(`Internal error! Worker sent a message "${D}" to target pthread ${M.targetThread}, but that thread no longer exists!`);return}D==="checkMailbox"?In():D==="spawnThread"?Ir(M):D==="cleanupThread"?Rr(M.thread):D==="loaded"?(e.loaded=!0,a(e)):D==="alert"?alert(`Thread ${M.threadId}: ${M.text}`):M.target==="setimmediate"?e.postMessage(M):D==="callHandler"?Y[M.handler](...M.args):D&&re(`worker sent an unknown command ${D}`)},e.onerror=U=>{var M="worker sent an error!";throw re(`${M} ${U.filename}:${U.lineno}: ${U.message}`),U};var c=[],h=["onExit","onAbort","print","printErr"];for(var E of h)Y.propertyIsEnumerable(E)&&c.push(E);e.postMessage({cmd:"load",handlers:c,wasmMemory:qr,wasmModule:at})}),loadWasmModuleToAllWorkers(e){if(vr)return e();Promise.all(yr.unusedWorkers.map(yr.loadWasmModuleToWorker)).then(e)},allocateUnusedWorker(){var e;e=new Worker(new URL(""+new URL("../heic-enc-BJwmun1R.js",import.meta.url).href,import.meta.url),{type:"module",name:"em-pthread"}),yr.unusedWorkers.push(e)},getNewWorker(){return yr.unusedWorkers.length==0&&(yr.allocateUnusedWorker(),yr.loadWasmModuleToWorker(yr.unusedWorkers[0])),yr.unusedWorkers.pop()}},$e=e=>{e.forEach(a=>a(Y))},rt=e=>{ae();var a=gr()[e+52>>2],c=gr()[e+56>>2],h=a-c;Ia(a,h),dr(a)},je=[],Fe,Gr=e=>{var a=je[e];return a||(e>=je.length&&(je.length=e+1),je[e]=a=Fe.get(e)),a},Gt=(e,a)=>{Wr=0,Mt=0;var c=Gr(e)(a);function h(E){Br()?it=E:ua(E)}h(c)},Mt=Y.noExitRuntime||!0,Je=e=>yr.tlsInitFunctions.push(e),qe=new TextDecoder,et=(e,a)=>{if(!e)return"";for(var c=e+a,h=e;!(h>=c)&&Z()[h];)++h;return qe.decode(Z().slice(e,h))},Ke=(e,a,c,h)=>{mr(`Assertion failed: ${et(e)}, at: `+[a?et(a):"unknown filename",c,h?et(h):"unknown function"])},st=[],ut=0,Rt=e=>{var a=new Wt(e);return a.get_caught()||(a.set_caught(!0),ut--),a.set_rethrown(!1),st.push(a),Na(e),Ja(e)},fe=0,zr=()=>{Le(0,0);var e=st.pop();La(e.excPtr),fe=0};class Wt{constructor(a){this.excPtr=a,this.ptr=a-24}set_type(a){gr()[this.ptr+4>>2]=a}get_type(){return gr()[this.ptr+4>>2]}set_destructor(a){gr()[this.ptr+8>>2]=a}get_destructor(){return gr()[this.ptr+8>>2]}set_caught(a){a=a?1:0,i()[this.ptr+12]=a}get_caught(){return i()[this.ptr+12]!=0}set_rethrown(a){a=a?1:0,i()[this.ptr+13]=a}get_rethrown(){return i()[this.ptr+13]!=0}init(a,c){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(c)}set_adjusted_ptr(a){gr()[this.ptr+16>>2]=a}get_adjusted_ptr(){return gr()[this.ptr+16>>2]}}var Vt=e=>{throw fe||(fe=e),fe},He=e=>Va(e),tt=e=>{var a=fe;if(!a)return He(0),0;var c=new Wt(a);c.set_adjusted_ptr(a);var h=c.get_type();if(!h)return He(0),a;for(var E of e){if(E===0||E===h)break;var U=c.ptr+16;if(Ya(E,h,U))return He(E),a}return He(h),a},te=()=>tt([]),It=e=>tt([e]),ln=()=>{var e=st.pop();e||mr("no exception to throw");var a=e.excPtr;throw e.get_rethrown()||(st.push(e),e.set_rethrown(!0),e.set_caught(!1),ut++),fe=a,fe},wt=(e,a,c)=>{var h=new Wt(e);throw h.init(a,c),fe=e,ut++,fe},vn=()=>ut;function Ht(e,a,c,h){return vr?Ur(2,0,1,e,a,c,h):Zt(e,a,c,h)}var Xt=()=>typeof SharedArrayBuffer<"u",Zt=(e,a,c,h)=>{if(!Xt())return 6;var E=[],U=0;if(vr&&(E.length===0||U))return Ht(e,a,c,h);var M={startRoutine:c,pthread_ptr:e,arg:h,transferList:E};return vr?(M.cmd="spawnThread",postMessage(M,E),0):Ir(M)};function Ut(e,a,c){return vr?Ur(3,0,1,e,a,c):0}var cn=(e,a,c,h)=>{if(!(h>0))return 0;for(var E=c,U=c+h-1,M=0;M<e.length;++M){var D=e.charCodeAt(M);if(D>=55296&&D<=57343){var x=e.charCodeAt(++M);D=65536+((D&1023)<<10)|x&1023}if(D<=127){if(c>=U)break;a[c++]=D}else if(D<=2047){if(c+1>=U)break;a[c++]=192|D>>6,a[c++]=128|D&63}else if(D<=65535){if(c+2>=U)break;a[c++]=224|D>>12,a[c++]=128|D>>6&63,a[c++]=128|D&63}else{if(c+3>=U)break;a[c++]=240|D>>18,a[c++]=128|D>>12&63,a[c++]=128|D>>6&63,a[c++]=128|D&63}}return a[c]=0,c-E},Tt=(e,a,c)=>cn(e,Z(),a,c);function zt(e,a,c){if(vr)return Ur(4,0,1,e,a,c)}function Qt(e,a,c){return vr?Ur(5,0,1,e,a,c):0}function rn(e,a,c,h){if(vr)return Ur(6,0,1,e,a,c,h)}function en(e,a,c,h){if(vr)return Ur(7,0,1,e,a,c,h)}function tn(e,a,c){if(vr)return Ur(8,0,1,e,a,c)}var dn=()=>{mr("")},St={},xt=e=>{for(;e.length;){var a=e.pop(),c=e.pop();c(a)}};function xe(e){return this.fromWireType(gr()[e>>2])}var ft={},nt={},At={},jt,De=e=>{throw new jt(e)},Bt=(e,a,c)=>{e.forEach(D=>At[D]=a);function h(D){var x=c(D);x.length!==e.length&&De("Mismatched type converter count");for(var z=0;z<e.length;++z)_e(e[z],x[z])}var E=new Array(a.length),U=[],M=0;a.forEach((D,x)=>{nt.hasOwnProperty(D)?E[x]=nt[D]:(U.push(D),ft.hasOwnProperty(D)||(ft[D]=[]),ft[D].push(()=>{E[x]=nt[D],++M,M===U.length&&h(E)}))}),U.length===0&&h(E)},pn=e=>{var a=St[e];delete St[e];var c=a.rawConstructor,h=a.rawDestructor,E=a.fields,U=E.map(M=>M.getterReturnType).concat(E.map(M=>M.setterArgumentType));Bt([e],U,M=>{var D={};return E.forEach((x,z)=>{var or=x.fieldName,Sr=M[z],se=x.getter,Pt=x.getterContext,un=M[z+E.length],mn=x.setter,Tn=x.setterContext;D[or]={read:_n=>Sr.fromWireType(se(Pt,_n)),write:(_n,Sn)=>{var hn=[];mn(Tn,_n,un.toWireType(hn,Sn)),xt(hn)}}}),[{name:a.name,fromWireType:x=>{var z={};for(var or in D)z[or]=D[or].read(x);return h(x),z},toWireType:(x,z)=>{for(var or in D)if(!(or in z))throw new TypeError(`Missing field: "${or}"`);var Sr=c();for(or in D)D[or].write(Sr,z[or]);return x!==null&&x.push(h,Sr),Sr},argPackAdvance:he,readValueFromPointer:xe,destructorFunction:h}]})},Et=(e,a,c,h,E)=>{},Dt=()=>{for(var e=new Array(256),a=0;a<256;++a)e[a]=String.fromCharCode(a);nn=e},nn,ue=e=>{for(var a="",c=e;Z()[c];)a+=nn[Z()[c++]];return a},Ge,Er=e=>{throw new Ge(e)};function lt(e,a,c={}){var h=a.name;if(e||Er(`type "${h}" must have a positive integer typeid pointer`),nt.hasOwnProperty(e)){if(c.ignoreDuplicateRegistrations)return;Er(`Cannot register type '${h}' twice`)}if(nt[e]=a,delete At[e],ft.hasOwnProperty(e)){var E=ft[e];delete ft[e],E.forEach(U=>U())}}function _e(e,a,c={}){return lt(e,a,c)}var he=8,Lt=(e,a,c,h)=>{a=ue(a),_e(e,{name:a,fromWireType:function(E){return!!E},toWireType:function(E,U){return U?c:h},argPackAdvance:he,readValueFromPointer:function(E){return this.fromWireType(Z()[E])},destructorFunction:null})},Oe=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Be=e=>{function a(c){return c.$$.ptrType.registeredClass.name}Er(a(e)+" instance already deleted")},Me=!1,vt=e=>{},Ct=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Ot=e=>{e.count.value-=1;var a=e.count.value===0;a&&Ct(e)},$t=(e,a,c)=>{if(a===c)return e;if(c.baseClass===void 0)return null;var h=$t(e,a,c.baseClass);return h===null?null:c.downcast(h)},ct={},an={},on=(e,a)=>{for(a===void 0&&Er("ptr should not be undefined");e.baseClass;)a=e.upcast(a),e=e.baseClass;return a},sn=(e,a)=>(a=on(e,a),an[a]),ge=(e,a)=>{(!a.ptrType||!a.ptr)&&De("makeClassHandle requires ptr and ptrType");var c=!!a.smartPtrType,h=!!a.smartPtr;return c!==h&&De("Both smartPtrType and smartPtr must be specified"),a.count={value:1},Xe(Object.create(e,{$$:{value:a,writable:!0}}))};function Pe(e){var a=this.getPointee(e);if(!a)return this.destructor(e),null;var c=sn(this.registeredClass,a);if(c!==void 0){if(c.$$.count.value===0)return c.$$.ptr=a,c.$$.smartPtr=e,c.clone();var h=c.clone();return this.destructor(e),h}function E(){return this.isSmartPointer?ge(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:a,smartPtrType:this,smartPtr:e}):ge(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var U=this.registeredClass.getActualType(a),M=ct[U];if(!M)return E.call(this);var D;this.isConst?D=M.constPointerType:D=M.pointerType;var x=$t(a,this.registeredClass,D.registeredClass);return x===null?E.call(this):this.isSmartPointer?ge(D.registeredClass.instancePrototype,{ptrType:D,ptr:x,smartPtrType:this,smartPtr:e}):ge(D.registeredClass.instancePrototype,{ptrType:D,ptr:x})}var Xe=e=>typeof FinalizationRegistry>"u"?(Xe=a=>a,e):(Me=new FinalizationRegistry(a=>{Ot(a.$$)}),Xe=a=>{var c=a.$$,h=!!c.smartPtr;if(h){var E={$$:c};Me.register(a,E,a)}return a},vt=a=>Me.unregister(a),Xe(e)),ke=()=>{Object.assign(ye.prototype,{isAliasOf(e){if(!(this instanceof ye)||!(e instanceof ye))return!1;var a=this.$$.ptrType.registeredClass,c=this.$$.ptr;e.$$=e.$$;for(var h=e.$$.ptrType.registeredClass,E=e.$$.ptr;a.baseClass;)c=a.upcast(c),a=a.baseClass;for(;h.baseClass;)E=h.upcast(E),h=h.baseClass;return a===h&&c===E},clone(){if(this.$$.ptr||Be(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Xe(Object.create(Object.getPrototypeOf(this),{$$:{value:Oe(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||Be(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Er("Object already scheduled for deletion"),vt(this),Ot(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Be(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Er("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}})};function ye(){}var Ve=(e,a)=>Object.defineProperty(a,"name",{value:e}),Ft=(e,a,c)=>{if(e[a].overloadTable===void 0){var h=e[a];e[a]=function(...E){return e[a].overloadTable.hasOwnProperty(E.length)||Er(`Function '${c}' called with an invalid number of arguments (${E.length}) - expects one of (${e[a].overloadTable})!`),e[a].overloadTable[E.length].apply(this,E)},e[a].overloadTable=[],e[a].overloadTable[h.argCount]=h}},ce=(e,a,c)=>{Y.hasOwnProperty(e)?((c===void 0||Y[e].overloadTable!==void 0&&Y[e].overloadTable[c]!==void 0)&&Er(`Cannot register public name '${e}' twice`),Ft(Y,e,e),Y.hasOwnProperty(c)&&Er(`Cannot register multiple overloads of a function with the same number of arguments (${c})!`),Y[e].overloadTable[c]=a):(Y[e]=a,c!==void 0&&(Y[e].numArguments=c))},p=48,n=57,u=e=>{e=e.replace(/[^a-zA-Z0-9_]/g,"$");var a=e.charCodeAt(0);return a>=p&&a<=n?`_${e}`:e};function _(e,a,c,h,E,U,M,D){this.name=e,this.constructor=a,this.instancePrototype=c,this.rawDestructor=h,this.baseClass=E,this.getActualType=U,this.upcast=M,this.downcast=D,this.pureVirtualFunctions=[]}var T=(e,a,c)=>{for(;a!==c;)a.upcast||Er(`Expected null or instance of ${c.name}, got an instance of ${a.name}`),e=a.upcast(e),a=a.baseClass;return e};function j(e,a){if(a===null)return this.isReference&&Er(`null is not a valid ${this.name}`),0;a.$$||Er(`Cannot pass "${ir(a)}" as a ${this.name}`),a.$$.ptr||Er(`Cannot pass deleted object as a pointer of type ${this.name}`);var c=a.$$.ptrType.registeredClass,h=T(a.$$.ptr,c,this.registeredClass);return h}function V(e,a){var c;if(a===null)return this.isReference&&Er(`null is not a valid ${this.name}`),this.isSmartPointer?(c=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,c),c):0;(!a||!a.$$)&&Er(`Cannot pass "${ir(a)}" as a ${this.name}`),a.$$.ptr||Er(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&a.$$.ptrType.isConst&&Er(`Cannot convert argument of type ${a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name} to parameter type ${this.name}`);var h=a.$$.ptrType.registeredClass;if(c=T(a.$$.ptr,h,this.registeredClass),this.isSmartPointer)switch(a.$$.smartPtr===void 0&&Er("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:a.$$.smartPtrType===this?c=a.$$.smartPtr:Er(`Cannot convert argument of type ${a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:c=a.$$.smartPtr;break;case 2:if(a.$$.smartPtrType===this)c=a.$$.smartPtr;else{var E=a.clone();c=this.rawShare(c,y.toHandle(()=>E.delete())),e!==null&&e.push(this.rawDestructor,c)}break;default:Er("Unsupporting sharing policy")}return c}function o(e,a){if(a===null)return this.isReference&&Er(`null is not a valid ${this.name}`),0;a.$$||Er(`Cannot pass "${ir(a)}" as a ${this.name}`),a.$$.ptr||Er(`Cannot pass deleted object as a pointer of type ${this.name}`),a.$$.ptrType.isConst&&Er(`Cannot convert argument of type ${a.$$.ptrType.name} to parameter type ${this.name}`);var c=a.$$.ptrType.registeredClass,h=T(a.$$.ptr,c,this.registeredClass);return h}var f=()=>{Object.assign(m.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:he,readValueFromPointer:xe,fromWireType:Pe})};function m(e,a,c,h,E,U,M,D,x,z,or){this.name=e,this.registeredClass=a,this.isReference=c,this.isConst=h,this.isSmartPointer=E,this.pointeeType=U,this.sharingPolicy=M,this.rawGetPointee=D,this.rawConstructor=x,this.rawShare=z,this.rawDestructor=or,!E&&a.baseClass===void 0?h?(this.toWireType=j,this.destructorFunction=null):(this.toWireType=o,this.destructorFunction=null):this.toWireType=V}var A=(e,a,c)=>{Y.hasOwnProperty(e)||De("Replacing nonexistent public symbol"),Y[e].overloadTable!==void 0&&c!==void 0?Y[e].overloadTable[c]=a:(Y[e]=a,Y[e].argCount=c)},r=(e,a,c)=>{e=e.replace(/p/g,"i");var h=Y["dynCall_"+e];return h(a,...c)},t=(e,a,c=[])=>{if(e.includes("j"))return r(e,a,c);var h=Gr(a)(...c);return h},s=(e,a)=>(...c)=>t(e,a,c),l=(e,a)=>{e=ue(e);function c(){return e.includes("j")?s(e,a):Gr(a)}var h=c();return typeof h!="function"&&Er(`unknown function pointer with signature ${e}: ${a}`),h},b=(e,a)=>{var c=Ve(a,function(h){this.name=a,this.message=h;var E=new Error(h).stack;E!==void 0&&(this.stack=this.toString()+`
`+E.replace(/^Error(:[^\n]*)?\n/,""))});return c.prototype=Object.create(e.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},c},$,R=e=>{var a=Wa(e),c=ue(a);return wn(a),c},k=(e,a)=>{var c=[],h={};function E(U){if(!h[U]&&!nt[U]){if(At[U]){At[U].forEach(E);return}c.push(U),h[U]=!0}}throw a.forEach(E),new $(`${e}: `+c.map(R).join([", "]))},W=(e,a,c,h,E,U,M,D,x,z,or,Sr,se)=>{or=ue(or),U=l(E,U),D&&=l(M,D),z&&=l(x,z),se=l(Sr,se);var Pt=u(or);ce(Pt,function(){k(`Cannot construct ${or} due to unbound types`,[h])}),Bt([e,a,c],h?[h]:[],un=>{un=un[0];var mn,Tn;h?(mn=un.registeredClass,Tn=mn.instancePrototype):Tn=ye.prototype;var _n=Ve(or,function(...fa){if(Object.getPrototypeOf(this)!==Sn)throw new Ge("Use 'new' to construct "+or);if(hn.constructor_body===void 0)throw new Ge(or+" has no accessible constructor");var Qa=hn.constructor_body[fa.length];if(Qa===void 0)throw new Ge(`Tried to invoke ctor of ${or} with invalid number of parameters (${fa.length}) - expected (${Object.keys(hn.constructor_body).toString()}) parameters instead!`);return Qa.apply(this,fa)}),Sn=Object.create(Tn,{constructor:{value:_n}});_n.prototype=Sn;var hn=new _(or,_n,Sn,se,mn,U,D,z);hn.baseClass&&(hn.baseClass.__derivedClasses??=[],hn.baseClass.__derivedClasses.push(hn));var Po=new m(or,hn,!0,!1,!1),Za=new m(or+"*",hn,!1,!1,!1),za=new m(or+" const*",hn,!1,!0,!1);return ct[e]={pointerType:Za,constPointerType:za},A(Pt,_n),[Po,Za,za]})},H=[],L=[],tr=e=>{e>9&&--L[e+1]===0&&(L[e]=void 0,H.push(e))},Or=()=>L.length/2-5-H.length,d=()=>{L.push(0,1,void 0,1,null,1,!0,1,!1,1),Y.count_emval_handles=Or},y={toValue:e=>(e||Er("Cannot use deleted val. handle = "+e),L[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const a=H.pop()||L.length;return L[a]=e,L[a+1]=1,a}}}},F={name:"emscripten::val",fromWireType:e=>{var a=y.toValue(e);return tr(e),a},toWireType:(e,a)=>y.toHandle(a),argPackAdvance:he,readValueFromPointer:xe,destructorFunction:null},S=e=>_e(e,F),B=(e,a,c)=>{switch(a){case 1:return c?function(h){return this.fromWireType(i()[h])}:function(h){return this.fromWireType(Z()[h])};case 2:return c?function(h){return this.fromWireType(cr()[h>>1])}:function(h){return this.fromWireType(wr()[h>>1])};case 4:return c?function(h){return this.fromWireType(_r()[h>>2])}:function(h){return this.fromWireType(gr()[h>>2])};default:throw new TypeError(`invalid integer width (${a}): ${e}`)}},X=(e,a,c,h)=>{a=ue(a);function E(){}E.values={},_e(e,{name:a,constructor:E,fromWireType:function(U){return this.constructor.values[U]},toWireType:(U,M)=>M.value,argPackAdvance:he,readValueFromPointer:B(a,c,h),destructorFunction:null}),ce(a,E)},rr=(e,a)=>{var c=nt[e];return c===void 0&&Er(`${a} has unknown type ${R(e)}`),c},nr=(e,a,c)=>{var h=rr(e,"enum");a=ue(a);var E=h.constructor,U=Object.create(h.constructor.prototype,{value:{value:c},constructor:{value:Ve(`${h.name}_${a}`,function(){})}});E.values[c]=U,E[a]=U},ir=e=>{if(e===null)return"null";var a=typeof e;return a==="object"||a==="array"||a==="function"?e.toString():""+e},hr=(e,a)=>{switch(a){case 4:return function(c){return this.fromWireType(sr()[c>>2])};case 8:return function(c){return this.fromWireType(pt()[c>>3])};default:throw new TypeError(`invalid float width (${a}): ${e}`)}},Vr=(e,a,c)=>{a=ue(a),_e(e,{name:a,fromWireType:h=>h,toWireType:(h,E)=>E,argPackAdvance:he,readValueFromPointer:hr(a,c),destructorFunction:null})};function Yr(e){for(var a=1;a<e.length;++a)if(e[a]!==null&&e[a].destructorFunction===void 0)return!0;return!1}function dt(e,a){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var c=Ve(e.name||"unknownFunctionName",function(){});c.prototype=e.prototype;var h=new c,E=e.apply(h,a);return E instanceof Object?E:h}function bn(e,a,c,h){for(var E=Yr(e),U=e.length-2,M=[],D=["fn"],x=0;x<U;++x)M.push(`arg${x}`),D.push(`arg${x}Wired`);M=M.join(","),D=D.join(",");var z=`return function (${M}) {
`;E&&(z+=`var destructors = [];
`);for(var or=E?"destructors":"null",Sr=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"],x=0;x<U;++x)z+=`var arg${x}Wired = argType${x}['toWireType'](${or}, arg${x});
`,Sr.push(`argType${x}`);if(z+=(c||h?"var rv = ":"")+`invoker(${D});
`,E)z+=`runDestructors(destructors);
`;else for(var x=2;x<e.length;++x){var se=x===1?"thisWired":"arg"+(x-2)+"Wired";e[x].destructorFunction!==null&&(z+=`${se}_dtor(${se});
`,Sr.push(`${se}_dtor`))}return c&&(z+=`var ret = retType['fromWireType'](rv);
return ret;
`),z+=`}
`,[Sr,z]}function gn(e,a,c,h,E,U){var M=a.length;M<2&&Er("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var D=a[1]!==null&&c!==null,x=Yr(a),z=a[0].name!=="void",or=[e,Er,h,E,xt,a[0],a[1]],Sr=0;Sr<M-2;++Sr)or.push(a[Sr+2]);if(!x)for(var Sr=2;Sr<a.length;++Sr)a[Sr].destructorFunction!==null&&or.push(a[Sr].destructorFunction);let[se,Pt]=bn(a,D,z,U);se.push(Pt);var un=dt(Function,se)(...or);return Ve(e,un)}var zn=(e,a)=>{for(var c=[],h=0;h<e;h++)c.push(gr()[a+h*4>>2]);return c},$n=e=>{e=e.trim();const a=e.indexOf("(");return a!==-1?e.substr(0,a):e},Mn=(e,a,c,h,E,U,M,D)=>{var x=zn(a,c);e=ue(e),e=$n(e),E=l(h,E),ce(e,function(){k(`Cannot call ${e} due to unbound types`,x)},a-1),Bt([],x,z=>{var or=[z[0],null].concat(z.slice(1));return A(e,gn(e,or,null,E,U,M),a-1),[]})},Vn=(e,a,c)=>{switch(a){case 1:return c?h=>i()[h]:h=>Z()[h];case 2:return c?h=>cr()[h>>1]:h=>wr()[h>>1];case 4:return c?h=>_r()[h>>2]:h=>gr()[h>>2];default:throw new TypeError(`invalid integer width (${a}): ${e}`)}},v=(e,a,c,h,E)=>{a=ue(a);var U=or=>or;if(h===0){var M=32-8*c;U=or=>or<<M>>>M}var D=a.includes("unsigned"),x=(or,Sr)=>{},z;D?z=function(or,Sr){return x(Sr,this.name),Sr>>>0}:z=function(or,Sr){return x(Sr,this.name),Sr},_e(e,{name:a,fromWireType:U,toWireType:z,argPackAdvance:he,readValueFromPointer:Vn(a,c,h!==0),destructorFunction:null})},g=(e,a,c)=>{var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],E=h[a];function U(M){var D=gr()[M>>2],x=gr()[M+4>>2];return new E(i().buffer,x,D)}c=ue(c),_e(e,{name:c,fromWireType:U,argPackAdvance:he,readValueFromPointer:U},{ignoreDuplicateRegistrations:!0})},C=e=>{for(var a=0,c=0;c<e.length;++c){var h=e.charCodeAt(c);h<=127?a++:h<=2047?a+=2:h>=55296&&h<=57343?(a+=4,++c):a+=3}return a},P=(e,a)=>{a=ue(a);var c=a==="std::string";_e(e,{name:a,fromWireType(h){var E=gr()[h>>2],U=h+4,M;if(c)for(var D=U,x=0;x<=E;++x){var z=U+x;if(x==E||Z()[z]==0){var or=z-D,Sr=et(D,or);M===void 0?M=Sr:(M+="\0",M+=Sr),D=z+1}}else{for(var se=new Array(E),x=0;x<E;++x)se[x]=String.fromCharCode(Z()[U+x]);M=se.join("")}return wn(h),M},toWireType(h,E){E instanceof ArrayBuffer&&(E=new Uint8Array(E));var U,M=typeof E=="string";M||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int8Array||Er("Cannot pass non-string to std::string"),c&&M?U=C(E):U=E.length;var D=oa(4+U+1),x=D+4;if(gr()[D>>2]=U,c&&M)Tt(E,x,U+1);else if(M)for(var z=0;z<U;++z){var or=E.charCodeAt(z);or>255&&(wn(x),Er("String has UTF-16 code units that do not fit in 8 bits")),Z()[x+z]=or}else for(var z=0;z<U;++z)Z()[x+z]=E[z];return h!==null&&h.push(wn,D),D},argPackAdvance:he,readValueFromPointer:xe,destructorFunction(h){wn(h)}})},O=new TextDecoder("utf-16le"),N=(e,a)=>{for(var c=e,h=c>>1,E=h+a/2;!(h>=E)&&wr()[h];)++h;return c=h<<1,O.decode(Z().slice(e,c))},K=(e,a,c)=>{if(c??=2147483647,c<2)return 0;c-=2;for(var h=a,E=c<e.length*2?c/2:e.length,U=0;U<E;++U){var M=e.charCodeAt(U);cr()[a>>1]=M,a+=2}return cr()[a>>1]=0,a-h},q=e=>e.length*2,G=(e,a)=>{for(var c=0,h="";!(c>=a/4);){var E=_r()[e+c*4>>2];if(E==0)break;if(++c,E>=65536){var U=E-65536;h+=String.fromCharCode(55296|U>>10,56320|U&1023)}else h+=String.fromCharCode(E)}return h},er=(e,a,c)=>{if(c??=2147483647,c<4)return 0;for(var h=a,E=h+c-4,U=0;U<e.length;++U){var M=e.charCodeAt(U);if(M>=55296&&M<=57343){var D=e.charCodeAt(++U);M=65536+((M&1023)<<10)|D&1023}if(_r()[a>>2]=M,a+=4,a+4>E)break}return _r()[a>>2]=0,a-h},pr=e=>{for(var a=0,c=0;c<e.length;++c){var h=e.charCodeAt(c);h>=55296&&h<=57343&&++c,a+=4}return a},kr=(e,a,c)=>{c=ue(c);var h,E,U,M;a===2?(h=N,E=K,M=q,U=D=>wr()[D>>1]):a===4&&(h=G,E=er,M=pr,U=D=>gr()[D>>2]),_e(e,{name:c,fromWireType:D=>{for(var x=gr()[D>>2],z,or=D+4,Sr=0;Sr<=x;++Sr){var se=D+4+Sr*a;if(Sr==x||U(se)==0){var Pt=se-or,un=h(or,Pt);z===void 0?z=un:(z+="\0",z+=un),or=se+a}}return wn(D),z},toWireType:(D,x)=>{typeof x!="string"&&Er(`Cannot pass non-string to C++ string type ${c}`);var z=M(x),or=oa(4+z+a);return gr()[or>>2]=z/a,E(x,or+4,z+a),D!==null&&D.push(wn,or),or},argPackAdvance:he,readValueFromPointer:xe,destructorFunction(D){wn(D)}})},me=(e,a,c,h,E,U)=>{St[e]={name:ue(a),rawConstructor:l(c,h),rawDestructor:l(E,U),fields:[]}},Nt=(e,a,c,h,E,U,M,D,x,z)=>{St[e].fields.push({fieldName:ue(a),getterReturnType:c,getter:l(h,E),getterContext:U,setterArgumentType:M,setter:l(D,x),setterContext:z})},yn=(e,a)=>{a=ue(a),_e(e,{isVoid:!0,name:a,argPackAdvance:0,fromWireType:()=>{},toWireType:(c,h)=>{}})},Qn=1,ra=()=>Qn,kn=e=>{sa(e,!xr,1,!Jr,2097152,!1),yr.threadInitTLS()},ea=()=>{if(!Br())try{vr?ua(it):Ye(it)}catch(e){Kr(e)}},Rn=e=>{if(!kt)try{e(),ea()}catch(a){Kr(a)}},ta=e=>{if(typeof Atomics.waitAsync=="function"){var a=Atomics.waitAsync(_r(),e>>2,e);a.value.then(In);var c=e+128;Atomics.store(_r(),c>>2,1)}},In=()=>{var e=xn();e&&(ta(e),Rn(Ma))},yi=(e,a)=>{if(e==a)setTimeout(In);else if(vr)postMessage({targetThread:e,cmd:"checkMailbox"});else{var c=yr.pthreads[e];if(!c)return;c.postMessage({cmd:"checkMailbox"})}},na=[],mi=(e,a,c,h,E)=>{na.length=h;for(var U=E>>3,M=0;M<h;M++)na[M]=pt()[U+M];var D=ao[e];yr.currentProxiedOperationCallerThread=c;var x=D(...na);return yr.currentProxiedOperationCallerThread=0,x},bi=()=>{Mt=!1,Wr=0},wi=e=>{vr?postMessage({cmd:"cleanupThread",thread:e}):Rr(e)},Ti=e=>{},Hn=[],Ai=(e,a,c,h)=>(e=Hn[e],a=y.toValue(a),e(null,a,c,h)),Ei={},aa=e=>{var a=Ei[e];return a===void 0?ue(e):a},Ci=(e,a,c,h,E)=>(e=Hn[e],a=y.toValue(a),c=aa(c),e(a,a[c],h,E)),ya=()=>typeof globalThis=="object"?globalThis:(function(){return Function})()("return this")(),$i=e=>e===0?y.toHandle(ya()):(e=aa(e),y.toHandle(ya()[e])),Fi=e=>{var a=Hn.length;return Hn.push(e),a},Pi=(e,a)=>{for(var c=new Array(e),h=0;h<e;++h)c[h]=rr(gr()[a+h*4>>2],"parameter "+h);return c},ki=(e,a,c)=>{var h=[],E=e.toWireType(h,c);return h.length&&(gr()[a>>2]=y.toHandle(h)),E},Ri=(e,a,c)=>{var h=Pi(e,a),E=h.shift();e--;var U=`return function (obj, func, destructorsRef, args) {
`,M=0,D=[];c===0&&D.push("obj");for(var x=["retType"],z=[E],or=0;or<e;++or)D.push("arg"+or),x.push("argType"+or),z.push(h[or]),U+=`  var arg${or} = argType${or}.readValueFromPointer(args${M?"+"+M:""});
`,M+=h[or].argPackAdvance;var Sr=c===1?"new func":"func.call";U+=`  var rv = ${Sr}(${D.join(", ")});
`,E.isVoid||(x.push("emval_returnValue"),z.push(ki),U+=`  return emval_returnValue(retType, destructorsRef, rv);
`),U+=`};
`,x.push(U);var se=dt(Function,x)(...z),Pt=`methodCaller<(${h.map(un=>un.name).join(", ")}) => ${E.name}>`;return Fi(Ve(Pt,se))},Wi=e=>{e>9&&(L[e+1]+=1)},Ui=()=>y.toHandle([]),Si=e=>y.toHandle(aa(e)),ji=()=>y.toHandle({}),Di=e=>{var a=y.toValue(e);xt(a),tr(e)},Oi=(e,a,c)=>{e=y.toValue(e),a=y.toValue(a),c=y.toValue(c),e[a]=c},Mi=(e,a)=>{e=rr(e,"_emval_take_value");var c=e.readValueFromPointer(a);return y.toHandle(c)},Vi=e=>e%4===0&&(e%100!==0||e%400===0),Ii=[0,31,60,91,121,152,182,213,244,274,305,335],Hi=[0,31,59,90,120,151,181,212,243,273,304,334],xi=e=>{var a=Vi(e.getFullYear()),c=a?Ii:Hi,h=c[e.getMonth()]+e.getDate()-1;return h};function Bi(e,a,c){var h=ve(e,a),E=new Date(h*1e3);_r()[c>>2]=E.getSeconds(),_r()[c+4>>2]=E.getMinutes(),_r()[c+8>>2]=E.getHours(),_r()[c+12>>2]=E.getDate(),_r()[c+16>>2]=E.getMonth(),_r()[c+20>>2]=E.getFullYear()-1900,_r()[c+24>>2]=E.getDay();var U=xi(E)|0;_r()[c+28>>2]=U,_r()[c+36>>2]=-(E.getTimezoneOffset()*60);var M=new Date(E.getFullYear(),0,1),D=new Date(E.getFullYear(),6,1).getTimezoneOffset(),x=M.getTimezoneOffset(),z=(D!=x&&E.getTimezoneOffset()==Math.min(x,D))|0;_r()[c+32>>2]=z}function ma(e,a,c,h,E,U,M,D){return vr?Ur(9,0,1,e,a,c,h,E,U,M,D):-52}function ba(e,a,c,h,E,U,M){if(vr)return Ur(10,0,1,e,a,c,h,E,U,M)}var Wn={},wa=()=>performance.timeOrigin+performance.now();function Ta(e,a){if(vr)return Ur(11,0,1,e,a);if(Wn[e]&&(clearTimeout(Wn[e].id),delete Wn[e]),!a)return 0;var c=setTimeout(()=>{delete Wn[e],Rn(()=>Oa(e,wa()))},a);return Wn[e]={id:c,timeout_ms:a},0}var Li=(e,a,c,h)=>{var E=new Date().getFullYear(),U=new Date(E,0,1),M=new Date(E,6,1),D=U.getTimezoneOffset(),x=M.getTimezoneOffset(),z=Math.max(D,x);gr()[e>>2]=z*60,_r()[a>>2]=+(D!=x);var or=Pt=>{var un=Pt>=0?"-":"+",mn=Math.abs(Pt),Tn=String(Math.floor(mn/60)).padStart(2,"0"),_n=String(mn%60).padStart(2,"0");return`UTC${un}${Tn}${_n}`},Sr=or(D),se=or(x);x<D?(Tt(Sr,c,17),Tt(se,h,17)):(Tt(Sr,h,17),Tt(se,c,17))},Ni=()=>{},Yi=()=>Date.now(),Ji=()=>{Wr+=1},qi=()=>{throw Ji(),"unwind"},Aa=()=>2147483648,Ki=()=>Aa(),Gi=()=>1,Xi=(e,a)=>Math.ceil(e/a)*a,Zi=e=>{var a=qr.buffer,c=(e-a.byteLength+65535)/65536|0;try{return qr.grow(c),ae(),1}catch{}},zi=e=>{var a=Z().length;if(e>>>=0,e<=a)return!1;var c=Aa();if(e>c)return!1;for(var h=1;h<=4;h*=2){var E=a*(1+.2/h);E=Math.min(E,e+100663296);var U=Math.min(c,Xi(Math.max(e,E),65536)),M=Zi(U);if(M)return!0}return!1},ia={},Qi=()=>Q||"./this.program",Un=()=>{if(!Un.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Qi()};for(var c in ia)ia[c]===void 0?delete a[c]:a[c]=ia[c];var h=[];for(var c in a)h.push(`${c}=${a[c]}`);Un.strings=h}return Un.strings},ro=(e,a)=>{for(var c=0;c<e.length;++c)i()[a++]=e.charCodeAt(c);i()[a]=0},Ea=function(e,a){if(vr)return Ur(12,0,1,e,a);var c=0;return Un().forEach((h,E)=>{var U=a+c;gr()[e+E*4>>2]=U,ro(h,U),c+=h.length+1}),0},Ca=function(e,a){if(vr)return Ur(13,0,1,e,a);var c=Un();gr()[e>>2]=c.length;var h=0;return c.forEach(E=>h+=E.length+1),gr()[a>>2]=h,0};function $a(e){return vr?Ur(14,0,1,e):52}function Fa(e,a,c,h){return vr?Ur(15,0,1,e,a,c,h):52}function Pa(e,a,c,h,E){return vr?Ur(16,0,1,e,a,c,h,E):70}var eo=[null,[],[]],to=(e,a=0,c=NaN)=>{for(var h=a+c,E=a;e[E]&&!(E>=h);)++E;return qe.decode(e.buffer?e.buffer instanceof SharedArrayBuffer?e.slice(a,E):e.subarray(a,E):new Uint8Array(e.slice(a,E)))},no=(e,a)=>{var c=eo[e];a===0||a===10?((e===1?Ie:re)(to(c)),c.length=0):c.push(a)};function ka(e,a,c,h){if(vr)return Ur(17,0,1,e,a,c,h);for(var E=0,U=0;U<c;U++){var M=gr()[a>>2],D=gr()[a+4>>2];a+=8;for(var x=0;x<D;x++)no(e,Z()[M+x]);E+=D}return gr()[h>>2]=E,0}yr.init(),jt=Y.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}},Dt(),Ge=Y.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},ke(),f(),$=Y.UnboundTypeError=b(Error,"UnboundTypeError"),d();var ao=[Se,Zr,Ht,Ut,zt,Qt,rn,en,tn,ma,ba,Ta,Ea,Ca,$a,Fa,Pa,ka],Ra;function io(){Ra={$:Ke,r:Rt,x:zr,b:te,i:It,U:ln,w:wt,pa:vn,ya:Zt,e:Vt,X:Ut,wa:zt,Fa:Qt,Y:rn,va:en,ra:tn,Ja:dn,da:pn,ka:Et,Ma:Lt,L:W,La:S,z:X,d:nr,_:Vr,p:Mn,A:v,n:g,aa:P,M:kr,O:me,G:Nt,Na:yn,Ia:ra,Ca:kn,sa:yi,za:mi,na:bi,S:wi,Ba:ta,Ha:Ti,Oa:Ai,Ka:Ci,l:tr,N:$i,ca:Ri,R:Wi,Z:Ui,v:Si,F:ji,ba:Di,t:Oi,o:Mi,ia:Bi,ga:ma,ha:ba,oa:Ta,Aa:Li,T:Ni,K:Yi,Ga:qi,ta:Ki,y:wa,ua:Gi,qa:zi,Da:Ea,Ea:Ca,xa:Ye,E:$a,W:Fa,ja:Pa,V:ka,I:go,c:oo,f:po,u:ho,la:bo,H:mo,B:Ao,P:wo,D:Eo,fa:$o,ea:Fo,h:_o,k:uo,g:yo,m:fo,j:vo,J:lo,Q:co,s:To,q:so,C:Co,a:qr,ma:Se}}var Lr=br(),xn=()=>(xn=Lr.Qa)(),oa=e=>(oa=Lr.Ra)(e),Wa=e=>(Wa=Lr.Sa)(e),Ua=()=>(Ua=Lr.Ta)(),wn=e=>(wn=Lr.Ua)(e),sa=(e,a,c,h,E,U)=>(sa=Lr.Xa)(e,a,c,h,E,U),Sa=()=>(Sa=Lr.Ya)(),ja=(e,a,c,h,E)=>(ja=Lr.Za)(e,a,c,h,E),Da=e=>(Da=Lr._a)(e),ua=e=>(ua=Lr.$a)(e),Oa=(e,a)=>(Oa=Lr.ab)(e,a),Ma=()=>(Ma=Lr.bb)(),Le=(e,a)=>(Le=Lr.cb)(e,a),Va=e=>(Va=Lr.db)(e),Ia=(e,a)=>(Ia=Lr.eb)(e,a),Ha=e=>(Ha=Lr.fb)(e),xa=e=>(xa=Lr.gb)(e),Ba=()=>(Ba=Lr.hb)(),La=e=>(La=Lr.ib)(e),Na=e=>(Na=Lr.jb)(e),Ya=(e,a,c)=>(Ya=Lr.kb)(e,a,c),Ja=e=>(Ja=Lr.lb)(e);Y.dynCall_ji=(e,a)=>(Y.dynCall_ji=Lr.mb)(e,a);var qa=Y.dynCall_iij=(e,a,c,h)=>(qa=Y.dynCall_iij=Lr.nb)(e,a,c,h);Y.dynCall_jijj=(e,a,c,h,E,U)=>(Y.dynCall_jijj=Lr.ob)(e,a,c,h,E,U),Y.dynCall_vijj=(e,a,c,h,E,U)=>(Y.dynCall_vijj=Lr.pb)(e,a,c,h,E,U),Y.dynCall_jiiiii=(e,a,c,h,E,U)=>(Y.dynCall_jiiiii=Lr.qb)(e,a,c,h,E,U),Y.dynCall_jii=(e,a,c)=>(Y.dynCall_jii=Lr.rb)(e,a,c),Y.dynCall_jiiii=(e,a,c,h,E)=>(Y.dynCall_jiiii=Lr.sb)(e,a,c,h,E),Y.dynCall_jiji=(e,a,c,h,E)=>(Y.dynCall_jiji=Lr.tb)(e,a,c,h,E);var Ka=Y.dynCall_iiiiij=(e,a,c,h,E,U,M)=>(Ka=Y.dynCall_iiiiij=Lr.ub)(e,a,c,h,E,U,M);Y.dynCall_viijii=(e,a,c,h,E,U,M)=>(Y.dynCall_viijii=Lr.vb)(e,a,c,h,E,U,M),Y.dynCall_iiiiijj=(e,a,c,h,E,U,M,D,x)=>(Y.dynCall_iiiiijj=Lr.wb)(e,a,c,h,E,U,M,D,x),Y.dynCall_iiiiiijj=(e,a,c,h,E,U,M,D,x,z)=>(Y.dynCall_iiiiiijj=Lr.xb)(e,a,c,h,E,U,M,D,x,z);function oo(e,a){var c=Dr();try{return Gr(e)(a)}catch(h){if(dr(c),h!==h+0)throw h;Le(1,0)}}function so(e,a,c,h,E,U,M,D,x,z,or){var Sr=Dr();try{Gr(e)(a,c,h,E,U,M,D,x,z,or)}catch(se){if(dr(Sr),se!==se+0)throw se;Le(1,0)}}function uo(e,a){var c=Dr();try{Gr(e)(a)}catch(h){if(dr(c),h!==h+0)throw h;Le(1,0)}}function fo(e,a,c,h){var E=Dr();try{Gr(e)(a,c,h)}catch(U){if(dr(E),U!==U+0)throw U;Le(1,0)}}function lo(e,a,c,h,E,U){var M=Dr();try{Gr(e)(a,c,h,E,U)}catch(D){if(dr(M),D!==D+0)throw D;Le(1,0)}}function vo(e,a,c,h,E){var U=Dr();try{Gr(e)(a,c,h,E)}catch(M){if(dr(U),M!==M+0)throw M;Le(1,0)}}function co(e,a,c,h,E,U,M){var D=Dr();try{Gr(e)(a,c,h,E,U,M)}catch(x){if(dr(D),x!==x+0)throw x;Le(1,0)}}function po(e,a,c){var h=Dr();try{return Gr(e)(a,c)}catch(E){if(dr(h),E!==E+0)throw E;Le(1,0)}}function _o(e){var a=Dr();try{Gr(e)()}catch(c){if(dr(a),c!==c+0)throw c;Le(1,0)}}function ho(e,a,c,h){var E=Dr();try{return Gr(e)(a,c,h)}catch(U){if(dr(E),U!==U+0)throw U;Le(1,0)}}function go(e){var a=Dr();try{return Gr(e)()}catch(c){if(dr(a),c!==c+0)throw c;Le(1,0)}}function yo(e,a,c){var h=Dr();try{Gr(e)(a,c)}catch(E){if(dr(h),E!==E+0)throw E;Le(1,0)}}function mo(e,a,c,h,E,U){var M=Dr();try{return Gr(e)(a,c,h,E,U)}catch(D){if(dr(M),D!==D+0)throw D;Le(1,0)}}function bo(e,a,c,h,E,U){var M=Dr();try{return Gr(e)(a,c,h,E,U)}catch(D){if(dr(M),D!==D+0)throw D;Le(1,0)}}function wo(e,a,c,h,E,U,M,D){var x=Dr();try{return Gr(e)(a,c,h,E,U,M,D)}catch(z){if(dr(x),z!==z+0)throw z;Le(1,0)}}function To(e,a,c,h,E,U,M,D){var x=Dr();try{Gr(e)(a,c,h,E,U,M,D)}catch(z){if(dr(x),z!==z+0)throw z;Le(1,0)}}function Ao(e,a,c,h,E,U,M){var D=Dr();try{return Gr(e)(a,c,h,E,U,M)}catch(x){if(dr(D),x!==x+0)throw x;Le(1,0)}}function Eo(e,a,c,h,E,U,M,D,x,z,or,Sr){var se=Dr();try{return Gr(e)(a,c,h,E,U,M,D,x,z,or,Sr)}catch(Pt){if(dr(se),Pt!==Pt+0)throw Pt;Le(1,0)}}function Co(e,a,c,h,E,U,M,D,x,z,or,Sr,se,Pt,un,mn){var Tn=Dr();try{Gr(e)(a,c,h,E,U,M,D,x,z,or,Sr,se,Pt,un,mn)}catch(_n){if(dr(Tn),_n!==_n+0)throw _n;Le(1,0)}}function $o(e,a,c,h,E,U,M){var D=Dr();try{return Ka(e,a,c,h,E,U,M)}catch(x){if(dr(D),x!==x+0)throw x;Le(1,0)}}function Fo(e,a,c,h){var E=Dr();try{return qa(e,a,c,h)}catch(U){if(dr(E),U!==U+0)throw U;Le(1,0)}}var Bn,Ga;Pr=function e(){Bn||Xa(),Bn||(Pr=e)};function Xa(){if(Ae>0)return;if(vr){Qr(Y),Kt(),startWorker(Y);return}if(!Ga&&(Ga=1,yt(),Ae>0))return;function e(){Bn||(Bn=1,Y.calledRun=1,!kt&&(Kt(),Qr(Y),Y.onRuntimeInitialized?.(),fn()))}Y.setStatus?(Y.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>Y.setStatus(""),1),e()},1)):e()}if(Y.preInit)for(typeof Y.preInit=="function"&&(Y.preInit=[Y.preInit]);Y.preInit.length>0;)Y.preInit.pop()();return Xa(),J=Xr,J})})(),Es=globalThis.self?.name?.startsWith("em-pthread");Es&&As();var pa;(function(w){w[w.UVAdapt=0]="UVAdapt",w[w.UV420=1]="UV420",w[w.UV444=2]="UV444",w[w.UVAuto=3]="UVAuto"})(pa||(pa={}));var _a;(function(w){w[w.YCoCg=0]="YCoCg",w[w.YCbCr=1]="YCbCr",w[w.Custom=2]="Custom",w[w.YIQ=3]="YIQ"})(_a||(_a={}));pa.UVAuto,_a.YCoCg;globalThis._icodec_ImageData=(w,I,J,i)=>i===8?new Cs(w,I,J):new ti(w,I,J,i);class Cs extends ImageData{depth=8}export{Rs as avif,js as jpeg,Is as jxl,Ws as png,ei as toBitDepth,Ns as webp};
